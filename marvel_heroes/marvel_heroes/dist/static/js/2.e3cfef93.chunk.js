(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[function(t,e,n){"use strict";t.exports=n(279)},function(t,e,n){t.exports=n(286)()},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(273),i=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o="[DEFAULT]",a=[],s=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled||!1,this.options_=r.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){a.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){a=a.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed_(),this._automaticDataCollectionEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(n){Object.keys(t.services_[n]).forEach(function(r){e.push(t.services_[n][r])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=o),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==o?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;r.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(a.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),a=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&u("app-deleted",{name:this.name_})},t}();function u(t,e){throw c.create(t,e)}s.prototype.name&&s.prototype.options||s.prototype.delete||console.log("dc");var c=new r.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."}),l=!1;try{l="[object process]"===Object.prototype.toString.call(t.process)}catch(h){}l&&console.warn('\nWarning: This is a browser-targeted Firebase bundle but it appears it is being\nrun in a Node environment.  If running in a Node environment, make sure you\nare using the bundle specified by the "main" field in package.json.\n\nIf you are using Webpack, you can specify "main" as the first item in\n"resolve.mainFields":\nhttps://webpack.js.org/configuration/resolve/#resolvemainfields\n\nIf using Rollup, use the rollup-plugin-node-resolve plugin and set "module"\nto false and "main" to true:\nhttps://github.com/rollup/rollup-plugin-node-resolve\n');var f=function t(){var e={},n={},a={},c={__esModule:!0,initializeApp:function(t,n){if(void 0===n&&(n={}),"object"!==typeof n||null===n){var r=n;n={name:r}}var a=n;void 0===a.name&&(a.name=o);var l=a.name;"string"===typeof l&&l||u("bad-app-name",{name:l+""}),i(e,l)&&u("duplicate-app",{name:l});var f=new s(t,a,c);return e[l]=f,h(f,"create"),f},app:l,apps:null,Promise:Promise,SDK_VERSION:"5.9.4",INTERNAL:{registerService:function(t,e,i,o,h){n[t]&&u("duplicate-service",{name:t}),n[t]=e,o&&(a[t]=o,f().forEach(function(t){o("create",t)}));var p=function(e){return void 0===e&&(e=l()),"function"!==typeof e[t]&&u("invalid-app-argument",{name:t}),e[t]()};return void 0!==i&&r.deepExtend(p,i),c[t]=p,s.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,t).apply(this,h?e:[])},p},createFirebaseNamespace:t,extendNamespace:function(t){r.deepExtend(c,t)},createSubscribe:r.createSubscribe,ErrorFactory:r.ErrorFactory,removeApp:function(t){h(e[t],"delete"),delete e[t]},factories:n,useAsService:p,Promise:Promise,deepExtend:r.deepExtend}};function l(t){return i(e,t=t||o)||u("no-app",{name:t}),e[t]}function f(){return Object.keys(e).map(function(t){return e[t]})}function h(t,e){Object.keys(n).forEach(function(n){var r=p(t,n);null!==r&&a[r]&&a[r](e,t)})}function p(t,e){if("serverAuth"===e)return null;var n=e;return t.options,n}return r.patchProperty(c,"default",c),Object.defineProperty(c,"apps",{get:f}),r.patchProperty(l,"App",s),c}();e.default=f,e.firebase=f}).call(this,n(29))},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){"use strict";n.d(e,"a",function(){return f}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return p});var r=n(19),i=n(0),o=n.n(i),a=n(56),s=n(34),u=(n(1),n(8)),c=n(30),l=n(33),f=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=Object(s.a)(e.props),e}return Object(r.a)(e,t),e.prototype.render=function(){return o.a.createElement(a.c,{history:this.history,children:this.props.children})},e}(o.a.Component);o.a.Component;var h=function(t){function e(){return t.apply(this,arguments)||this}Object(r.a)(e,t);var n=e.prototype;return n.handleClick=function(t,e){(this.props.onClick&&this.props.onClick(t),t.defaultPrevented||0!==t.button||this.props.target&&"_self"!==this.props.target||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t))||(t.preventDefault(),(this.props.replace?e.replace:e.push)(this.props.to))},n.render=function(){var t=this,e=this.props,n=e.innerRef,r=(e.replace,e.to),i=Object(c.a)(e,["innerRef","replace","to"]);return o.a.createElement(a.d.Consumer,null,function(e){e||Object(l.a)(!1);var a="string"===typeof r?Object(s.c)(r,null,null,e.location):r,c=a?e.history.createHref(a):"";return o.a.createElement("a",Object(u.a)({},i,{onClick:function(n){return t.handleClick(n,e.history)},href:c,ref:n}))})},e}(o.a.Component);function p(t){var e=t["aria-current"],n=void 0===e?"page":e,r=t.activeClassName,i=void 0===r?"active":r,s=t.activeStyle,l=t.className,f=t.exact,p=t.isActive,d=t.location,y=t.strict,m=t.style,v=t.to,g=Object(c.a)(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to"]),b="object"===typeof v?v.pathname:v,w=b&&b.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1");return o.a.createElement(a.b,{path:w,exact:f,strict:y,location:d,children:function(t){var e=t.location,r=t.match,a=!!(p?p(r,e):r),c=a?function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(t){return t}).join(" ")}(l,i):l,f=a?Object(u.a)({},m,s):m;return o.a.createElement(h,Object(u.a)({"aria-current":a&&n||null,className:c,style:f,to:v},g))}})}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"f",function(){return u}),n.d(e,"g",function(){return c}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return f}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return d}),n.d(e,"m",function(){return y}),n.d(e,"n",function(){return m}),n.d(e,"o",function(){return v}),n.d(e,"p",function(){return g}),n.d(e,"q",function(){return b}),n.d(e,"r",function(){return w});var r={prefix:"fas",iconName:"bell",icon:[448,512,[],"f0f3","M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"]},i={prefix:"fas",iconName:"book-open",icon:[576,512,[],"f518","M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"]},o={prefix:"fas",iconName:"box",icon:[512,512,[],"f466","M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"]},a={prefix:"fas",iconName:"boxes",icon:[576,512,[],"f468","M560 288h-80v96l-32-21.3-32 21.3v-96h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16zm-384-64h224c8.8 0 16-7.2 16-16V16c0-8.8-7.2-16-16-16h-80v96l-32-21.3L256 96V0h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16zm64 64h-80v96l-32-21.3L96 384v-96H16c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16z"]},s={prefix:"fas",iconName:"coins",icon:[512,512,[],"f51e","M0 405.3V448c0 35.3 86 64 192 64s192-28.7 192-64v-42.7C342.7 434.4 267.2 448 192 448S41.3 434.4 0 405.3zM320 128c106 0 192-28.7 192-64S426 0 320 0 128 28.7 128 64s86 64 192 64zM0 300.4V352c0 35.3 86 64 192 64s192-28.7 192-64v-51.6c-41.3 34-116.9 51.6-192 51.6S41.3 334.4 0 300.4zm416 11c57.3-11.1 96-31.7 96-55.4v-42.7c-23.2 16.4-57.3 27.6-96 34.5v63.6zM192 160C86 160 0 195.8 0 240s86 80 192 80 192-35.8 192-80-86-80-192-80zm219.3 56.3c60-10.8 100.7-32 100.7-56.3v-42.7c-35.5 25.1-96.5 38.6-160.7 41.8 29.5 14.3 51.2 33.5 60 57.2z"]},u={prefix:"fas",iconName:"gem",icon:[576,512,[],"f3a5","M485.5 0L576 160H474.9L405.7 0h79.8zm-128 0l69.2 160H149.3L218.5 0h139zm-267 0h79.8l-69.2 160H0L90.5 0zM0 192h100.7l123 251.7c1.5 3.1-2.7 5.9-5 3.3L0 192zm148.2 0h279.6l-137 318.2c-1 2.4-4.5 2.4-5.5 0L148.2 192zm204.1 251.7l123-251.7H576L357.3 446.9c-2.3 2.7-6.5-.1-5-3.2z"]},c={prefix:"fas",iconName:"handshake",icon:[640,512,[],"f2b5","M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"]},l={prefix:"fas",iconName:"history",icon:[512,512,[],"f1da","M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"]},f={prefix:"fas",iconName:"home",icon:[576,512,[],"f015","M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"]},h={prefix:"fas",iconName:"minus",icon:[448,512,[],"f068","M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},p={prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},d={prefix:"fas",iconName:"search",icon:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"]},y={prefix:"fas",iconName:"sign-in-alt",icon:[512,512,[],"f2f6","M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"]},m={prefix:"fas",iconName:"sign-out-alt",icon:[512,512,[],"f2f5","M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"]},v={prefix:"fas",iconName:"star",icon:[576,512,[],"f005","M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"]},g={prefix:"fas",iconName:"stopwatch",icon:[448,512,[],"f2f2","M432 304c0 114.9-93.1 208-208 208S16 418.9 16 304c0-104 76.3-190.2 176-205.5V64h-28c-6.6 0-12-5.4-12-12V12c0-6.6 5.4-12 12-12h120c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-28v34.5c37.5 5.8 71.7 21.6 99.7 44.6l27.5-27.5c4.7-4.7 12.3-4.7 17 0l28.3 28.3c4.7 4.7 4.7 12.3 0 17l-29.4 29.4-.6.6C419.7 223.3 432 262.2 432 304zm-176 36V188.5c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12V340c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12z"]},b={prefix:"fas",iconName:"times-circle",icon:[512,512,[],"f057","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"]},w={prefix:"fas",iconName:"users",icon:[640,512,[],"f0c0","M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"]}},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return b});var r=n(9),i=n(1),o=n.n(i),a=n(0),s=n.n(a);function u(t){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){c(t,e,n[e])})}return t}function f(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function h(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var p="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{};var d,y=(function(t){!function(e){var n=function t(e,n,r){if(!u(n)||l(n)||f(n)||h(n)||s(n))return n;var i,o=0,a=0;if(c(n))for(i=[],a=n.length;o<a;o++)i.push(t(e,n[o],r));else for(var p in i={},n)Object.prototype.hasOwnProperty.call(n,p)&&(i[e(p,r)]=t(e,n[p],r));return i},r=function(t){return p(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(t,e){return e?e.toUpperCase():""})).substr(0,1).toLowerCase()+t.substr(1)},i=function(t){var e=r(t);return e.substr(0,1).toUpperCase()+e.substr(1)},o=function(t,e){return function(t,e){var n=(e=e||{}).separator||"_",r=e.split||/(?=[A-Z])/;return t.split(r).join(n)}(t,e).toLowerCase()},a=Object.prototype.toString,s=function(t){return"function"===typeof t},u=function(t){return t===Object(t)},c=function(t){return"[object Array]"==a.call(t)},l=function(t){return"[object Date]"==a.call(t)},f=function(t){return"[object RegExp]"==a.call(t)},h=function(t){return"[object Boolean]"==a.call(t)},p=function(t){return(t-=0)===t},d=function(t,e){var n=e&&"process"in e?e.process:e;return"function"!==typeof n?t:function(e,r){return n(e,t,r)}},y={camelize:r,decamelize:o,pascalize:i,depascalize:o,camelizeKeys:function(t,e){return n(d(r,e),t)},decamelizeKeys:function(t,e){return n(d(o,e),t,e)},pascalizeKeys:function(t,e){return n(d(i,e),t)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};t.exports?t.exports=y:e.humps=y}(p)}(d={exports:{}},d.exports),d.exports);var m=!1;try{m=!0}catch(E){}function v(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?c({},t,e):{}}function g(t){return null===t?null:"object"===u(t)&&t.prefix&&t.iconName?t:Array.isArray(t)&&2===t.length?{prefix:t[0],iconName:t[1]}:"string"===typeof t?{prefix:"fas",iconName:t}:void 0}function b(t){var e=t.icon,n=t.mask,i=t.symbol,o=t.className,a=t.title,s=g(e),u=v("classes",[].concat(h(function(t){var e,n=(c(e={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-inverse":t.inverse,"fa-border":t.border,"fa-li":t.listItem,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip},"fa-".concat(t.size),null!==t.size),c(e,"fa-rotate-".concat(t.rotation),null!==t.rotation),c(e,"fa-pull-".concat(t.pull),null!==t.pull),e);return Object.keys(n).map(function(t){return n[t]?t:null}).filter(function(t){return t})}(t)),h(o.split(" ")))),f=v("transform","string"===typeof t.transform?r.c.transform(t.transform):t.transform),p=v("mask",g(n)),d=Object(r.a)(s,l({},u,f,p,{symbol:i,title:a}));if(!d)return function(){var t;!m&&console&&"function"===typeof console.error&&(t=console).error.apply(t,arguments)}("Could not find icon",s),null;var y=d.abstract,E={};return Object.keys(t).forEach(function(e){b.defaultProps.hasOwnProperty(e)||(E[e]=t[e])}),w(y[0],E)}b.displayName="FontAwesomeIcon",b.propTypes={border:o.a.bool,className:o.a.string,mask:o.a.oneOfType([o.a.object,o.a.array,o.a.string]),fixedWidth:o.a.bool,inverse:o.a.bool,flip:o.a.oneOf(["horizontal","vertical","both"]),icon:o.a.oneOfType([o.a.object,o.a.array,o.a.string]),listItem:o.a.bool,pull:o.a.oneOf(["right","left"]),pulse:o.a.bool,rotation:o.a.oneOf([90,180,270]),size:o.a.oneOf(["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:o.a.bool,symbol:o.a.oneOfType([o.a.bool,o.a.string]),title:o.a.string,transform:o.a.oneOfType([o.a.string,o.a.object])},b.defaultProps={border:!1,className:"",mask:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,symbol:!1,title:"",transform:null};var w=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map(function(n){return t(e,n)}),o=Object.keys(n.attributes||{}).reduce(function(t,e){var r=n.attributes[e];switch(e){case"class":t.attrs.className=r,delete n.attributes.class;break;case"style":t.attrs.style=r.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var n,r=e.indexOf(":"),i=y.camelize(e.slice(0,r)),o=e.slice(r+1).trim();return i.startsWith("webkit")?t[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=o:t[i]=o,t},{});break;default:0===e.indexOf("aria-")||0===e.indexOf("data-")?t.attrs[e.toLowerCase()]=r:t.attrs[y.camelize(e)]=r}return t},{attrs:{}}),a=r.style,s=void 0===a?{}:a,u=f(r,["style"]);return o.attrs.style=l({},o.attrs.style,s),e.apply(void 0,[n.tag,l({},o.attrs,u)].concat(h(i)))}.bind(null,s.a.createElement)}).call(this,n(29))},function(t,e,n){t.exports=n(290)},function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";(function(t,r){function i(t){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){a(t,e,n[e])})}return t}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(e,"a",function(){return kt}),n.d(e,"b",function(){return Ot}),n.d(e,"c",function(){return xt});var c=function(){},l={},f={},h={mark:c,measure:c};try{"undefined"!==typeof window&&(l=window),"undefined"!==typeof document&&(f=document),"undefined"!==typeof MutationObserver&&MutationObserver,"undefined"!==typeof performance&&(h=performance)}catch(Pt){}var p=(l.navigator||{}).userAgent,d=void 0===p?"":p,y=l,m=f,v=h,g=(y.document,!!m.documentElement&&!!m.head&&"function"===typeof m.addEventListener&&"function"===typeof m.createElement),b=(~d.indexOf("MSIE")||d.indexOf("Trident/"),"fa"),w="svg-inline--fa",E="data-fa-i2svg",T=(function(){try{}catch(Pt){return!1}}(),[1,2,3,4,5,6,7,8,9,10]),S=T.concat([11,12,13,14,15,16,17,18,19,20]),_=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter"].concat(T.map(function(t){return"".concat(t,"x")})).concat(S.map(function(t){return"w-".concat(t)})),y.FontAwesomeConfig||{});if(m&&"function"===typeof m.querySelector){[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=u(t,2),n=e[0],r=e[1],i=function(t){return""===t||"false"!==t&&("true"===t||t)}(function(t){var e=m.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(n));void 0!==i&&null!==i&&(_[r]=i)})}var I=s({},{familyPrefix:b,replacementClass:w,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},_);I.autoReplaceSvg||(I.observeMutations=!1);var A=s({},I);y.FontAwesomeConfig=A;var O=y||{};O.___FONT_AWESOME___||(O.___FONT_AWESOME___={}),O.___FONT_AWESOME___.styles||(O.___FONT_AWESOME___.styles={}),O.___FONT_AWESOME___.hooks||(O.___FONT_AWESOME___.hooks={}),O.___FONT_AWESOME___.shims||(O.___FONT_AWESOME___.shims=[]);var C=O.___FONT_AWESOME___,x=[];g&&((m.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(m.readyState)||m.addEventListener("DOMContentLoaded",function t(){m.removeEventListener("DOMContentLoaded",t),1,x.map(function(t){return t()})}));var k,P="pending",D="settled",N="fulfilled",R="rejected",L=function(){},M="undefined"!==typeof t&&"undefined"!==typeof t.process&&"function"===typeof t.process.emit,j="undefined"===typeof r?setTimeout:r,U=[];function F(){for(var t=0;t<U.length;t++)U[t][0](U[t][1]);U=[],k=!1}function V(t,e){U.push([t,e]),k||(k=!0,j(F,0))}function q(t){var e=t.owner,n=e._state,r=e._data,i=t[n],o=t.then;if("function"===typeof i){n=N;try{r=i(r)}catch(Pt){K(o,Pt)}}B(o,r)||(n===N&&W(o,r),n===R&&K(o,r))}function B(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"===typeof e||"object"===i(e))){var r=e.then;if("function"===typeof r)return r.call(e,function(r){n||(n=!0,e===r?z(t,r):W(t,r))},function(e){n||(n=!0,K(t,e))}),!0}}catch(Pt){return n||K(t,Pt),!0}return!1}function W(t,e){t!==e&&B(t,e)||z(t,e)}function z(t,e){t._state===P&&(t._state=D,t._data=e,V(H,t))}function K(t,e){t._state===P&&(t._state=D,t._data=e,V(G,t))}function Q(t){t._then=t._then.forEach(q)}function H(t){t._state=N,Q(t)}function G(e){e._state=R,Q(e),!e._handled&&M&&t.process.emit("unhandledRejection",e._data,e)}function Y(e){t.process.emit("rejectionHandled",e)}function X(t){if("function"!==typeof t)throw new TypeError("Promise resolver "+t+" is not a function");if(this instanceof X===!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(t,e){function n(t){K(e,t)}try{t(function(t){W(e,t)},n)}catch(Pt){n(Pt)}}(t,this)}X.prototype={constructor:X,_state:P,_then:null,_data:void 0,_handled:!1,then:function(t,e){var n={owner:this,then:new this.constructor(L),fulfilled:t,rejected:e};return!e&&!t||this._handled||(this._handled=!0,this._state===R&&M&&V(Y,this)),this._state===N||this._state===R?V(q,n):this._then.push(n),n.then},catch:function(t){return this.then(null,t)}},X.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new X(function(e,n){var r=[],i=0;function o(t){return i++,function(n){r[t]=n,--i||e(r)}}for(var a,s=0;s<t.length;s++)(a=t[s])&&"function"===typeof a.then?a.then(o(s),n):r[s]=a;i||e(r)})},X.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new X(function(e,n){for(var r,i=0;i<t.length;i++)(r=t[i])&&"function"===typeof r.then?r.then(e,n):e(r)})},X.resolve=function(t){return t&&"object"===i(t)&&t.constructor===X?t:new X(function(e){e(t)})},X.reject=function(t){return new X(function(e,n){n(t)})};"function"===typeof Promise&&Promise;var $={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function J(t){if(t&&g){var e=m.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=m.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=o)}return m.head.insertBefore(e,r),t}}var Z="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function tt(){for(var t=12,e="";t-- >0;)e+=Z[62*Math.random()|0];return e}function et(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function nt(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n],";")},"")}function rt(t){return t.size!==$.size||t.x!==$.x||t.y!==$.y||t.rotate!==$.rotate||t.flipX||t.flipY}function it(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(32*e.x,", ").concat(32*e.y,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),s="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(o," ").concat(a," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var ot={x:0,y:0,width:"100%",height:"100%"};function at(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,o=t.iconName,a=t.transform,u=t.symbol,c=t.title,l=t.extra,f=t.watchable,h=void 0!==f&&f,p=r.found?r:n,d=p.width,y=p.height,m="fa-w-".concat(Math.ceil(d/y*16)),v=[A.replacementClass,o?"".concat(A.familyPrefix,"-").concat(o):"",m].filter(function(t){return-1===l.classes.indexOf(t)}).concat(l.classes).join(" "),g={children:[],attributes:s({},l.attributes,{"data-prefix":i,"data-icon":o,class:v,role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(d," ").concat(y)})};h&&(g.attributes[E]=""),c&&g.children.push({tag:"title",attributes:{id:g.attributes["aria-labelledby"]||"title-".concat(tt())},children:[c]});var b=s({},g,{prefix:i,iconName:o,main:n,mask:r,transform:a,symbol:u,styles:l.styles}),w=r.found&&n.found?function(t){var e=t.children,n=t.attributes,r=t.main,i=t.mask,o=t.transform,a=r.width,u=r.icon,c=i.width,l=i.icon,f=it({transform:o,containerWidth:c,iconWidth:a}),h={tag:"rect",attributes:s({},ot,{fill:"white"})},p={tag:"g",attributes:s({},f.inner),children:[{tag:"path",attributes:s({},u.attributes,f.path,{fill:"black"})}]},d={tag:"g",attributes:s({},f.outer),children:[p]},y="mask-".concat(tt()),m="clip-".concat(tt()),v={tag:"defs",children:[{tag:"clipPath",attributes:{id:m},children:[l]},{tag:"mask",attributes:s({},ot,{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,d]}]};return e.push(v,{tag:"rect",attributes:s({fill:"currentColor","clip-path":"url(#".concat(m,")"),mask:"url(#".concat(y,")")},ot)}),{children:e,attributes:n}}(b):function(t){var e=t.children,n=t.attributes,r=t.main,i=t.transform,o=nt(t.styles);if(o.length>0&&(n.style=o),rt(i)){var a=it({transform:i,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:s({},a.outer),children:[{tag:"g",attributes:s({},a.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:s({},r.icon.attributes,a.path)}]}]})}else e.push(r.icon);return{children:e,attributes:n}}(b),T=w.children,S=w.attributes;return b.children=T,b.attributes=S,u?function(t){var e=t.prefix,n=t.iconName,r=t.children,i=t.attributes,o=t.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:s({},i,{id:!0===o?"".concat(e,"-").concat(A.familyPrefix,"-").concat(n):o}),children:r}]}]}(b):function(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,o=t.styles,a=t.transform;if(rt(a)&&n.found&&!r.found){var u={x:n.width/n.height/2,y:.5};i.style=nt(s({},o,{"transform-origin":"".concat(u.x+a.x/16,"em ").concat(u.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(b)}var st=function(){},ut=(A.measurePerformance&&v&&v.mark&&v.measure,function(t,e,n,r){var i,o,a,s=Object.keys(t),u=s.length,c=void 0!==r?function(t,e){return function(n,r,i,o){return t.call(e,n,r,i,o)}}(e,r):e;for(void 0===n?(i=1,a=t[s[0]]):(i=0,a=n);i<u;i++)a=c(a,t[o=s[i]],o,t);return a});var ct=C.styles,lt=C.shims,ft=function(){var t=function(t){return ut(ct,function(e,n,r){return e[r]=ut(n,t,{}),e},{})};t(function(t,e,n){return e[3]&&(t[e[3]]=n),t}),t(function(t,e,n){var r=e[2];return t[n]=n,r.forEach(function(e){t[e]=n}),t});var e="far"in ct;ut(lt,function(t,n){var r=n[0],i=n[1],o=n[2];return"far"!==i||e||(i="fas"),t[r]={prefix:i,iconName:o},t},{})};ft();C.styles;function ht(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}function pt(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,o=void 0===i?[]:i;return"string"===typeof t?et(t):"<".concat(e," ").concat(function(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(et(t[n]),'" ')},"").trim()}(r),">").concat(o.map(pt).join(""),"</").concat(e,">")}var dt=function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t?t.toLowerCase().split(" ").reduce(function(t,e){var n=e.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return t.flipX=!0,t;if(r&&"v"===i)return t.flipY=!0,t;if(i=parseFloat(i),isNaN(i))return t;switch(r){case"grow":t.size=t.size+i;break;case"shrink":t.size=t.size-i;break;case"left":t.x=t.x-i;break;case"right":t.x=t.x+i;break;case"up":t.y=t.y-i;break;case"down":t.y=t.y+i;break;case"rotate":t.rotate=t.rotate+i}return t},e):e};function yt(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=(new Error).stack}yt.prototype=Object.create(Error.prototype),yt.prototype.constructor=yt;var mt={fill:"currentColor"},vt={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},gt={tag:"path",attributes:s({},mt,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})},bt=s({},vt,{attributeName:"opacity"});s({},mt,{cx:"256",cy:"364",r:"28"}),s({},vt,{attributeName:"r",values:"28;14;28;28;14;28;"}),s({},bt,{values:"1;0;1;1;0;1;"}),s({},mt,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),s({},bt,{values:"1;0;0;0;0;1;"}),s({},mt,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),s({},bt,{values:"0;0;1;1;0;0;"}),C.styles;C.styles;var wt='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}';function Et(){var t=b,e=w,n=A.familyPrefix,r=A.replacementClass,i=wt;if(n!==t||r!==e){var o=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(o,".".concat(n,"-")).replace(a,".".concat(r))}return i}function Tt(t){return{found:!0,width:t[0],height:t[1],icon:{tag:"path",attributes:{fill:"currentColor",d:t.slice(4)[0]}}}}function St(){A.autoAddCss&&!Ct&&(J(Et()),Ct=!0)}function _t(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(t){return pt(t)})}}),Object.defineProperty(t,"node",{get:function(){if(g){var e=m.createElement("div");return e.innerHTML=t.html,e.children}}}),t}function It(t){var e=t.prefix,n=void 0===e?"fa":e,r=t.iconName;if(r)return ht(Ot.definitions,n,r)||ht(C.styles,n,r)}var At,Ot=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.definitions={}}var e,n,r;return e=t,(n=[{key:"add",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(function(e){t.definitions[e]=s({},t.definitions[e]||{},i[e]),function t(e,n){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,o=Object.keys(n).reduce(function(t,e){var r=n[e];return r.icon?t[r.iconName]=r.icon:t[e]=r,t},{});"function"!==typeof C.hooks.addPack||i?C.styles[e]=s({},C.styles[e]||{},o):C.hooks.addPack(e,o),"fas"===e&&t("fa",n)}(e,i[e]),ft()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map(function(e){var r=n[e],i=r.prefix,o=r.iconName,a=r.icon;t[i]||(t[i]={}),t[i][o]=a}),t}}])&&o(e.prototype,n),r&&o(e,r),t}()),Ct=!1,xt={transform:function(t){return dt(t)}},kt=(At=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?$:n,i=e.symbol,o=void 0!==i&&i,a=e.mask,u=void 0===a?null:a,c=e.title,l=void 0===c?null:c,f=e.classes,h=void 0===f?[]:f,p=e.attributes,d=void 0===p?{}:p,y=e.styles,m=void 0===y?{}:y;if(t){var v=t.prefix,g=t.iconName,b=t.icon;return _t(s({type:"icon"},t),function(){return St(),A.autoA11y&&(l?d["aria-labelledby"]="".concat(A.replacementClass,"-title-").concat(tt()):(d["aria-hidden"]="true",d.focusable="false")),at({icons:{main:Tt(b),mask:u?Tt(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:v,iconName:g,transform:s({},$,r),symbol:o,title:l,extra:{attributes:d,styles:m,classes:h}})})}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t||{}).icon?t:It(t||{}),r=e.mask;return r&&(r=(r||{}).icon?r:It(r||{})),At(n,s({},e,{mask:r}))})}).call(this,n(29),n(186).setImmediate)},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){"use strict";var r=n(19),i=n(0),o=n(1),a=n.n(o),s=a.a.shape({trySubscribe:a.a.func.isRequired,tryUnsubscribe:a.a.func.isRequired,notifyNestedSubs:a.a.func.isRequired,isSubscribed:a.a.func.isRequired}),u=a.a.shape({subscribe:a.a.func.isRequired,dispatch:a.a.func.isRequired,getState:a.a.func.isRequired});var c=function(t){var e;void 0===t&&(t="store");var n=t+"Subscription",o=function(e){Object(r.a)(a,e);var o=a.prototype;function a(n,r){var i;return(i=e.call(this,n,r)||this)[t]=n.store,i}return o.getChildContext=function(){var e;return(e={})[t]=this[t],e[n]=null,e},o.render=function(){return i.Children.only(this.props.children)},a}(i.Component);return o.propTypes={store:u.isRequired,children:a.a.element.isRequired},o.childContextTypes=((e={})[t]=u.isRequired,e[n]=s,e),o}(),l=n(82),f=n(8),h=n(30),p=n(124),d=n.n(p),y=n(126),m=n.n(y),v=n(123),g=null,b={notify:function(){}};var w=function(){function t(t,e,n){this.store=t,this.parentSub=e,this.onStateChange=n,this.unsubscribe=null,this.listeners=b}var e=t.prototype;return e.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},e.notifyNestedSubs=function(){this.listeners.notify()},e.isSubscribed=function(){return Boolean(this.unsubscribe)},e.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=function(){var t=[],e=[];return{clear:function(){e=g,t=g},notify:function(){for(var n=t=e,r=0;r<n.length;r++)n[r]()},get:function(){return e},subscribe:function(n){var r=!0;return e===t&&(e=t.slice()),e.push(n),function(){r&&t!==g&&(r=!1,e===t&&(e=t.slice()),e.splice(e.indexOf(n),1))}}}}())},e.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=b)},t}(),E=0,T={};function S(){}function _(t,e){var n,o;void 0===e&&(e={});var a=e,c=a.getDisplayName,p=void 0===c?function(t){return"ConnectAdvanced("+t+")"}:c,y=a.methodName,g=void 0===y?"connectAdvanced":y,b=a.renderCountProp,_=void 0===b?void 0:b,I=a.shouldHandleStateChanges,A=void 0===I||I,O=a.storeKey,C=void 0===O?"store":O,x=a.withRef,k=void 0!==x&&x,P=Object(h.a)(a,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),D=C+"Subscription",N=E++,R=((n={})[C]=u,n[D]=s,n),L=((o={})[D]=s,o);return function(e){m()(Object(v.isValidElementType)(e),"You must pass a component to the function returned by "+g+". Instead received "+JSON.stringify(e));var n=e.displayName||e.name||"Component",o=p(n),a=Object(f.a)({},P,{getDisplayName:p,methodName:g,renderCountProp:_,shouldHandleStateChanges:A,storeKey:C,withRef:k,displayName:o,wrappedComponentName:n,WrappedComponent:e}),s=function(n){function s(t,e){var r;return(r=n.call(this,t,e)||this).version=N,r.state={},r.renderCount=0,r.store=t[C]||e[C],r.propsMode=Boolean(t[C]),r.setWrappedInstance=r.setWrappedInstance.bind(Object(l.a)(Object(l.a)(r))),m()(r.store,'Could not find "'+C+'" in either the context or props of "'+o+'". Either wrap the root component in a <Provider>, or explicitly pass "'+C+'" as a prop to "'+o+'".'),r.initSelector(),r.initSubscription(),r}Object(r.a)(s,n);var u=s.prototype;return u.getChildContext=function(){var t,e=this.propsMode?null:this.subscription;return(t={})[D]=e||this.context[D],t},u.componentDidMount=function(){A&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},u.componentWillReceiveProps=function(t){this.selector.run(t)},u.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},u.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=S,this.store=null,this.selector.run=S,this.selector.shouldComponentUpdate=!1},u.getWrappedInstance=function(){return m()(k,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+g+"() call."),this.wrappedInstance},u.setWrappedInstance=function(t){this.wrappedInstance=t},u.initSelector=function(){var e=t(this.store.dispatch,a);this.selector=function(t,e){var n={run:function(r){try{var i=t(e.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(o){n.shouldComponentUpdate=!0,n.error=o}}};return n}(e,this.store),this.selector.run(this.props)},u.initSubscription=function(){if(A){var t=(this.propsMode?this.props:this.context)[D];this.subscription=new w(this.store,t,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},u.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(T)):this.notifyNestedSubs()},u.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},u.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},u.addExtraProps=function(t){if(!k&&!_&&(!this.propsMode||!this.subscription))return t;var e=Object(f.a)({},t);return k&&(e.ref=this.setWrappedInstance),_&&(e[_]=this.renderCount++),this.propsMode&&this.subscription&&(e[D]=this.subscription),e},u.render=function(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return Object(i.createElement)(e,this.addExtraProps(t.props))},s}(i.Component);return s.WrappedComponent=e,s.displayName=o,s.childContextTypes=L,s.contextTypes=R,s.propTypes=R,d()(s,e)}}var I=Object.prototype.hasOwnProperty;function A(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function O(t,e){if(A(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!I.call(e,n[i])||!A(t[n[i]],e[n[i]]))return!1;return!0}var C=n(31);function x(t){return function(e,n){var r=t(e,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function k(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function P(t,e){return function(e,n){n.displayName;var r=function(t,e){return r.dependsOnOwnProps?r.mapToProps(t,e):r.mapToProps(t)};return r.dependsOnOwnProps=!0,r.mapToProps=function(e,n){r.mapToProps=t,r.dependsOnOwnProps=k(t);var i=r(e,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=k(i),i=r(e,n)),i},r}}var D=[function(t){return"function"===typeof t?P(t):void 0},function(t){return t?void 0:x(function(t){return{dispatch:t}})},function(t){return t&&"object"===typeof t?x(function(e){return Object(C.b)(t,e)}):void 0}];var N=[function(t){return"function"===typeof t?P(t):void 0},function(t){return t?void 0:x(function(){return{}})}];function R(t,e,n){return Object(f.a)({},n,t,e)}var L=[function(t){return"function"===typeof t?function(t){return function(e,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(e,n,s){var u=t(e,n,s);return a?i&&o(u,r)||(r=u):(a=!0,r=u),r}}}(t):void 0},function(t){return t?void 0:function(){return R}}];function M(t,e,n,r){return function(i,o){return n(t(i,o),e(r,o),o)}}function j(t,e,n,r,i){var o,a,s,u,c,l=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,p=!1;function d(i,p){var d=!f(p,a),y=!l(i,o);return o=i,a=p,d&&y?(s=t(o,a),e.dependsOnOwnProps&&(u=e(r,a)),c=n(s,u,a)):d?(t.dependsOnOwnProps&&(s=t(o,a)),e.dependsOnOwnProps&&(u=e(r,a)),c=n(s,u,a)):y?function(){var e=t(o,a),r=!h(e,s);return s=e,r&&(c=n(s,u,a)),c}():c}return function(i,l){return p?d(i,l):(s=t(o=i,a=l),u=e(r,a),c=n(s,u,a),p=!0,c)}}function U(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,o=Object(h.a)(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(t,o),s=r(t,o),u=i(t,o);return(o.pure?j:M)(a,s,u,t,o)}function F(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(e,r){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function V(t,e){return t===e}var q=function(t){var e=void 0===t?{}:t,n=e.connectHOC,r=void 0===n?_:n,i=e.mapStateToPropsFactories,o=void 0===i?N:i,a=e.mapDispatchToPropsFactories,s=void 0===a?D:a,u=e.mergePropsFactories,c=void 0===u?L:u,l=e.selectorFactory,p=void 0===l?U:l;return function(t,e,n,i){void 0===i&&(i={});var a=i,u=a.pure,l=void 0===u||u,d=a.areStatesEqual,y=void 0===d?V:d,m=a.areOwnPropsEqual,v=void 0===m?O:m,g=a.areStatePropsEqual,b=void 0===g?O:g,w=a.areMergedPropsEqual,E=void 0===w?O:w,T=Object(h.a)(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),S=F(t,o,"mapStateToProps"),_=F(e,s,"mapDispatchToProps"),I=F(n,c,"mergeProps");return r(p,Object(f.a)({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:S,initMapDispatchToProps:_,initMergeProps:I,pure:l,areStatesEqual:y,areOwnPropsEqual:v,areStatePropsEqual:b,areMergedPropsEqual:E},T))}}();n.d(e,"a",function(){return c}),n.d(e,"b",function(){return q})},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(47);function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){Object(r.a)(t,e,n[e])})}return t}},function(t,e,n){var r=n(35),i=n(10),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";t.exports=function(t){if(!i(t))return!1;var e=r(t);return e==a||e==s||e==o||e==u}},function(t,e){t.exports="object"==typeof window&&window&&window.Math==Math?window:"object"==typeof self&&self&&self.Math==Math?self:Function("return this")()},function(t,e,n){var r=n(178),i=n(32),o=n(179),a=n(46).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",function(){return i})},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){"use strict";function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"a",function(){return r})},function(t,e,n){var r=n(189),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.actionsPrefix="@@reactReduxFirebase",i=e.actionTypes={START:r+"/START",SET:r+"/SET",REMOVE:r+"/REMOVE",MERGE:r+"/MERGE",SET_PROFILE:r+"/SET_PROFILE",LOGIN:r+"/LOGIN",LOGOUT:r+"/LOGOUT",LOGIN_ERROR:r+"/LOGIN_ERROR",NO_VALUE:r+"/NO_VALUE",UNAUTHORIZED_ERROR:r+"/UNAUTHORIZED_ERROR",ERROR:r+"/ERROR",CLEAR_ERRORS:r+"/CLEAR_ERRORS",SET_LISTENER:r+"/SET_LISTENER",UNSET_LISTENER:r+"/UNSET_LISTENER",AUTHENTICATION_INIT_STARTED:r+"/AUTHENTICATION_INIT_STARTED",AUTHENTICATION_INIT_FINISHED:r+"/AUTHENTICATION_INIT_FINISHED",SESSION_START:r+"/SESSION_START",SESSION_END:r+"/SESSION_END",FILE_UPLOAD_START:r+"/FILE_UPLOAD_START",FILE_UPLOAD_ERROR:r+"/FILE_UPLOAD_ERROR",FILE_UPLOAD_PROGRESS:r+"/FILE_UPLOAD_PROGRESS",FILE_UPLOAD_COMPLETE:r+"/FILE_UPLOAD_COMPLETE",FILE_DELETE_START:r+"/FILE_DELETE_START",FILE_DELETE_ERROR:r+"/FILE_DELETE_ERROR",FILE_DELETE_COMPLETE:r+"/FILE_DELETE_COMPLETE",AUTH_UPDATE_START:r+"/AUTH_UPDATE_START",AUTH_UPDATE_SUCCESS:r+"/AUTH_UPDATE_SUCCESS",AUTH_UPDATE_ERROR:r+"/AUTH_UPDATE_ERROR",PROFILE_UPDATE_START:r+"/PROFILE_UPDATE_START",PROFILE_UPDATE_SUCCESS:r+"/PROFILE_UPDATE_SUCCESS",PROFILE_UPDATE_ERROR:r+"/PROFILE_UPDATE_ERROR",EMAIL_UPDATE_START:r+"/EMAIL_UPDATE_START",EMAIL_UPDATE_SUCCESS:r+"/EMAIL_UPDATE_SUCCESS",EMAIL_UPDATE_ERROR:r+"/EMAIL_UPDATE_ERROR",AUTH_RELOAD_START:r+"/AUTH_RELOAD_START",AUTH_RELOAD_ERROR:r+"/AUTH_RELOAD_ERROR",AUTH_RELOAD_SUCCESS:r+"/AUTH_RELOAD_SUCCESS",AUTH_LINK_START:r+"/AUTH_LINK_START",AUTH_LINK_ERROR:r+"/AUTH_LINK_ERROR",AUTH_LINK_SUCCESS:r+"/AUTH_LINK_SUCCESS",AUTH_EMPTY_CHANGE:r+"/AUTH_EMPTY_CHANGE"},o=e.defaultConfig={userProfile:null,presence:null,sessions:"sessions",enableLogging:!1,logErrors:!0,preserveOnLogout:null,preserveOnEmptyAuthChange:null,resetBeforeLogin:!0,updateProfileOnLogin:!0,enableRedirectHandling:!0,autoPopulateProfile:!1,setProfilePopulateResults:!1,dispatchOnUnsetListener:!0,dispatchRemoveAction:!1,enableEmptyAuthChanges:!0,firebaseStateName:"firebase",attachAuthIsReady:!1,keysToRemoveFromAuth:["appName","apiKey","authDomain","redirectEventId","stsTokenManager","uid"],keysToPreserveFromProviderData:["email","phoneNumber","photoURL","providerId","uid"]};e.supportedAuthProviders=["google","github","twitter","facebook"],e.topLevelPaths=["auth","profile","ordered","data"],e.v3ErrorMessage="Context from react-redux not found. If you are using react-redux v6 a v3.*.* version of react-redux-firebase is required. Please checkout the v3 migration guide: http://bit.ly/2SRNdiO";e.default={actionTypes:i,defaultConfig:o}},function(t,e,n){var r=n(79)("wks"),i=n(172),o=n(14).Symbol,a=n(265);t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}},function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return(i="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}var o=n(82);function a(t,e){return!e||"object"!==i(e)&&"function"!==typeof e?Object(o.a)(t):e}n.d(e,"a",function(){return a})},function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise(function(i,o){var a=t.apply(e,n);function s(t){r(a,i,o,s,u,"next",t)}function u(t){r(a,i,o,s,u,"throw",t)}s(void 0)})}}n.d(e,"a",function(){return i})},function(t,e,n){var r=n(296),i=n(338),o=n(70),a=n(3),s=n(342);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.methodsToAddFromFirestore=e.defaultConfig=e.actionTypes=e.actionsPrefix=void 0;var r="@@reduxFirestore";e.actionsPrefix=r;var i={START:"".concat(r,"/START"),ERROR:"".concat(r,"/ERROR"),CLEAR_DATA:"".concat(r,"/CLEAR_DATA"),CLEAR_ERROR:"".concat(r,"/CLEAR_ERROR"),CLEAR_ERRORS:"".concat(r,"/CLEAR_ERRORS"),SET_LISTENER:"".concat(r,"/SET_LISTENER"),UNSET_LISTENER:"".concat(r,"/UNSET_LISTENER"),GET_REQUEST:"".concat(r,"/GET_REQUEST"),GET_SUCCESS:"".concat(r,"/GET_SUCCESS"),GET_FAILURE:"".concat(r,"/GET_FAILURE"),SET_REQUEST:"".concat(r,"/SET_REQUEST"),SET_SUCCESS:"".concat(r,"/SET_SUCCESS"),SET_FAILURE:"".concat(r,"/SET_FAILURE"),ADD_REQUEST:"".concat(r,"/ADD_REQUEST"),ADD_SUCCESS:"".concat(r,"/ADD_SUCCESS"),ADD_FAILURE:"".concat(r,"/ADD_FAILURE"),UPDATE_REQUEST:"".concat(r,"/UPDATE_REQUEST"),UPDATE_SUCCESS:"".concat(r,"/UPDATE_SUCCESS"),UPDATE_FAILURE:"".concat(r,"/UPDATE_FAILURE"),DELETE_REQUEST:"".concat(r,"/DELETE_REQUEST"),DELETE_SUCCESS:"".concat(r,"/DELETE_SUCCESS"),DELETE_FAILURE:"".concat(r,"/DELETE_FAILURE"),ATTACH_LISTENER:"".concat(r,"/ATTACH_LISTENER"),LISTENER_RESPONSE:"".concat(r,"/LISTENER_RESPONSE"),LISTENER_ERROR:"".concat(r,"/LISTENER_ERROR"),ON_SNAPSHOT_REQUEST:"".concat(r,"/ON_SNAPSHOT_REQUEST"),ON_SNAPSHOT_SUCCESS:"".concat(r,"/ON_SNAPSHOT_SUCCESS"),ON_SNAPSHOT_FAILURE:"".concat(r,"/ON_SNAPSHOT_FAILURE"),DOCUMENT_ADDED:"".concat(r,"/DOCUMENT_ADDED"),DOCUMENT_MODIFIED:"".concat(r,"/DOCUMENT_MODIFIED"),DOCUMENT_REMOVED:"".concat(r,"/DOCUMENT_REMOVED"),TRANSACTION_START:"".concat(r,"/TRANSACTION_START"),TRANSACTION_SUCCESS:"".concat(r,"/TRANSACTION_SUCCESS"),TRANSACTION_FAILURE:"".concat(r,"/TRANSACTION_FAILURE")};e.actionTypes=i;var o={logListenerError:!0,enhancerNamespace:"firestore",helpersNamespace:null,allowMultipleListeners:!1,preserveOnDelete:null,preserveOnListenerError:null,onAttemptCollectionDelete:null,mergeOrdered:!0,mergeOrderedDocUpdates:!0,mergeOrderedCollectionUpdates:!0};e.defaultConfig=o;e.methodsToAddFromFirestore=["collection","configureClient","doc","batch","disableNetwork","enableNetwork","enablePersistence","ensureClientConfigured","setLogLevel","settings"];var a={actionsPrefix:r,actionTypes:i,defaultConfig:o};e.default=a},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";n.d(e,"e",function(){return s}),n.d(e,"c",function(){return c}),n.d(e,"b",function(){return f}),n.d(e,"a",function(){return d}),n.d(e,"d",function(){return p});var r=n(181),i=function(){return Math.random().toString(36).substring(7).split("").join(".")},o={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function a(t){if("object"!==typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function s(t,e,n){var i;if("function"===typeof e&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function");if("function"===typeof e&&"undefined"===typeof n&&(n=e,e=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(t,e)}if("function"!==typeof t)throw new Error("Expected the reducer to be a function.");var u=t,c=e,l=[],f=l,h=!1;function p(){f===l&&(f=l.slice())}function d(){if(h)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return c}function y(t){if("function"!==typeof t)throw new Error("Expected the listener to be a function.");if(h)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var e=!0;return p(),f.push(t),function(){if(e){if(h)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");e=!1,p();var n=f.indexOf(t);f.splice(n,1)}}}function m(t){if(!a(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(h)throw new Error("Reducers may not dispatch actions.");try{h=!0,c=u(c,t)}finally{h=!1}for(var e=l=f,n=0;n<e.length;n++){(0,e[n])()}return t}return m({type:o.INIT}),(i={dispatch:m,subscribe:y,getState:d,replaceReducer:function(t){if("function"!==typeof t)throw new Error("Expected the nextReducer to be a function.");u=t,m({type:o.REPLACE})}})[r.a]=function(){var t,e=y;return(t={subscribe:function(t){if("object"!==typeof t||null===t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(d())}return n(),{unsubscribe:e(n)}}})[r.a]=function(){return this},t},i}function u(t,e){var n=e&&e.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function c(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];0,"function"===typeof t[i]&&(n[i]=t[i])}var a,s=Object.keys(n);try{!function(t){Object.keys(t).forEach(function(e){var n=t[e];if("undefined"===typeof n(void 0,{type:o.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:o.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+o.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(c){a=c}return function(t,e){if(void 0===t&&(t={}),a)throw a;for(var r=!1,i={},o=0;o<s.length;o++){var c=s[o],l=n[c],f=t[c],h=l(f,e);if("undefined"===typeof h){var p=u(c,e);throw new Error(p)}i[c]=h,r=r||h!==f}return r?i:t}}function l(t,e){return function(){return e(t.apply(this,arguments))}}function f(t,e){if("function"===typeof t)return l(t,e);if("object"!==typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(t),r={},i=0;i<n.length;i++){var o=n[i],a=t[o];"function"===typeof a&&(r[o]=l(a,e))}return r}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}function d(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=e.map(function(t){return t(i)});return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){h(t,e,n[e])})}return t}({},n,{dispatch:r=p.apply(void 0,o)(n.dispatch)})}}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";var r=!0,i="Invariant failed";e.a=function(t,e){if(!t)throw r?new Error(i):new Error(i+": "+(e||""))}},function(t,e,n){"use strict";var r=n(8);function i(t){return"/"===t.charAt(0)}function o(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}var a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t&&t.split("/")||[],r=e&&e.split("/")||[],a=t&&i(t),s=e&&i(e),u=a||s;if(t&&i(t)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var c=void 0;if(r.length){var l=r[r.length-1];c="."===l||".."===l||""===l}else c=!1;for(var f=0,h=r.length;h>=0;h--){var p=r[h];"."===p?o(r,h):".."===p?(o(r,h),f++):f&&(o(r,h),f--)}if(!u)for(;f--;f)r.unshift("..");!u||""===r[0]||r[0]&&i(r[0])||r.unshift("");var d=r.join("/");return c&&"/"!==d.substr(-1)&&(d+="/"),d},s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var u=function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(Array.isArray(e))return Array.isArray(n)&&e.length===n.length&&e.every(function(e,r){return t(e,n[r])});var r="undefined"===typeof e?"undefined":s(e);if(r!==("undefined"===typeof n?"undefined":s(n)))return!1;if("object"===r){var i=e.valueOf(),o=n.valueOf();if(i!==e||o!==n)return t(i,o);var a=Object.keys(e),u=Object.keys(n);return a.length===u.length&&a.every(function(r){return t(e[r],n[r])})}return!1},c=n(33);function l(t){return"/"===t.charAt(0)?t:"/"+t}function f(t){return"/"===t.charAt(0)?t.substr(1):t}function h(t,e){return function(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)}(t,e)?t.substr(e.length):t}function p(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function d(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function y(t,e,n,i){var o;"string"===typeof t?(o=function(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}(t)).state=e:(void 0===(o=Object(r.a)({},t)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==e&&void 0===o.state&&(o.state=e));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function m(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&u(t.state,e.state)}function v(){var t=null;var e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,i){if(null!=t){var o="function"===typeof t?t(e,n):t;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(t){var n=!0;function r(){n&&t.apply(void 0,arguments)}return e.push(r),function(){n=!1,e=e.filter(function(t){return t!==r})}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach(function(t){return t.apply(void 0,n)})}}}n.d(e,"a",function(){return S}),n.d(e,"b",function(){return C}),n.d(e,"d",function(){return k}),n.d(e,"c",function(){return y}),n.d(e,"f",function(){return m}),n.d(e,"e",function(){return d});var g=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(t,e){e(window.confirm(t))}var w="popstate",E="hashchange";function T(){try{return window.history.state||{}}catch(t){return{}}}function S(t){void 0===t&&(t={}),g||Object(c.a)(!1);var e=window.history,n=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=t,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,f=void 0===u?b:u,m=o.keyLength,S=void 0===m?6:m,_=t.basename?p(l(t.basename)):"";function I(t){var e=t||{},n=e.key,r=e.state,i=window.location,o=i.pathname+i.search+i.hash;return _&&(o=h(o,_)),y(o,r,n)}function A(){return Math.random().toString(36).substr(2,S)}var O=v();function C(t){Object(r.a)(V,t),V.length=e.length,O.notifyListeners(V.location,V.action)}function x(t){(function(t){void 0===t.state&&navigator.userAgent.indexOf("CriOS")})(t)||D(I(t.state))}function k(){D(I(T()))}var P=!1;function D(t){if(P)P=!1,C();else{O.confirmTransitionTo(t,"POP",f,function(e){e?C({action:"POP",location:t}):function(t){var e=V.location,n=R.indexOf(e.key);-1===n&&(n=0);var r=R.indexOf(t.key);-1===r&&(r=0);var i=n-r;i&&(P=!0,M(i))}(t)})}}var N=I(T()),R=[N.key];function L(t){return _+d(t)}function M(t){e.go(t)}var j=0;function U(t){1===(j+=t)&&1===t?(window.addEventListener(w,x),i&&window.addEventListener(E,k)):0===j&&(window.removeEventListener(w,x),i&&window.removeEventListener(E,k))}var F=!1;var V={length:e.length,action:"POP",location:N,createHref:L,push:function(t,r){var i=y(t,r,A(),V.location);O.confirmTransitionTo(i,"PUSH",f,function(t){if(t){var r=L(i),o=i.key,a=i.state;if(n)if(e.pushState({key:o,state:a},null,r),s)window.location.href=r;else{var u=R.indexOf(V.location.key),c=R.slice(0,-1===u?0:u+1);c.push(i.key),R=c,C({action:"PUSH",location:i})}else window.location.href=r}})},replace:function(t,r){var i=y(t,r,A(),V.location);O.confirmTransitionTo(i,"REPLACE",f,function(t){if(t){var r=L(i),o=i.key,a=i.state;if(n)if(e.replaceState({key:o,state:a},null,r),s)window.location.replace(r);else{var u=R.indexOf(V.location.key);-1!==u&&(R[u]=i.key),C({action:"REPLACE",location:i})}else window.location.replace(r)}})},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(t){void 0===t&&(t=!1);var e=O.setPrompt(t);return F||(U(1),F=!0),function(){return F&&(F=!1,U(-1)),e()}},listen:function(t){var e=O.appendListener(t);return U(1),function(){U(-1),e()}}};return V}var _="hashchange",I={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+f(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:f,decodePath:l},slash:{encodePath:l,decodePath:l}};function A(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)}function O(t){var e=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,e>=0?e:0)+"#"+t)}function C(t){void 0===t&&(t={}),g||Object(c.a)(!1);var e=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),t),i=n.getUserConfirmation,o=void 0===i?b:i,a=n.hashType,s=void 0===a?"slash":a,u=t.basename?p(l(t.basename)):"",f=I[s],w=f.encodePath,E=f.decodePath;function T(){var t=E(A());return u&&(t=h(t,u)),y(t)}var S=v();function C(t){Object(r.a)(V,t),V.length=e.length,S.notifyListeners(V.location,V.action)}var x=!1,k=null;function P(){var t=A(),e=w(t);if(t!==e)O(e);else{var n=T(),r=V.location;if(!x&&m(r,n))return;if(k===d(n))return;k=null,function(t){if(x)x=!1,C();else{S.confirmTransitionTo(t,"POP",o,function(e){e?C({action:"POP",location:t}):function(t){var e=V.location,n=L.lastIndexOf(d(e));-1===n&&(n=0);var r=L.lastIndexOf(d(t));-1===r&&(r=0);var i=n-r;i&&(x=!0,M(i))}(t)})}}(n)}}var D=A(),N=w(D);D!==N&&O(N);var R=T(),L=[d(R)];function M(t){e.go(t)}var j=0;function U(t){1===(j+=t)&&1===t?window.addEventListener(_,P):0===j&&window.removeEventListener(_,P)}var F=!1;var V={length:e.length,action:"POP",location:R,createHref:function(t){return"#"+w(u+d(t))},push:function(t,e){var n=y(t,void 0,void 0,V.location);S.confirmTransitionTo(n,"PUSH",o,function(t){if(t){var e=d(n),r=w(u+e);if(A()!==r){k=e,function(t){window.location.hash=t}(r);var i=L.lastIndexOf(d(V.location)),o=L.slice(0,-1===i?0:i+1);o.push(e),L=o,C({action:"PUSH",location:n})}else C()}})},replace:function(t,e){var n=y(t,void 0,void 0,V.location);S.confirmTransitionTo(n,"REPLACE",o,function(t){if(t){var e=d(n),r=w(u+e);A()!==r&&(k=e,O(r));var i=L.indexOf(d(V.location));-1!==i&&(L[i]=e),C({action:"REPLACE",location:n})}})},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(t){void 0===t&&(t=!1);var e=S.setPrompt(t);return F||(U(1),F=!0),function(){return F&&(F=!1,U(-1)),e()}},listen:function(t){var e=S.appendListener(t);return U(1),function(){U(-1),e()}}};return V}function x(t,e,n){return Math.min(Math.max(t,e),n)}function k(t){void 0===t&&(t={});var e=t,n=e.getUserConfirmation,i=e.initialEntries,o=void 0===i?["/"]:i,a=e.initialIndex,s=void 0===a?0:a,u=e.keyLength,c=void 0===u?6:u,l=v();function f(t){Object(r.a)(w,t),w.length=w.entries.length,l.notifyListeners(w.location,w.action)}function h(){return Math.random().toString(36).substr(2,c)}var p=x(s,0,o.length-1),m=o.map(function(t){return y(t,void 0,"string"===typeof t?h():t.key||h())}),g=d;function b(t){var e=x(w.index+t,0,w.entries.length-1),r=w.entries[e];l.confirmTransitionTo(r,"POP",n,function(t){t?f({action:"POP",location:r,index:e}):f()})}var w={length:m.length,action:"POP",location:m[p],index:p,entries:m,createHref:g,push:function(t,e){var r=y(t,e,h(),w.location);l.confirmTransitionTo(r,"PUSH",n,function(t){if(t){var e=w.index+1,n=w.entries.slice(0);n.length>e?n.splice(e,n.length-e,r):n.push(r),f({action:"PUSH",location:r,index:e,entries:n})}})},replace:function(t,e){var r=y(t,e,h(),w.location);l.confirmTransitionTo(r,"REPLACE",n,function(t){t&&(w.entries[w.index]=r,f({action:"REPLACE",location:r}))})},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(t){var e=w.index+t;return e>=0&&e<w.entries.length},block:function(t){return void 0===t&&(t=!1),l.setPrompt(t)},listen:function(t){return l.appendListener(t)}};return w}},function(t,e,n){var r=n(57),i=n(292),o=n(293),a="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:a:u&&u in Object(t)?i(t):o(t)}},function(t,e,n){var r=n(92);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},function(t,e,n){var r=n(13),i=n(138);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e,n){var r=n(46),i=n(80);t.exports=n(55)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(14),i=n(173).f,o=n(40),a=n(116),s=n(171),u=n(267),c=n(489);t.exports=function(t,e){var n,l,f,h,p,d=t.target,y=t.global,m=t.stat;if(n=y?r:m?r[d]||s(d,{}):(r[d]||{}).prototype)for(l in e){if(h=e[l],f=t.noTargetGet?(p=i(n,l))&&p.value:n[l],!c(y?l:d+(m?".":"#")+l,t.forced)&&void 0!==f){if(typeof h===typeof f)continue;u(h,f)}(t.sham||f&&f.sham)&&o(h,"sham",!0),a(n,l,h,t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(188),o=n(427),a=w(o),s=n(430),u=w(s),c=n(431),l=w(c),f=n(432),h=w(f),p=n(433),d=w(p),y=w(n(434)),m=n(21),v=w(m),g=n(164),b=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(227));function w(t){return t&&t.__esModule?t:{default:t}}e.default=r({firebase:a.default,createFirebaseInstance:i.createFirebaseInstance,firebaseConnect:a.default,createFirebaseConnect:o.createFirebaseConnect,firestoreConnect:u.default,createFirestoreConnect:s.createFirestoreConnect,withFirebase:l.default,createWithFirebase:c.createWithFirebase,withFirestore:h.default,createWithFirestore:f.createWithFirestore,reducer:y.default,firebaseReducer:y.default,firebaseStateReducer:y.default,reduxReactFirebase:d.default,reactReduxFirebase:d.default,reduxFirebase:d.default,constants:v.default,actionTypes:m.actionTypes,getFirebase:p.getFirebase,authIsReady:g.authIsReady,helpers:b},b),t.exports=e.default},function(t,e,n){var r=n(197),i=n(91),o=n(39);t.exports=function(t){return o(t)?r(t):i(t)}},function(t,e,n){var r=n(69),i=1/0;t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}},function(t,e,n){var r=n(35),i=n(3),o=n(18),a="[object String]";t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&r(t)==a}},function(t,e,n){var r=n(55),i=n(263),o=n(62),a=n(113),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),i)try{return s(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",function(){return r})},function(t,e,n){var r=n(308),i=n(311);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e,n){var r=n(335),i=n(128),o=n(336),a=n(199),s=n(200),u=n(35),c=n(190),l=c(r),f=c(i),h=c(o),p=c(a),d=c(s),y=u;(r&&"[object DataView]"!=y(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=y(new i)||o&&"[object Promise]"!=y(o.resolve())||a&&"[object Set]"!=y(new a)||s&&"[object WeakMap]"!=y(new s))&&(y=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case h:return"[object Promise]";case p:return"[object Set]";case d:return"[object WeakMap]"}return e}),t.exports=y},function(t,e,n){var r=n(3),i=n(140),o=n(203),a=n(51);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},function(t,e,n){var r=n(141);t.exports=function(t){return null==t?"":r(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var r=n(209),i=n(349)(r);t.exports=i},function(t,e,n){var r=n(96),i=n(60);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var c=e[s],l=o?o(n[c],t[c],c,n,t):void 0;void 0===l&&(l=t[c]),a?i(n,c,l):r(n,c,l)}return n}},function(t,e,n){t.exports=!n(37)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";n.d(e,"a",function(){return E}),n.d(e,"b",function(){return A}),n.d(e,"c",function(){return y}),n.d(e,"d",function(){return d});var r=n(276),i=n.n(r),o=n(19),a=n(0),s=n.n(a),u=(n(1),n(34)),c=n(33),l=n(182),f=n.n(l),h=n(8),p=(n(123),n(30)),d=(n(124),function(t){var e=i()();return e.Provider.displayName=t+".Provider",e.Consumer.displayName=t+".Consumer",e}("Router")),y=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen(function(t){n._isMounted?n.setState({location:t}):n._pendingLocation=t})),n}Object(o.a)(e,t),e.computeRootMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var n=e.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return s.a.createElement(d.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},e}(s.a.Component);s.a.Component;var m=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(t){this.props.onUpdate&&this.props.onUpdate.call(this,this,t)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(s.a.Component);var v={},g=1e4,b=0;function w(t,e){return void 0===t&&(t="/"),void 0===e&&(e={}),"/"===t?t:function(t){if(v[t])return v[t];var e=f.a.compile(t);return b<g&&(v[t]=e,b++),e}(t)(e,{pretty:!0})}function E(t){var e=t.computedMatch,n=t.to,r=t.push,i=void 0!==r&&r;return s.a.createElement(d.Consumer,null,function(t){t||Object(c.a)(!1);var r=t.history,o=t.staticContext,a=i?r.push:r.replace,l=Object(u.c)(e?"string"===typeof n?w(n,e.params):Object(h.a)({},n,{pathname:w(n.pathname,e.params)}):n);return o?(a(l),null):s.a.createElement(m,{onMount:function(){a(l)},onUpdate:function(t,e){Object(u.f)(e.to,l)||a(l)},to:n})})}var T={},S=1e4,_=0;function I(t,e){void 0===e&&(e={}),"string"===typeof e&&(e={path:e});var n=e,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce(function(e,n){if(e)return e;var r=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=T[n]||(T[n]={});if(r[t])return r[t];var i=[],o={regexp:f()(t,i,e),keys:i};return _<S&&(r[t]=o,_++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(t);if(!u)return null;var l=u[0],h=u.slice(1),p=t===l;return o&&!p?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:p,params:a.reduce(function(t,e,n){return t[e.name]=h[n],t},{})}},null)}var A=function(t){function e(){return t.apply(this,arguments)||this}return Object(o.a)(e,t),e.prototype.render=function(){var t=this;return s.a.createElement(d.Consumer,null,function(e){e||Object(c.a)(!1);var n=t.props.location||e.location,r=t.props.computedMatch?t.props.computedMatch:t.props.path?I(n.pathname,t.props):e.match,i=Object(h.a)({},e,{location:n,match:r}),o=t.props,a=o.children,u=o.component,l=o.render;(Array.isArray(a)&&0===a.length&&(a=null),"function"===typeof a)&&(void 0===(a=a(i))&&(a=null));return s.a.createElement(d.Provider,{value:i},a&&!function(t){return 0===s.a.Children.count(t)}(a)?a:i.match?u?s.a.createElement(u,i):l?l(i):null:null)})},e}(s.a.Component);function O(t){return"/"===t.charAt(0)?t:"/"+t}function C(t,e){if(!t)return e;var n=O(t);return 0!==e.pathname.indexOf(n)?e:Object(h.a)({},e,{pathname:e.pathname.substr(n.length)})}function x(t){return"string"===typeof t?t:Object(u.e)(t)}function k(t){return function(){Object(c.a)(!1)}}function P(){}s.a.Component;s.a.Component},function(t,e,n){var r=n(20).Symbol;t.exports=r},function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var i=typeof t;return!!(e=null==e?n:e)&&("number"==i||"symbol"!=i&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(52),i=n(27),o=n(347),a=n(3);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},function(t,e,n){var r=n(211);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pathToArr=p,e.getSlashStrPath=function(t){return(0,i.default)((0,o.default)(t,/[.]/g,"/"),"/")},e.getDotStrPath=function(t){return p(t).join(".")},e.combineReducers=function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return Object.keys(t).reduce(function(r,i){return r[i]=t[i](e[i],n),r},{})}},e.pathFromMeta=function t(e){if(!e)throw new Error("Action meta is required to build path for reducers.");var n=e.collection,i=e.doc,o=e.subcollections,a=e.storeAs;if(a)return i?[a,i]:[a];if(e.path)return e.path.split("/");if(!n)throw new Error("Collection is required to construct reducer path.");var s=[n];i&&(s=[].concat(h(s),[i]));if(!o)return s;var u=o.map(t);return[].concat(h(s),h((0,r.default)(u)))},e.updateItemInArray=function(t,e,n){var r=!1,i=Array.isArray(t)?t.map(function(t){if(!t||t.id!==e)return t;r=!0;var i=n(t);return i}):[];r||i.push(n({id:e}));return i},e.createReducer=function(t,e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0;return e.hasOwnProperty(r.type)?e[r.type](n,r):n}},e.preserveValuesFromState=function(t,e,n){if((0,u.default)(e))return n?function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){f(t,e,n[e])})}return t}({},t,n):t;if((0,c.default)(e))return e(t,n);if((0,s.default)(e))return(0,a.default)(t,e);throw new Error("Invalid preserve parameter. It must be an Object or an Array.")};var r=l(n(219)),i=l(n(458)),o=l(n(247)),a=l(n(99)),s=l(n(3)),u=l(n(246)),c=l(n(13));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(t){return t?t.split(/\//).filter(function(t){return!!t}):[]}},function(t,e,n){var r=n(38);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var r=n(169),i=n(78);t.exports=function(t){return r(i(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stringToDate=e.wrapDisplayName=e.getDisplayName=e.createCallable=e.getEventsFromInput=void 0;var r,i=n(13),o=(r=i)&&r.__esModule?r:{default:r},a=n(294);Object.defineProperty(e,"getEventsFromInput",{enumerable:!0,get:function(){return a.getEventsFromInput}});e.createCallable=function(t){return(0,o.default)(t)?t:function(){return t}};var s=e.getDisplayName=function(t){return"string"===typeof t?t:t?t.displayName||t.name||"Component":void 0};e.wrapDisplayName=function(t,e){return e+"("+s(t)+")"},e.stringToDate=function(t){try{return new Date(JSON.parse(t))}catch(e){return console.error("Error parsing string to date:",e.message||e),t}}},function(t,e){t.exports=function(t,e){return t===e||t!==t&&e!==e}},function(t,e,n){var r=n(331),i=n(18),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){(function(t){var r=n(20),i=n(332),o=e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;t.exports=u}).call(this,n(137)(t))},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(35),i=n(18),o="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||i(t)&&r(t)==o}},function(t,e){t.exports=function(t){return t}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){var r=n(145);t.exports=function(t,e,n){return null==t?t:r(t,e,n)}},function(t,e,n){var r=n(91),i=n(49),o=n(39),a=n(45),s=n(353),u="[object Map]",c="[object Set]";t.exports=function(t){if(null==t)return 0;if(o(t))return a(t)?s(t):t.length;var e=i(t);return e==u||e==c?t.size:r(t).length}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e,n){var r=n(70),i=n(220),o=n(149);t.exports=function(t,e){return o(i(t,e,r),t+"")}},function(t,e){t.exports={}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r=n(14),i=n(171),o=r["__core-js_shared__"]||i("__core-js_shared__",{});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.0.0",mode:n(114)?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(46).f,i=n(32),o=n(22)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"enhancer",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"reduxFirestore",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"getFirestore",{enumerable:!0,get:function(){return r.getFirestore}}),Object.defineProperty(e,"reducer",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"firestoreReducer",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"actions",{enumerable:!0,get:function(){return o.firestoreActions}}),Object.defineProperty(e,"createFirestoreInstance",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"constants",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"actionTypes",{enumerable:!0,get:function(){return s.actionTypes}}),Object.defineProperty(e,"middleware",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"CALL_FIRESTORE",{enumerable:!0,get:function(){return u.CALL_FIRESTORE}}),e.default=e.version=void 0;var r=l(n(448)),i=c(n(456)),o=n(255),a=c(n(252)),s=l(n(28)),u=l(n(477));function c(t){return t&&t.__esModule?t:{default:t}}function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}e.version="0.7.3";var f={version:"0.7.3",reducer:i.default,firestoreReducer:i.default,enhancer:r.default,reduxFirestore:r.default,createFirestoreInstance:a.default,actions:o.firestoreActions,getFirestore:r.getFirestore,constants:s.default,actionTypes:s.actionTypes,middleware:u.default,CALL_FIRESTORE:u.CALL_FIRESTORE};e.default=f},function(t,e,n){var r=n(85),i=n(303),o=n(304),a=n(305),s=n(306),u=n(307);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,t.exports=c},function(t,e,n){var r=n(298),i=n(299),o=n(300),a=n(301),s=n(302);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(65);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(48)(Object,"create");t.exports=r},function(t,e,n){var r=n(320);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(333),i=n(90),o=n(139),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){var r=n(68),i=n(334),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(50),i=n(44);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},function(t,e,n){var r=n(134),i=n(346);t.exports=function t(e,n,o,a,s){var u=-1,c=e.length;for(o||(o=i),s||(s=[]);++u<c;){var l=e[u];n>0&&o(l)?n>1?t(l,n-1,o,a,s):r(s,l):a||(s[s.length]=l)}return s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.promisesForPopulate=e.populateList=e.getPopulateChild=e.getPopulates=e.getPopulateObjs=e.getChildType=e.getPopulateObj=void 0;var r=d(n(95)),i=d(n(144)),o=d(n(72)),a=d(n(97)),s=d(n(36)),u=d(n(59)),c=d(n(10)),l=d(n(13)),f=d(n(3)),h=d(n(45)),p=d(n(212));function d(t){return t&&t.__esModule?t:{default:t}}var y=e.getPopulateObj=function(t){if(!(0,h.default)(t))return t;var e=t.split(":");return{child:e[0],root:e[1]}},m=(e.getChildType=function(t){return(0,h.default)(t)?"string":(0,f.default)(t)?"array":(0,c.default)(t)?"object":"other"},e.getPopulateObjs=function(t){return(0,f.default)(t)?t.map(function(t){return(0,c.default)(t)?t:y(t)}):t}),v=(e.getPopulates=function(t){var e=(0,p.default)(t,function(t){return-1!==t.indexOf("populate")||(0,c.default)(t)&&t.populates}).map(function(t){return t.split("=")[1]});return e.length?e.map(y):null},e.getPopulateChild=function(t,e,n){return t.database().ref().child(e.root+"/"+n).once("value").then(function(t){return t.val()})}),g=e.populateList=function(t,e,n,r){return r[n.root]||(0,o.default)(r,n.root,{}),Promise.all((0,u.default)(e,function(e,i){var a=!0===e||n.populateByKey?i:e;return v(t,n,a).then(function(t){return t?(0,o.default)(r,n.root+"."+a,t):r})}))},b=e.promisesForPopulate=function(t,e,n,u){var p=[],d={},b=m((0,l.default)(u)?u(e,n):u);return(0,r.default)(b,function(t){return(0,i.default)(n,t.child)})?(0,a.default)(b,function(e){return(0,h.default)((0,s.default)(n,e.child))?p.push(v(t,e,(0,s.default)(n,e.child)).then(function(t){t&&(0,o.default)(d,e.root+"."+(0,s.default)(n,e.child),t)})):p.push(g(t,(0,s.default)(n,e.child),e,d))}):(0,a.default)(n,function(e,n){var r=y((0,l.default)(u)?u(n,e):u);(0,a.default)(r,function(n){var r=(0,s.default)(e,n.child);if(r)return(0,h.default)(r)?p.push(v(t,n,r).then(function(t){return t&&(0,o.default)(d,n.root+"."+r,t),d})):(0,f.default)(r)||(0,c.default)(r)?p.push(g(t,r,n,d)):void 0})}),Promise.all(p).then(function(){return d})};e.default={promisesForPopulate:b}},function(t,e,n){var r=n(192),i=n(27),o=n(350),a=n(3),s=n(143);t.exports=function(t,e,n){var u=a(t)?r:o;return n&&s(t,e,n)&&(e=void 0),u(t,i(e,3))}},function(t,e,n){var r=n(60),i=n(65),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(98),i=n(53),o=n(352),a=n(3);t.exports=function(t,e){return(a(t)?r:i)(t,o(e))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(358),i=n(148)(function(t,e){return null==t?{}:r(t,e)});t.exports=i},function(t,e,n){var r=n(52),i=n(101),o=n(142),a=n(50),s=n(54),u=n(375),c=n(148),l=n(151),f=c(function(t,e){var n={};if(null==t)return n;var c=!1;e=r(e,function(e){return e=a(e,t),c||(c=e.length>1),e}),s(t,l(t),n),c&&(n=i(n,7,u));for(var f=e.length;f--;)o(n,e[f]);return n});t.exports=f},function(t,e,n){var r=n(84),i=n(98),o=n(96),a=n(222),s=n(361),u=n(223),c=n(75),l=n(364),f=n(365),h=n(194),p=n(151),d=n(49),y=n(366),m=n(367),v=n(226),g=n(3),b=n(67),w=n(371),E=n(10),T=n(373),S=n(43),_=1,I=2,A=4,O="[object Arguments]",C="[object Function]",x="[object GeneratorFunction]",k="[object Object]",P={};P[O]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[k]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[C]=P["[object WeakMap]"]=!1,t.exports=function t(e,n,D,N,R,L){var M,j=n&_,U=n&I,F=n&A;if(D&&(M=R?D(e,N,R,L):D(e)),void 0!==M)return M;if(!E(e))return e;var V=g(e);if(V){if(M=y(e),!j)return c(e,M)}else{var q=d(e),B=q==C||q==x;if(b(e))return u(e,j);if(q==k||q==O||B&&!R){if(M=U||B?{}:v(e),!j)return U?f(e,s(M,e)):l(e,a(M,e))}else{if(!P[q])return R?e:{};M=m(e,q,j)}}L||(L=new r);var W=L.get(e);if(W)return W;if(L.set(e,M),T(e))return e.forEach(function(r){M.add(t(r,n,D,r,e,L))}),M;if(w(e))return e.forEach(function(r,i){M.set(i,t(r,n,D,i,e,L))}),M;var z=F?U?p:h:U?keysIn:S,K=V?void 0:z(e);return i(K||e,function(r,i){K&&(r=e[i=r]),o(M,i,t(r,n,D,i,e,L))}),M}},function(t,e,n){var r=n(197),i=n(362),o=n(39);t.exports=function(t){return o(t)?r(t,!0):i(t)}},function(t,e,n){var r=n(10),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e,n){var r=n(387),i=n(389);t.exports=function(t,e,n){return r(i,t,e,n)}},function(t,e,n){var r=n(103),i=n(10);t.exports=function(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=r(t.prototype),o=t.apply(n,e);return i(o)?o:n}}},function(t,e,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,l=c&&c(Object);t.exports=function t(e,n,f){if("string"!==typeof n){if(l){var h=c(n);h&&h!==l&&t(e,h,f)}var p=a(n);s&&(p=p.concat(s(n)));for(var d=0;d<p.length;++d){var y=p[d];if(!r[y]&&!i[y]&&(!f||!f[y])){var m=u(n,y);try{o(e,y,m)}catch(v){}}}return e}return e}},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.firestoreRef=C,e.getQueryName=P,e.getBaseQueryName=function(t){if((0,v.default)(t))return t;var e=t.collection,n=t.subcollections,r=E(t,["collection","subcollections"]);if(!e)throw new Error("Collection is required to build query name");var i=e;if(n){var o=n.map(function(t){return P(t)});i="".concat(i,"/").concat(o.join("/"))}var a=x(r);if(!(0,h.default)(a)){if(a.where&&!(0,m.default)(a.where))throw new Error("where parameter must be an array.");i=i.concat("?",k(a))}return i},e.listenerExists=function(t,e){D(t,e);var n=P(e);return!!t._.listeners[n]},e.attachListener=function(t,e,n,r){D(t,n);var i=P(n);t._.listeners[i]||(t._.listeners[i]=r);return e({type:g.actionTypes.SET_LISTENER,meta:n,payload:{name:i}}),t._.listeners},e.detachListener=function(t,e,n){var r=P(n);t._.listeners[r]&&(t._.listeners[r](),delete t._.listeners[r]);e({type:g.actionTypes.UNSET_LISTENER,meta:n,payload:{name:r}})},e.queryStrToObj=N,e.getQueryConfig=R,e.getQueryConfigs=function(t){if((0,m.default)(t))return t.map(R);if((0,v.default)(t))return N(t);if((0,d.default)(t))return[R(t)];throw new Error("Querie(s) must be an Array or a string.")},e.orderedFromSnap=L,e.dataByIdSnapshot=M,e.getPopulateChild=j,e.populateList=U,e.promisesForPopulate=V,e.dispatchListenerResponse=function(t){var e=t.dispatch,n=t.docData,i=t.meta,o=t.firebase._.config||{},a=o.mergeOrdered,s=o.mergeOrderedDocUpdates,u=o.mergeOrderedCollectionUpdates,c="function"===typeof n.docChanges?n.docChanges():n.docChanges;c&&c.length<n.size?c.forEach(function(t){e(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=T({},(0,r.default)(e),{path:t.doc.ref.path});e.subcollections&&!e.storeAs?n.subcollections[0]=T({},n.subcollections[0],{doc:t.doc.id}):n.doc=t.doc.id;return{type:q[t.type]||g.actionTypes.DOCUMENT_MODIFIED,meta:n,payload:{data:t.doc.data(),ordered:{oldIndex:t.oldIndex,newIndex:t.newIndex}}}}(t,i))}):e({type:g.actionTypes.LISTENER_RESPONSE,meta:i,payload:{data:M(n),ordered:L(n)},merge:{docs:a&&s,collections:a&&u}})},e.getPopulateActions=function(t){var e=t.firebase,n=t.docData,r=t.meta;return V(e,n.id,M(n),r.populates).then(function(t){return Object.keys(t).map(function(e){return{meta:{collection:e},payload:{data:t[e]},requesting:!1,requested:!0}})}).catch(function(t){return console.error("Error with populate:",t,r),Promise.reject(t)})};var r=b(n(452)),i=b(n(95)),o=b(n(72)),a=b(n(36)),s=b(n(59)),u=b(n(144)),c=b(n(97)),l=b(n(453)),f=b(n(73)),h=b(n(455)),p=b(n(215)),d=b(n(10)),y=b(n(13)),m=b(n(3)),v=b(n(45)),g=n(28);function b(t){return t&&t.__esModule?t:{default:t}}function w(t){return function(t){if(Array.isArray(t))return t}(t)||I(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function E(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){S(t,e,n[e])})}return t}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||I(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function I(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function A(t,e){if(!(0,m.default)(e))throw new Error("where parameter must be an array.");return(0,v.default)(e[0])?e.length>1?t.where.apply(t,_(e)):t.where(e[0]):e.reduce(function(t,e){return A(t,e)},t)}function O(t,e){if(!(0,m.default)(e)&&!(0,v.default)(e))throw new Error("orderBy parameter must be an array or string.");return(0,v.default)(e)?t.orderBy(e):(0,v.default)(e[0])?t.orderBy.apply(t,_(e)):e.reduce(function(t,e){return O(t,e)},t)}function C(t,e){if(!t.firestore)throw new Error("Firestore must be required and initalized.");var n=e.collection,r=e.doc,i=e.subcollections,o=e.where,a=e.orderBy,s=e.limit,u=e.startAt,l=e.startAfter,f=e.endAt,h=e.endBefore,p=t.firestore().collection(n);return r&&(p=p.doc(r)),p=function t(e,n){return n&&(0,c.default)(n,function(n){if(n.collection){if(!(0,y.default)(e.collection))throw new Error('Collection can only be run on a document. Check that query config for subcollection: "'.concat(n.collection,'" contains a doc parameter.'));e=e.collection(n.collection)}n.doc&&(e=e.doc(n.doc)),n.where&&(e=A(e,n.where)),n.orderBy&&(e=O(e,n.orderBy)),n.limit&&(e=e.limit(n.limit)),n.startAt&&(e=e.startAt(n.startAt)),n.startAfter&&(e=e.startAfter(n.startAfter)),n.endAt&&(e=e.endAt(n.endAt)),n.endBefore&&(e=e.endBefore(n.endBefore)),e=t(e,n.subcollections)}),e}(p,i),o&&(p=A(p,o)),a&&(p=O(p,a)),s&&(p=p.limit(s)),u&&(p=p.startAt(u)),l&&(p=p.startAfter(l)),f&&(p=p.endAt(f)),h&&(p=p.endBefore(h)),p}function x(t){return["where","orderBy","limit","startAfter","startAt","endAt","endBefore"].reduce(function(e,n){return t[n]?T({},e,S({},n,t[n])):e},{})}function k(t){return Object.keys(t).filter(function(e){return void 0!==t[e]}).map(function(e){return function t(e,n){return(0,v.default)(n)||(0,p.default)(n)?"".concat(e,"=").concat(n):(0,v.default)(n[0])?"".concat(e,"=").concat(n.join(":")):n&&n.toString?"".concat(e,"=").concat(n.toString()):n.map(function(n){return t(e,n)})}(e,t[e])}).join("&")}function P(t){if((0,v.default)(t))return t;var e=t.collection,n=t.doc,r=t.subcollections,i=t.storeAs,o=E(t,["collection","doc","subcollections","storeAs"]);if(!e)throw new Error("Collection is required to build query name");if(i)return i;var a=e;if(n&&(a=a.concat("/".concat(n))),r){var s=r.map(function(t){return P(t)});a="".concat(a,"/").concat(s.join("/"))}var u=x(o);if(!(0,h.default)(u)){if(u.where&&!(0,m.default)(u.where))throw new Error("where parameter must be an array.");a=a.concat("?",k(u))}return a}function D(t,e){if(!e)throw new Error("Meta data is required to attach listener.");if(!(0,u.default)(t,"_.listeners"))throw new Error("Internal Firebase object required to attach listener. Confirm that reduxFirestore enhancer was added when you were creating your store")}function N(t,e){var n=w(e||(0,l.default)(t,["/"]).split("/")),r=n[0],i=n[1],o=n.slice(2),a={};return r&&(a.collection=r),i&&(a.doc=i),o.length&&(a.subcollections=[N("",o)]),a}function R(t){if((0,v.default)(t))return N(t);if((0,d.default)(t)){if(!t.collection&&!t.doc)throw new Error("Collection and/or Doc are required parameters within query definition object.");return t}throw new Error("Invalid Path Definition: Only Strings and Objects are accepted.")}function L(t){var e=[];if(t.data&&t.exists){var n=(0,d.default)(t.data())?T({id:t.id},t.data()||t.data):{id:t.id,data:t.data()};e.push(n)}else t.forEach&&t.forEach(function(t){var n=(0,d.default)(t.data())?T({id:t.id},t.data()||t.data):{id:t.id,data:t.data()};e.push(n)});return e}function M(t){var e={};return t.data&&t.exists?e[t.id]=t.data():t.forEach&&t.forEach(function(t){e[t.id]=t.data()||t}),(0,f.default)(e)?e:null}function j(t,e,n){return C(t,{collection:e.root,doc:n}).get().then(function(t){return Object.assign({id:n},t.data())})}function U(t,e,n,r){return r[n.root]||(0,o.default)(r,n.root,{}),Promise.all((0,s.default)(e,function(e,i){var a=!0===e||n.populateByKey?i:e;return j(t,n,a).then(function(t){return t?(0,o.default)(r,"".concat(n.root,".").concat(a),t):r})}))}function F(t){if(!(0,v.default)(t))return t;var e=t.split(":");return{child:e[0],root:e[1]}}function V(t,e,n,r){var s,l=[],f={},h=(s=(0,y.default)(r)?r(e,n):r,(0,m.default)(s)?s.map(function(t){return(0,d.default)(t)?t:F(t)}):s);return(0,i.default)(h,function(t){return(0,u.default)(n,t.child)})?(0,c.default)(h,function(e){return(0,v.default)((0,a.default)(n,e.child))?l.push(j(t,e,(0,a.default)(n,e.child)).then(function(t){t&&(0,o.default)(f,"".concat(e.root,".").concat((0,a.default)(n,e.child)),t)})):l.push(U(t,(0,a.default)(n,e.child),e,f))}):(0,c.default)(n,function(e,n){var i=F((0,y.default)(r)?r(n,e):r);(0,c.default)(i,function(n){var r=(0,a.default)(e,n.child);if(r)return(0,v.default)(r)?l.push(j(t,n,r).then(function(t){return t&&(0,o.default)(f,"".concat(n.root,".").concat(r),t),f})):(0,m.default)(r)||(0,d.default)(r)?l.push(U(t,r,n,f)):void 0})}),Promise.all(l).then(function(){return f})}var q={added:g.actionTypes.DOCUMENT_ADDED,removed:g.actionTypes.DOCUMENT_REMOVED,modified:g.actionTypes.DOCUMENT_MODIFIED}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(78);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(112),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(38);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=!1},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(14),i=n(40),o=n(32),a=n(171),s=n(266),u=n(117),c=u.get,l=u.enforce,f=String(s).split("toString");n(79)("inspectSource",function(t){return s.call(t)}),(t.exports=function(t,e,n,s){var u=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||i(n,"name",e),l(n).source=f.join("string"==typeof e?e:"")),t!==r?(u?!h&&t[e]&&(c=!0):delete t[e],c?t[e]=n:i(t,e,n)):c?t[e]=n:a(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&c(this).source||s.call(this)})},function(t,e,n){var r,i,o,a=n(485),s=n(38),u=n(40),c=n(32),l=n(118),f=n(119),h=n(14).WeakMap;if(a){var p=new h,d=p.get,y=p.has,m=p.set;r=function(t,e){return m.call(p,t,e),e},i=function(t){return d.call(p,t)||{}},o=function(t){return y.call(p,t)}}else{var v=l("state");f[v]=!0,r=function(t,e){return u(t,v,e),e},i=function(t){return c(t,v)?t[v]:{}},o=function(t){return c(t,v)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!s(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var r=n(79)("keys"),i=n(172);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports={}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(268),i=n(175);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(14),i=n(261),o=Function.call;t.exports=function(t,e,n){return i(o,r[t].prototype[e],n)}},function(t,e,n){"use strict";t.exports=n(288)},function(t,e,n){"use strict";var r=n(123),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(d){var i=p(n);i&&i!==d&&t(e,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(e),y=u(n),m=0;m<a.length;++m){var v=a[m];if(!o[v]&&(!r||!r[v])&&(!y||!y[v])&&(!s||!s[v])){var g=h(n,v);try{c(e,v,g)}catch(b){}}}return e}return e}},,function(t,e,n){"use strict";t.exports=function(t,e,n,r,i,o,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(u=new Error(e.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(t,e,n){"use strict";n(478);var r,i=(r=n(2))&&"object"===typeof r&&"default"in r?r.default:r;t.exports=i},function(t,e,n){var r=n(48)(n(20),"Map");t.exports=r},function(t,e,n){var r=n(312),i=n(319),o=n(321),a=n(322),s=n(323);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(324),i=n(18);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!==e&&n!==n:r(e,n,o,a,t,s))}},function(t,e,n){var r=n(129),i=n(325),o=n(326);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(136),i=n(196),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),function(e){return o.call(t,e)}))}:i;t.exports=s},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e,n){(function(t){var r=n(189),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=s}).call(this,n(137)(t))},function(t,e,n){var r=n(3),i=n(69),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||a.test(t)||!o.test(t)||null!=e&&t in Object(e)}},function(t,e,n){var r=n(57),i=n(52),o=n(3),a=n(69),s=1/0,u=r?r.prototype:void 0,c=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return c?c.call(e):"";var n=e+"";return"0"==n&&1/e==-s?"-0":n}},function(t,e,n){var r=n(50),i=n(71),o=n(207),a=n(44);t.exports=function(t,e){return e=r(e,t),null==(t=o(t,e))||delete t[a(i(e))]}},function(t,e,n){var r=n(65),i=n(39),o=n(58),a=n(10);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},function(t,e,n){var r=n(351),i=n(205);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e,n){var r=n(96),i=n(50),o=n(58),a=n(10),s=n(44);t.exports=function(t,e,n,u){if(!a(t))return t;for(var c=-1,l=(e=i(e,t)).length,f=l-1,h=t;null!=h&&++c<l;){var p=s(e[c]),d=n;if(c!=f){var y=h[p];void 0===(d=u?u(y,p,h):void 0)&&(d=a(y)?y:o(e[c+1])?[]:{})}r(h,p,d),h=h[p]}return t}},function(t,e){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return n.test(t)}},function(t,e,n){var r=n(60),i=n(209),o=n(27);t.exports=function(t,e){var n={};return e=o(e,3),i(t,function(t,i,o){r(n,i,e(t,i,o))}),n}},function(t,e,n){var r=n(219),i=n(220),o=n(149);t.exports=function(t){return o(i(t,void 0,r),t+"")}},function(t,e,n){var r=n(359),i=n(221)(r);t.exports=i},function(t,e,n){var r=n(198)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(195),i=n(224),o=n(102);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(193);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e,n){var r=n(35),i=n(150),o=n(18),a="[object Object]",s=Function.prototype,u=Object.prototype,c=s.toString,l=u.hasOwnProperty,f=c.call(Object);t.exports=function(t){if(!o(t)||r(t)!=a)return!1;var e=i(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}},function(t,e,n){var r=n(84),i=n(228),o=n(210),a=n(379),s=n(10),u=n(102),c=n(229);t.exports=function t(e,n,l,f,h){e!==n&&o(n,function(o,u){if(s(o))h||(h=new r),a(e,n,u,l,t,f,h);else{var p=f?f(c(e,u),o,u+"",e,n,h):void 0;void 0===p&&(p=o),i(e,u,p)}},u)}},function(t,e,n){var r=n(39),i=n(18);t.exports=function(t){return i(t)&&r(t)}},function(t,e,n){var r=n(76),i=n(143);t.exports=function(t){return r(function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++r<o;){var u=n[r];u&&t(e,u,r,a)}return e})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recursiveUnset=e.preserveValuesFromState=e.combineReducers=void 0;var r=h(n(386)),i=h(n(3)),o=h(n(99)),a=h(n(246)),s=h(n(13)),u=h(n(73)),c=h(n(247)),l=h(n(36)),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function h(t){return t&&t.__esModule?t:{default:t}}function p(t){return t?t.split(/\//).filter(function(t){return!!t}):[]}e.pathToArr=p,e.getSlashStrPath=function(t){return p(t).join("/")},e.getDotStrPath=function(t){return p(t).join(".")};e.combineReducers=function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];return Object.keys(t).reduce(function(r,i){return r[i]=t[i](e[i],n),r},{})}},e.preserveValuesFromState=function(t,e,n){if((0,s.default)(e))return e(t,n);if((0,a.default)(e)&&e)return n?f({},t,n):t;if((0,i.default)(e))return(0,o.default)(t,e);throw new Error("Invalid preserve parameter. It must be an Object or an Array")},e.recursiveUnset=function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return n;if((0,u.default)((0,l.default)(n,e))>0&&i)return n;var o=(0,r.default)(e,n);return t(e.match(/\./)?(0,c.default)(e,/\.[^.]*$/,""):"",o,!0)}},function(t,e,n){var r=n(232),i=n(391),o=n(392),a=n(234),s=n(406),u=n(238),c=n(407),l=n(241),f=n(242),h=n(244),p="Expected a function",d=1,y=2,m=8,v=16,g=32,b=64,w=Math.max;t.exports=function(t,e,n,E,T,S,_,I){var A=e&y;if(!A&&"function"!=typeof t)throw new TypeError(p);var O=E?E.length:0;if(O||(e&=~(g|b),E=T=void 0),_=void 0===_?_:w(h(_),0),I=void 0===I?I:h(I),O-=T?T.length:0,e&b){var C=E,x=T;E=T=void 0}var k=A?void 0:u(t),P=[t,e,n,E,T,C,x,S,_,I];if(k&&c(P,k),t=P[0],e=P[1],n=P[2],E=P[3],T=P[4],!(I=P[9]=void 0===P[9]?A?0:t.length:w(P[9]-O,0))&&e&(m|v)&&(e&=~(m|v)),e&&e!=d)D=e==m||e==v?o(t,e,I):e!=g&&e!=(d|g)||T.length?a.apply(void 0,P):s(t,e,n,E);else var D=i(t,e,n);return f((k?r:l)(D,P),t,e)}},function(t,e,n){var r=n(103),i=n(160),o=4294967295;function a(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=o,this.__views__=[]}a.prototype=r(i.prototype),a.prototype.constructor=a,t.exports=a},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(162);t.exports=function(t,e){return!(null==t||!t.length)&&r(t,e,0)>-1}},function(t,e,n){var r=n(402),i=n(403),o=n(404);t.exports=function(t,e,n){return e===e?o(t,e,n):r(t,i,n)}},function(t,e){var n="__lodash_placeholder__";t.exports=function(t,e){for(var r=-1,i=t.length,o=0,a=[];++r<i;){var s=t[r];s!==e&&s!==n||(t[r]=n,a[o++]=r)}return a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updateProfileOnFirestore=e.updateProfileOnRTDB=e.createAuthIsReady=e.authIsReady=e.getLoginMethodAndParams=void 0;var r=u(n(13)),i=u(n(45)),o=u(n(3)),a=u(n(417));e.setupPresence=function(t,e){if(!e.database||!e.database.ServerValue)return;var n=e.database().ref(),i=e._,o=i.config,a=o.presence,u=o.sessions,c=i.authUid,l=n.child(".info/connected"),f=n.child((0,r.default)(a)?a(e.auth().currentUser,e):a).child(c),h=(0,r.default)(u)?u(e.auth().currentUser,e):u;h&&(h=n.child(u));l.on("value",function(n){if(n.val()){if(h){t({type:s.actionTypes.SESSION_START,payload:c});var i=h.push({startedAt:e.database.ServerValue.TIMESTAMP,user:c});(0,r.default)(i.setPriority)&&i.setPriority(c),i.child("endedAt").onDisconnect().set(e.database.ServerValue.TIMESTAMP,function(){t({type:s.actionTypes.SESSION_END})})}f.set(!0),f.onDisconnect().remove()}})};var s=n(21);function u(t){return t&&t.__esModule?t:{default:t}}e.getLoginMethodAndParams=function(t,e){var n=e.email,u=e.password,c=e.provider,l=e.type,f=e.token,h=e.scopes,p=e.phoneNumber,d=e.applicationVerifier,y=e.credential;if(y)return t.auth().signInAndRetrieveDataWithCredential?{method:"signInAndRetrieveDataWithCredential",params:[y]}:{method:"signInWithCredential",params:[y]};if(c){if(-1===s.supportedAuthProviders.indexOf(c.toLowerCase()))throw new Error(c+" is not a valid Auth Provider");if(f)throw new Error("provider with token no longer supported, use credential parameter instead");var m=function(t,e,n){var s=(0,a.default)(e)+"AuthProvider";if(!t.auth[s])throw new Error(e+" is not a valid auth provider for your firebase instance. If using react-native, use a RN specific auth library.");var u=new t.auth[s],c=t._.config.customAuthParameters;return c&&c[e]&&u.setCustomParameters(c[e]),"twitter"!==e.toLowerCase()&&(0,r.default)(u.addScope)?(u.addScope("email"),n&&((0,o.default)(n)&&n.forEach(function(t){u.addScope(t)}),(0,i.default)(n)&&u.addScope(n)),u):u}(t,c,h);return"popup"===l?{method:"signInWithPopup",params:[m]}:{method:"signInWithRedirect",params:[m]}}if(f)return t.auth().signInAndRetrieveDataWithCustomToken?{method:"signInAndRetrieveDataWithCustomToken",params:[f]}:{method:"signInWithCustomToken",params:[f]};if(p){if(!d)throw new Error("Application verifier is required for phone authentication");return{method:"signInWithPhoneNumber",params:[p,d]}}return t.auth().signInWithEmailAndPassword?{method:"signInWithEmailAndPassword",params:[n,u]}:{method:"signInAndRetrieveDataWithEmailAndPassword",params:[n,u]}};var c=function(t,e){var n=t.getState(),r=e?n[e]:n;if(!(r&&r.auth))throw new Error("The Firebase auth state could not be found in the store under the attribute '"+(e?e+".":"")+"auth'. Make sure your react-redux-firebase reducer is correctly set in the store");return r.auth.isLoaded},l=e.authIsReady=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"firebase";return new Promise(function(n){if(c(t,e))n();else var r=t.subscribe(function(){c(t,e)&&(r(),n())})})};e.createAuthIsReady=function(t,e){return(0,r.default)(e.authIsReady)?e.authIsReady(t,e):l(t,e.firebaseStateName)},e.updateProfileOnRTDB=function(t,e){var n=t.database,r=t._,i=r.config,o=r.authUid,a=n().ref(i.userProfile+"/"+o);return a.update(e).then(function(){return a.once("value")})},e.updateProfileOnFirestore=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.useSet,i=void 0===r||r,o=n.merge,a=void 0===o||o,s=t.firestore,u=t._,c=u.config,l=u.authUid,f=s().doc(c.userProfile+"/"+l);return(i?f.set(e,{merge:a}):f.update(e)).then(function(){return f.get()})}},function(t,e,n){var r=n(208);t.exports=function(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:r(t,e,n)}},function(t,e,n){var r=n(420),i=n(146),o=n(421);t.exports=function(t){return i(t)?o(t):r(t)}},function(t,e,n){var r=n(130);t.exports=function(t,e){return r(t,e)}},function(t,e,n){var r=n(104)("assign",n(436));r.placeholder=n(77),t.exports=r},function(t,e,n){var r=n(37),i=n(109),o="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(109);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(14),i=n(40);t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(55),i=n(115),o=n(80),a=n(63),s=n(113),u=n(32),c=n(263),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=a(t),e=s(e,!0),c)try{return l(t,e)}catch(n){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){var r=n(268),i=n(175).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(22)("unscopables"),i=n(177),o=n(40),a=Array.prototype;void 0==a[r]&&o(a,r,i(null)),t.exports=function(t){a[r][t]=!0}},function(t,e,n){var r=n(62),i=n(490),o=n(175),a=n(491),s=n(264),u=n(118)("IE_PROTO"),c=function(){},l=function(){var t,e=s("iframe"),n=o.length;for(e.style.display="none",a.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l.prototype[o[n]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(c.prototype=r(t),n=new c,c.prototype=null,n[u]=t):n=l(),void 0===e?n:i(n,e)},n(119)[u]=!0},function(t,e,n){t.exports=n(14)},function(t,e,n){e.f=n(22)},function(t,e){t.exports={}},function(t,e,n){"use strict";(function(t,r){var i,o=n(275);i="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof t?t:r;var a=Object(o.a)(i);e.a=a}).call(this,n(29),n(289)(t))},function(t,e,n){var r=n(443);t.exports=p,t.exports.parse=o,t.exports.compile=function(t,e){return s(o(t,e))},t.exports.tokensToFunction=s,t.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(t,e){for(var n,r=[],o=0,a=0,s="",l=e&&e.delimiter||"/";null!=(n=i.exec(t));){var f=n[0],h=n[1],p=n.index;if(s+=t.slice(a,p),a=p+f.length,h)s+=h[1];else{var d=t[a],y=n[2],m=n[3],v=n[4],g=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var E=null!=y&&null!=d&&d!==y,T="+"===b||"*"===b,S="?"===b||"*"===b,_=n[2]||l,I=v||g;r.push({name:m||o++,prefix:y||"",delimiter:_,optional:S,repeat:T,partial:E,asterisk:!!w,pattern:I?c(I):w?".*":"[^"+u(_)+"]+?"})}}return a<t.length&&(s+=t.substr(a)),s&&r.push(s),r}function a(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function s(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"===typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,i){for(var o="",s=n||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<t.length;c++){var l=t[c];if("string"!==typeof l){var f,h=s[l.name];if(null==h){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<h.length;p++){if(f=u(h[p]),!e[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===p?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}):u(h),!e[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');o+=l.prefix+f}}else o+=l}return o}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function l(t,e){return t.keys=e,t}function f(t){return t.sensitive?"":"i"}function h(t,e,n){r(e)||(n=e||n,e=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<t.length;s++){var c=t[s];if("string"===typeof c)a+=u(c);else{var h=u(c.prefix),p="(?:"+c.pattern+")";e.push(c),c.repeat&&(p+="(?:"+h+p+")*"),a+=p=c.optional?c.partial?h+"("+p+")?":"(?:"+h+"("+p+"))?":h+"("+p+")"}}var d=u(n.delimiter||"/"),y=a.slice(-d.length)===d;return i||(a=(y?a.slice(0,-d.length):a)+"(?:"+d+"(?=$))?"),a+=o?"$":i&&y?"":"(?="+d+"|$)",l(new RegExp("^"+a,f(n)),e)}function p(t,e,n){return r(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(t,e)}(t,e):r(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(p(t[i],e,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),e)}(t,e,n):function(t,e,n){return h(o(t,n),e,n)}(t,e,n)}},function(t,e,n){"use strict";function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(e,"a",function(){return r})},,function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,a,s=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(s[c]=n[c]);if(r){a=r(n);for(var l=0;l<a.length;l++)o.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s}},function(t,e,n){(function(t){var r="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(285),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(29))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var t=s(h);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFirebaseInstance=void 0;var r,i=n(10),o=(r=i)&&r.__esModule?r:{default:r},a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(64),u=n(216),c=n(217);e.createFirebaseInstance=function(t,e,n){e.enableLogging&&t.database&&"function"===typeof t.database.enableLogging&&t.database.enableLogging(e.enableLogging);var r={watchers:{},listeners:{},callbacks:{},queries:{},config:e,authUid:null};Object.defineProperty(t,"_",{value:r,writable:!0,enumerable:!0,configurable:!0});var i=function(e,n,r,i){if((0,o.default)(r)){var s="update"===e?"updated":"created",u=a({},r,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},s+"At",t.database.ServerValue.TIMESTAMP));return t.auth().currentUser&&(u[s+"By"]=t.auth().currentUser.uid),t.database().ref(n)[e](u,i)}return t.database().ref(n)[e](r,i)},l=(0,u.mapWithFirebaseAndDispatch)(t,n,{signInWithPhoneNumber:c.authActions.signInWithPhoneNumber}),f=a({ref:function(e){return t.database().ref(e)},set:function(e,n,r){return t.database().ref(e).set(n,r)},setWithMeta:function(t,e,n){return i("set",t,e,n)},uniqueSet:function(e,n,r){return t.database().ref(e).transaction(function(t){return null===t?n:void 0}).then(function(t){var e=t.committed,n=t.snapshot;if(!e){var i=new Error("Path already exists.");return r&&r(i),Promise.reject(i)}return r&&r(n),n})},push:function(e,n,r){return t.database().ref(e).push(n,r)},pushWithMeta:function(t,e,n){return i("push",t,e,n)},remove:function(e,r,i){return c.queryActions.remove(t,n,e,i).then(function(){return"function"===typeof r&&r(),e})},update:function(e,n,r){return t.database().ref(e).update(n,r)},updateWithMeta:function(t,e,n){return i("update",t,e,n)},login:function(e){return c.authActions.login(n,t,e)},logout:function(){return c.authActions.logout(n,t)},updateAuth:function(e,r){return c.authActions.updateAuth(n,t,e,r)},updateEmail:function(e,r){return c.authActions.updateEmail(n,t,e,r)},updateProfile:function(e,r){return c.authActions.updateProfile(n,t,e,r)},uploadFile:function(e,r,i,o){return c.storageActions.uploadFile(n,t,{path:e,file:r,dbPath:i,options:o})},uploadFiles:function(e,r,i,o){return c.storageActions.uploadFiles(n,t,{path:e,files:r,dbPath:i,options:o})},deleteFile:function(e,r){return c.storageActions.deleteFile(n,t,{path:e,dbPath:r})},createUser:function(e,r){return c.authActions.createUser(n,t,e,r)},resetPassword:function(e){return c.authActions.resetPassword(n,t,e)},confirmPasswordReset:function(e,r){return c.authActions.confirmPasswordReset(n,t,e,r)},verifyPasswordResetCode:function(e){return c.authActions.verifyPasswordResetCode(n,t,e)},watchEvent:function(e,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return c.queryActions.watchEvent(t,n,a({type:e,path:r,storeAs:i},o))},unWatchEvent:function(e,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return c.queryActions.unWatchEvent(t,n,a({type:e,path:r,queryId:i},o))},reloadAuth:function(){return c.authActions.reloadAuth(n,t)},linkWithCredential:function(e){return c.authActions.linkWithCredential(n,t,e)},promiseEvents:function(e,r){var i=(0,s.createCallable)(e)(r,t),o=(0,s.getEventsFromInput)(i);return Promise.all(o.map(function(e){return c.queryActions.watchEvent(t,n,e)}))}},l);return a(t,f,{helpers:f})}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(29))},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(e){}try{return t+""}catch(e){}}return""}},function(t,e,n){var r=n(131),i=n(192),o=n(132),a=1,s=2;t.exports=function(t,e,n,u,c,l){var f=n&a,h=t.length,p=e.length;if(h!=p&&!(f&&p>h))return!1;var d=l.get(t);if(d&&l.get(e))return d==e;var y=-1,m=!0,v=n&s?new r:void 0;for(l.set(t,e),l.set(e,t);++y<h;){var g=t[y],b=e[y];if(u)var w=f?u(b,g,y,e,t,l):u(g,b,y,t,e,l);if(void 0!==w){if(w)continue;m=!1;break}if(v){if(!i(e,function(t,e){if(!o(v,e)&&(g===t||c(g,t,n,u,l)))return v.push(e)})){m=!1;break}}else if(g!==b&&!c(g,b,n,u,l)){m=!1;break}}return l.delete(t),l.delete(e),m}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e,n){var r=n(20).Uint8Array;t.exports=r},function(t,e,n){var r=n(195),i=n(135),o=n(43);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(134),i=n(3);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(330),i=n(66),o=n(3),a=n(67),s=n(58),u=n(89),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),l=!n&&i(t),f=!n&&!l&&a(t),h=!n&&!l&&!f&&u(t),p=n||l||f||h,d=p?r(t.length,String):[],y=d.length;for(var m in t)!e&&!c.call(t,m)||p&&("length"==m||f&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,y))||d.push(m);return d}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(48)(n(20),"Set");t.exports=r},function(t,e,n){var r=n(48)(n(20),"WeakMap");t.exports=r},function(t,e,n){var r=n(10);t.exports=function(t){return t===t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},function(t,e,n){var r=n(339),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)}),e});t.exports=a},function(t,e,n){var r=n(341),i=n(205);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e,n){var r=n(50),i=n(66),o=n(3),a=n(58),s=n(138),u=n(44);t.exports=function(t,e,n){for(var c=-1,l=(e=r(e,t)).length,f=!1;++c<l;){var h=u(e[c]);if(!(f=null!=t&&n(t,h)))break;t=t[h]}return f||++c!=l?f:!!(l=null==t?0:t.length)&&s(l)&&a(h,l)&&(o(t)||i(t))}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(92),i=n(208);t.exports=function(t,e){return e.length<2?t:r(t,i(e,0,-1))}},function(t,e){t.exports=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}},function(t,e,n){var r=n(210),i=n(43);t.exports=function(t,e){return t&&r(t,e,i)}},function(t,e,n){var r=n(348)();t.exports=r},function(t,e,n){var r=n(48),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=i},function(t,e,n){var r=n(136),i=n(213),o=n(27),a=n(3);t.exports=function(t,e){return(a(t)?r:i)(t,o(e,3))}},function(t,e,n){var r=n(53);t.exports=function(t,e){var n=[];return r(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.populateAndDispatch=e.orderedFromSnapshot=e.applyParamsToQuery=e.unsetWatcher=e.getWatcherCount=e.setWatcher=e.getQueryIdFromPath=e.getWatchPath=void 0;var r=c(n(45)),i=c(n(73)),o=c(n(97)),a=c(n(356)),s=n(21),u=n(94);function c(t){return t&&t.__esModule?t:{default:t}}var l=function(t){var e=Number(t);return(0,a.default)(e)?t:e},f=e.getWatchPath=function(t,e){if(!t||""===t||!e)throw new Error("Event and path are required");return t+":"+("/"===e.substring(0,1)?"":"/")+e},h=e.getQueryIdFromPath=function(t,e){if(!(0,r.default)(t))throw new Error("Query path must be a string");var n=t,i=t.split("#");t=i[0];var o=i.length>1,a=o?i[1].split("&"):[],s=o?a.map(function(t){var e=t.split("=");if("queryId"===e[0])return e[1]}).filter(function(t){return t}):void 0;return s&&s.length>0?e?e+":/"+s:s[0]:o?n:void 0},p=(e.setWatcher=function(t,e,n,r,i){var o=i||h(r,n)||f(n,r);return t._.watchers[o]?t._.watchers[o]++:t._.watchers[o]=1,e({type:s.actionTypes.SET_LISTENER,path:r,payload:{id:o}}),t._.watchers[o]},e.getWatcherCount=function(t,e,n,r){var i=r||h(n,e)||f(e,n);return t._.watchers[i]},e.unsetWatcher=function(t,e,n,r,i){var o=i||h(r,n)||f(n,r);r=r.split("#")[0];var a=t._.watchers;a[o]<=1?(delete a[o],"first_child"!==n&&"once"!==n&&t.database().ref().child(r).off(n)):a[o]&&a[o]--,e({type:s.actionTypes.UNSET_LISTENER,path:r,payload:{id:o}})},e.applyParamsToQuery=function(t,e){var n=!1;return t&&t.forEach(function(t){switch((t=t.split("="))[0]){case"orderByValue":e=e.orderByValue(),n=!0;break;case"orderByPriority":e=e.orderByPriority(),n=!0;break;case"orderByKey":e=e.orderByKey(),n=!0;break;case"orderByChild":e=e.orderByChild(t[1]);break;case"limitToFirst":e=e.limitToFirst(parseInt(t[1],10));break;case"limitToLast":e=e.limitToLast(parseInt(t[1],10));break;case"notParsed":n=!0;break;case"parsed":n=!1;break;case"equalTo":var r=n?t[1]:l(t[1]);r="true"===(r="false"!==(r="null"===r?null:r)&&r)||r,e=3===t.length?e.equalTo(r,t[2]):e.equalTo(r);break;case"startAt":var i=n?t[1]:l(t[1]);i="null"===i?null:i,e=3===t.length?e.startAt(i,t[2]):e.startAt(i);break;case"endAt":var o=n?t[1]:l(t[1]);o="null"===o?null:o,e=3===t.length?e.endAt(o,t[2]):e.endAt(o)}}),e},e.orderedFromSnapshot=function(t){if(t.hasChildren&&!t.hasChildren())return null;var e=[];return t.forEach&&t.forEach(function(t){e.push({key:t.key,value:t.val()})}),(0,i.default)(e)?e:null});e.populateAndDispatch=function(t,e,n){var r=n.data,i=n.populates,a=n.snapshot,c=n.path,l=n.storeAs;return(0,u.promisesForPopulate)(t,a.key,r,i).then(function(t){return(0,o.default)(t,function(t,n){e({type:s.actionTypes.MERGE,path:n,data:t})}),e({type:s.actionTypes.SET,path:l||c,data:r,ordered:p(a)}),t}).catch(function(t){return e({type:s.actionTypes.ERROR,payload:t}),Promise.reject(t)})}},function(t,e,n){var r=n(35),i=n(18),o="[object Number]";t.exports=function(t){return"number"==typeof t||i(t)&&r(t)==o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mapWithFirebaseAndDispatch=e.wrapInDispatch=void 0;var r=s(n(147)),i=s(n(10)),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function s(t){return t&&t.__esModule?t:{default:t}}e.wrapInDispatch=function(t,e){e.ref;var n=e.meta,r=e.method,o=e.args,s=void 0===o?[]:o,u=e.types,c=a(u,3),l=c[0],f=c[1],h=c[2];return t({type:(0,i.default)(l)?l.type:l,meta:n,payload:(0,i.default)(l)?l.payload:{args:s}}),r.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(s)).then(function(e){return t({type:(0,i.default)(f)?f.type:f,meta:n,payload:(0,i.default)(f)?f.payload:e}),e}).catch(function(e){return t({type:h,meta:n,payload:e}),Promise.reject(e)})},e.mapWithFirebaseAndDispatch=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=function(t,e,n){return function(r){return function(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return r.apply(t,n?[e,t].concat(o):[t,e].concat(o))}}}(t,e);return o({},(0,r.default)(n,a),i.reduce(function(t,e){var n,r,i,s=e.action,u=e.name;return o({},t,(n={},r=u,i=a(s),r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n))},{}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.storageActions=e.queryActions=e.authActions=void 0;var r=a(n(357)),i=a(n(248)),o=a(n(422));function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}e.authActions=r,e.queryActions=i,e.storageActions=o,e.default={authActions:r,queryActions:i,storageActions:o}},function(t,e,n){var r=n(92),i=n(145),o=n(50);t.exports=function(t,e,n){for(var a=-1,s=e.length,u={};++a<s;){var c=e[a],l=r(t,c);n(l,c)&&i(u,o(c,t),l)}return u}},function(t,e,n){var r=n(93);t.exports=function(t){return null!=t&&t.length?r(t,1):[]}},function(t,e,n){var r=n(74),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),u=Array(s);++a<s;)u[a]=o[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=o[a];return c[e]=n(u),r(t,this,c)}}},function(t,e){var n=800,r=16,i=Date.now;t.exports=function(t){var e=0,o=0;return function(){var a=i(),s=r-(a-o);if(o=a,s>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(54),i=n(43);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){(function(t){var r=n(20),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(137)(t))},function(t,e,n){var r=n(134),i=n(150),o=n(135),a=n(196),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=s},function(t,e,n){var r=n(152);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(103),i=n(150),o=n(68);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.populate=e.fixPath=e.isEmpty=e.isLoaded=e.getVal=void 0;var r=T(n(13)),i=T(n(3)),o=T(n(95)),a=T(n(376)),s=T(n(45)),u=T(n(377)),c=T(n(230)),l=T(n(231)),f=T(n(147)),h=T(n(59)),p=T(n(71)),d=T(n(144)),y=T(n(36)),m=T(n(72)),v=T(n(73)),g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b=n(21),w=n(94),E=n(157);function T(t){return t&&t.__esModule?t:{default:t}}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.getVal=function(t,e,n){if(!t)return n;var r=(0,E.getDotStrPath)(e);return(0,y.default)(t,r,n)},e.isLoaded=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e||!e.length||(0,l.default)(e,function(t){return void 0!==t&&!1!==(0,y.default)(t,"isLoaded")})},e.isEmpty=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,o.default)(e,function(t){return!(t&&(0,v.default)(t))||!0===t.isEmpty})},e.fixPath=function(t){return("/"===t.substring(0,1)?"":"/")+t};var _=function(t,e,n){var r=(0,y.default)(e,n.child);if(!e||!r)return null;if((0,s.default)(r)){var i=[(0,a.default)(n.root.split("/")).join("."),r];n.childParam&&i.push(n.childParam);var o=i.join("."),u=(0,y.default)(t.data,o);return u?(0,m.default)({},n.childAlias||n.child,n.keyProp?g(S({},n.keyProp,r),u):u):e}return(0,m.default)({},n.childAlias||n.child,function(t,e,n){return(0,f.default)(e,function(e,r){var i=e;(!0===e||n.populateByKey)&&(i=r);var o=[(0,a.default)(n.root.split("/")).join("."),i];n.childParam&&o.push(n.childParam);var s=o.join(".");return(0,y.default)(t.data,s)?n.keyProp?g(S({},n.keyProp,i),(0,y.default)(t.data,s)):(0,y.default)(t.data,s):!0===e||n.populateByKey?e:i})}(t,r,n))};e.populate=function(t,e,n,s){var l=(0,a.default)(e.split("/")),m=-1===b.topLevelPaths.indexOf(l[0])?["data"].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(l)):l,v=m.join("."),g=(0,y.default)(t,v,s);if(!t||g===s)return s;if(null===g)return null;var E=(0,w.getPopulateObjs)((0,r.default)(n)?n((0,p.default)(m),g):n);if((0,i.default)(g)){return(0,o.default)(E,function(t){return(e=g,function(t){return(0,o.default)(e,function(e){return(0,d.default)(e,t)})})(["value",t.child]);var e})?g.map(function(e){var n=e.key,r=e.value;return{key:n,value:E.map(function(e){return _(t,r,e)}).reduce(function(t,e){return(0,u.default)(e,t)},r)}}):g}return(0,o.default)(E,function(t){return(0,d.default)(g,t.child)})?E.map(function(e){return _(t,g,e)}).reduce(function(t,e){return(0,u.default)(e,t)},g):-1!==m.indexOf("profile")?g:(0,f.default)(g,function(e,i){var a="ordered"===m[0]?e.key:i,s=(0,w.getPopulateObjs)((0,r.default)(n)?n(a,e):n);return(0,o.default)(s,function(t){return(0,d.default)(e,t.child)})?(0,c.default)((0,h.default)(s,function(n){return _(t,e,n)}),function(t,e){return(0,u.default)(e,t)},e):e})}},function(t,e,n){var r=n(60),i=n(65);t.exports=function(t,e,n){(void 0===n||i(t[e],n))&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e){t.exports=function(t,e){if("__proto__"!=e)return t[e]}},function(t,e,n){var r=n(382),i=n(53),o=n(27),a=n(383),s=n(3);t.exports=function(t,e,n){var u=s(t)?r:a,c=arguments.length<3;return u(t,o(e,4),n,c,i)}},function(t,e,n){var r=n(384),i=n(385),o=n(27),a=n(3),s=n(143);t.exports=function(t,e,n){var u=a(t)?r:i;return n&&s(t,e,n)&&(e=void 0),u(t,o(e,3))}},function(t,e,n){var r=n(70),i=n(233),o=i?function(t,e){return i.set(t,e),t}:r;t.exports=o},function(t,e,n){var r=n(200),i=r&&new r;t.exports=i},function(t,e,n){var r=n(235),i=n(236),o=n(393),a=n(105),s=n(237),u=n(243),c=n(405),l=n(163),f=n(20),h=1,p=2,d=8,y=16,m=128,v=512;t.exports=function t(e,n,g,b,w,E,T,S,_,I){var A=n&m,O=n&h,C=n&p,x=n&(d|y),k=n&v,P=C?void 0:a(e);return function h(){for(var p=arguments.length,d=Array(p),y=p;y--;)d[y]=arguments[y];if(x)var m=u(h),v=o(d,m);if(b&&(d=r(d,b,w,x)),E&&(d=i(d,E,T,x)),p-=v,x&&p<I){var D=l(d,m);return s(e,n,t,h.placeholder,g,d,D,S,_,I-p)}var N=O?g:this,R=C?N[e]:e;return p=d.length,S?d=c(d,S):k&&p>1&&d.reverse(),A&&_<p&&(d.length=_),this&&this!==f&&this instanceof h&&(R=P||a(R)),R.apply(N,d)}}},function(t,e){var n=Math.max;t.exports=function(t,e,r,i){for(var o=-1,a=t.length,s=r.length,u=-1,c=e.length,l=n(a-s,0),f=Array(c+l),h=!i;++u<c;)f[u]=e[u];for(;++o<s;)(h||o<a)&&(f[r[o]]=t[o]);for(;l--;)f[u++]=t[o++];return f}},function(t,e){var n=Math.max;t.exports=function(t,e,r,i){for(var o=-1,a=t.length,s=-1,u=r.length,c=-1,l=e.length,f=n(a-u,0),h=Array(f+l),p=!i;++o<f;)h[o]=t[o];for(var d=o;++c<l;)h[d+c]=e[c];for(;++s<u;)(p||o<a)&&(h[d+r[s]]=t[o++]);return h}},function(t,e,n){var r=n(394),i=n(241),o=n(242),a=1,s=2,u=4,c=8,l=32,f=64;t.exports=function(t,e,n,h,p,d,y,m,v,g){var b=e&c;e|=b?l:f,(e&=~(b?f:l))&u||(e&=~(a|s));var w=[t,e,p,b?d:void 0,b?y:void 0,b?void 0:d,b?void 0:y,m,v,g],E=n.apply(void 0,w);return r(t)&&i(E,w),E.placeholder=h,o(E,t,e)}},function(t,e,n){var r=n(233),i=n(239),o=r?function(t){return r.get(t)}:i;t.exports=o},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(103),i=n(160);function o(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}o.prototype=r(i.prototype),o.prototype.constructor=o,t.exports=o},function(t,e,n){var r=n(232),i=n(221)(r);t.exports=i},function(t,e,n){var r=n(399),i=n(400),o=n(149),a=n(401);t.exports=function(t,e,n){var s=e+"";return o(t,i(s,a(r(s),n)))}},function(t,e){t.exports=function(t){return t.placeholder}},function(t,e,n){var r=n(408);t.exports=function(t){var e=r(t),n=e%1;return e===e?n?e-n:e:0}},function(t,e,n){var r=n(142);t.exports=function(t,e){return null==t||r(t,e)}},function(t,e,n){var r=n(35),i=n(18),o="[object Boolean]";t.exports=function(t){return!0===t||!1===t||i(t)&&r(t)==o}},function(t,e,n){var r=n(51);t.exports=function(){var t=arguments,e=r(t[0]);return t.length<3?e:e.replace(t[1],t[2])}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.remove=e.unWatchEvents=e.watchEvents=e.unWatchEvent=e.watchEvent=void 0;var r,i=n(3),o=(r=i)&&r.__esModule?r:{default:r},a=n(21),s=n(214);var u=e.watchEvent=function(t,e,n){if(!t.database||"function"!==typeof t.database)throw new Error("Firebase database is required to create watchers");var r=n.type,i=n.path,o=n.populates,u=n.queryParams,c=n.queryId,l=n.isQuery,f=n.storeAs,h=t._.config.logErrors,p=f?i+"@"+f:i,d=c||(0,s.getQueryIdFromPath)(i);if((0,s.getWatcherCount)(t,r,p,d)>0&&d&&(0,s.unsetWatcher)(t,e,r,i,d),(0,s.setWatcher)(t,e,r,p,d),"first_child"===r)return t.database().ref().child(i).orderByKey().limitToFirst(1).once("value").then(function(t){return null===t.val()&&e({type:a.actionTypes.NO_VALUE,path:f||i}),t}).catch(function(t){return e({type:a.actionTypes.ERROR,path:f||i,payload:t}),Promise.reject(t)});var y=t.database().ref().child(i);if(l&&(y=(0,s.applyParamsToQuery)(u,y)),e({type:a.actionTypes.START,path:f||i}),"once"===r)return y.once("value").then(function(n){return null===n.val()?e({type:a.actionTypes.NO_VALUE,path:f||i}):o?(0,s.populateAndDispatch)(t,e,{path:i,storeAs:f,snapshot:n,data:n.val(),populates:o}):e({type:a.actionTypes.SET,path:f||i,data:n.val(),ordered:(0,s.orderedFromSnapshot)(n)})}).catch(function(t){return e({type:a.actionTypes.UNAUTHORIZED_ERROR,payload:t}),Promise.reject(t)});y.on(r,function(n){var u="child_removed"===r?void 0:n.val(),c=f||"value"===r?i:i+"/"+n.key;if(!o){var l="child_added"===r?[{key:n.key,value:n.val()}]:(0,s.orderedFromSnapshot)(n);return e({type:a.actionTypes.SET,path:f||c,data:u,ordered:l})}return(0,s.populateAndDispatch)(t,e,{path:i,storeAs:f,snapshot:n,data:n.val(),populates:o})},function(t){h&&console.log("RRF: Error retrieving data for path: "+i+", storeAs: "+f+". Firebase:",t),e({type:a.actionTypes.ERROR,storeAs:f,path:i,payload:t})})},c=e.unWatchEvent=function(t,e,n){var r=n.type,i=n.path,o=n.storeAs,a=n.queryId,u=o?i+"@"+o:i;(0,s.unsetWatcher)(t,e,r,u,a)},l=e.watchEvents=function(t,e,n){if(!(0,o.default)(n))throw new Error("Events config must be an Array");return n.map(function(n){return u(t,e,n)})},f=e.unWatchEvents=function(t,e,n){return n.forEach(function(n){return c(t,e,n)})},h=e.remove=function(t,e,n){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).dispatchAction,i=void 0===r||r,o=t._.config.dispatchRemoveAction;return t.database().ref(n).remove().then(function(){return o&&i&&e({type:a.actionTypes.REMOVE,path:n}),n}).catch(function(t){return e({type:a.actionTypes.ERROR,payload:t}),Promise.reject(t)})};e.default={watchEvents:l,unWatchEvents:f,remove:h}},function(t,e){var n="Expected a function";t.exports=function(t){if("function"!=typeof t)throw new TypeError(n);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}},function(t,e){t.exports=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}},function(t,e,n){var r=n(104)("setWith",n(437));r.placeholder=n(77),t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var u={listeners:{},config:c({},s.defaultConfig,e)};t._=(0,r.default)(u,t._);var f=[{action:o.firestoreActions.deleteRef,name:"delete"},{action:o.firestoreActions.setListener,name:"onSnapshot"}],h=(0,a.mapWithFirebaseAndDispatch)(t,n,o.firestoreActions,f),p=(0,i.default)(s.methodsToAddFromFirestore,function(e,n){return t.firestore&&"function"===typeof t.firestore()[n]?c({},e,l({},n,t.firestore()[n].bind(t.firestore()))):e},{});return Object.assign(p,t.firestore,{_:t._},e.helpersNamespace?l({},e.helpersNamespace,h):h)};var r=u(n(253)),i=u(n(230)),o=n(255),a=n(256),s=n(28);function u(t){return t&&t.__esModule?t:{default:t}}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){l(t,e,n[e])})}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){var r=n(104)("merge",n(254));r.placeholder=n(77),t.exports=r},function(t,e,n){var r=n(154),i=n(156)(function(t,e,n){r(t,e,n)});t.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.firestoreActions=e.default=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(449));e.firestoreActions=r;var i={firestoreActions:r};e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wrapInDispatch=function(t,e){var n=e.ref,r=e.meta,i=void 0===r?{}:r,a=e.method,s=e.args,u=void 0===s?[]:s,l=(d=e.types,y=3,function(t){if(Array.isArray(t))return t}(d)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(d,y)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),f=l[0],h=l[1],p=l[2];var d,y;return t({type:(0,o.default)(f)?f.type:f,meta:i,payload:(0,o.default)(f)?f.payload:{args:u}}),n[a].apply(n,function(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(u)).then(function(e){var n=(0,o.default)(h),r={type:n?h.type:h,meta:i,payload:n&&h.payload?c(h,e):{args:u}};return n&&h.preserve&&(r.preserve=h.preserve),n&&h.merge&&(r.merge=h.merge),t(r),e}).catch(function(e){return t({type:p,meta:i,payload:e}),Promise.reject(e)})},e.mapWithFirebaseAndDispatch=function(t,e,n,i){var o=function(t,e){return function(n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n.apply(t,[t,e].concat(i))}}}(t,e);return s({},(0,r.default)(n,o),i.reduce(function(t,e){var n=e.action,r=e.name;return s({},t,u({},r,o(n)))},{}))};var r=a(n(147)),i=a(n(13)),o=a(n(10));function a(t){return t&&t.__esModule?t:{default:t}}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){u(t,e,n[e])})}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){var n=t.payload;return(0,i.default)(n)?n(e):n}},function(t,e,n){var r=n(162);t.exports=function(t,e){for(var n=-1,i=t.length;++n<i&&r(e,t[n],0)>-1;);return n}},function(t,e,n){var r=n(465),i=n(466),o=n(27),a=n(3);t.exports=function(t,e){return function(n,s){var u=a(n)?r:i,c=e?e():{};return u(n,t,o(s,2),c)}}},function(t,e,n){"use strict";n.r(e),function(t){function r(t,e,n,r,i,o){n&&(Array.isArray(i)?function(t,e,n,r,i,o){for(var a=Math.min(i.length,o.length),s=0;s<a;s++)if(t.assigned[s]&&i[s]!==o[s]){var u=e.concat(s);n.push({op:"replace",path:u,value:o[s]}),r.push({op:"replace",path:u,value:i[s]})}if(a<o.length){for(var c=a;c<o.length;c++){var l=e.concat(c);n.push({op:"add",path:l,value:o[c]})}r.push({op:"replace",path:e.concat("length"),value:i.length})}else if(a<i.length){n.push({op:"replace",path:e.concat("length"),value:o.length});for(var f=a;f<i.length;f++){var h=e.concat(f);r.push({op:"add",path:h,value:i[f]})}}}(t,e,n,r,i,o):function(t,e,n,r,i,o){m(t.assigned,function(t,a){var s=i[t],u=o[t],c=a?t in i?"replace":"add":"remove";if(s!==i||"replace"!==c){var l=e.concat(t);n.push("remove"===c?{op:c,path:l}:{op:c,path:l,value:u}),r.push("add"===c?{op:"remove",path:l}:"remove"===c?{op:"add",path:l,value:s}:{op:"replace",path:l,value:s})}})}(t,e,n,r,i,o))}n.d(e,"produce",function(){return j}),n.d(e,"applyPatches",function(){return U}),n.d(e,"setAutoFreeze",function(){return c}),n.d(e,"setUseProxies",function(){return l});var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o="undefined"!==typeof Symbol?Symbol("immer-proxy-state"):"__$immer_state",a="An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.";var s=!("undefined"!==typeof t||"verifyMinified"!==function(){}.name),u="undefined"!==typeof Proxy;function c(t){s=t}function l(t){u=t}function f(t){return!!t&&!!t[o]}function h(t){if(!t)return!1;if("object"!==("undefined"===typeof t?"undefined":i(t)))return!1;if(Array.isArray(t))return!0;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function p(t){return s&&Object.freeze(t),t}var d=Object.assign||function(t,e){for(var n in e)v(e,n)&&(t[n]=e[n]);return t};function y(t){if(Array.isArray(t))return t.slice();var e=void 0===t.__proto__?Object.create(null):{};return d(e,t)}function m(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(n,t[n]);else for(var r in t)e(r,t[r])}function v(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function g(t,e,n,i){if(f(t)){var a=t[o];if(!0===a.modified){if(!0===a.finalized)return a.copy;a.finalized=!0;var s=function(t,e,n,r,i){var o=e.base;return m(t,function(a,s){if(s!==o[a]){var u=r&&!v(e.assigned,a);t[a]=g(s,u&&n.concat(a),u&&r,i)}}),p(t)}(u?a.copy:a.copy=y(t),a,e,n,i);return r(a,e,n,i,a.base,s),s}return a.base}return function t(e){if(!h(e))return;if(Object.isFrozen(e))return;m(e,function(n,r){f(r)?e[n]=g(r):t(r)});p(e)}(t),t}function b(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}var w=null,E={get:function(t,e){if(e===o)return t;if(t.modified){var n=t.copy[e];return n===t.base[e]&&h(n)?t.copy[e]=I(t,n):n}if(v(t.proxies,e))return t.proxies[e];var r=t.base[e];return!f(r)&&h(r)?t.proxies[e]=I(t,r):r},has:function(t,e){return e in S(t)},ownKeys:function(t){return Reflect.ownKeys(S(t))},set:function(t,e,n){if(t.assigned[e]=!0,!t.modified){if(e in t.base&&b(t.base[e],n)||v(t.proxies,e)&&t.proxies[e]===n)return!0;_(t)}return t.copy[e]=n,!0},deleteProperty:function(t,e){return t.assigned[e]=!1,_(t),delete t.copy[e],!0},getOwnPropertyDescriptor:function(t,e){var n=t.modified?t.copy:v(t.proxies,e)?t.proxies:t.base,r=Reflect.getOwnPropertyDescriptor(n,e);!r||Array.isArray(n)&&"length"===e||(r.configurable=!0);return r},defineProperty:function(){throw new Error("Immer does not support defining properties on draft objects.")},setPrototypeOf:function(){throw new Error("Immer does not support `setPrototypeOf()`.")}},T={};function S(t){return!0===t.modified?t.copy:t.base}function _(t){t.modified||(t.modified=!0,t.copy=y(t.base),Object.assign(t.copy,t.proxies),t.parent&&_(t.parent))}function I(t,e,n){if(f(e))throw new Error("Immer bug. Plz report.");var r=function(t,e){return{modified:!1,assigned:{},finalized:!1,parent:t,base:e,copy:void 0,proxies:{}}}(t,e),i=Array.isArray(e)?Proxy.revocable([r],T):Proxy.revocable(r,E);return w.push(i),i.proxy}m(E,function(t,e){T[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});var A={},O=null;function C(t){return t.hasCopy?t.copy:t.base}function x(t){t.modified||(t.modified=!0,t.parent&&x(t.parent))}function k(t){t.hasCopy||(t.hasCopy=!0,t.copy=y(t.base))}function P(t,e){var n=y(e);m(e,function(t){var e;Object.defineProperty(n,""+t,A[e=""+t]||(A[e]={configurable:!0,enumerable:!0,get:function(){return function(t,e){D(t);var n=C(t)[e];return!t.finalizing&&n===t.base[e]&&h(n)?(k(t),t.copy[e]=P(t,n)):n}(this[o],e)},set:function(t){!function(t,e,n){if(D(t),t.assigned[e]=!0,!t.modified){if(b(C(t)[e],n))return;x(t),k(t)}t.copy[e]=n}(this[o],e,t)}}))});var r,i,a,s=function(t,e,n){return{modified:!1,assigned:{},hasCopy:!1,parent:t,base:n,proxy:e,copy:void 0,finished:!1,finalizing:!1,finalized:!1}}(t,n,e);return r=n,i=o,a=s,Object.defineProperty(r,i,{value:a,enumerable:!1,writable:!0}),O.push(s),n}function D(t){if(!0===t.finished)throw new Error("Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+JSON.stringify(t.copy||t.base))}function N(t){if(t&&"object"===("undefined"===typeof t?"undefined":i(t))){var e=t[o];if(e){var n=e.proxy,r=e.base;if(Array.isArray(t)){if(L(e)){if(x(e),e.assigned.length=!0,n.length<r.length)for(var a=n.length;a<r.length;a++)e.assigned[a]=!1;else for(var s=r.length;s<n.length;s++)e.assigned[s]=!0;m(n,function(t,n){e.assigned[t]||N(n)})}}else{var u=function(t,e){var n=Object.keys(t),r=Object.keys(e);return{added:r.filter(function(t){return-1===n.indexOf(t)}),removed:n.filter(function(t){return-1===r.indexOf(t)})}}(r,n),c=u.added,l=u.removed;(c.length>0||l.length>0)&&x(e),m(c,function(t,n){e.assigned[n]=!0}),m(l,function(t,n){e.assigned[n]=!1}),m(n,function(t,n){e.assigned[t]||N(n)})}}}}function R(t){return!function(t,e){if(b(t,e))return!0;if("object"!==("undefined"===typeof t?"undefined":i(t))||null===t||"object"!==("undefined"===typeof e?"undefined":i(e))||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!hasOwnProperty.call(e,n[o])||!b(t[n[o]],e[n[o]]))return!1;return!0}(Object.keys(t.base),Object.keys(t.proxy))}function L(t){var e=t.proxy;if(e.length!==t.base.length)return!0;var n=Object.getOwnPropertyDescriptor(e,e.length-1);return!(!n||n.get)}function M(t,e,n){if(f(t)){var r=e.call(t,t);return void 0===r?t:r}var i=O;O=[];var s=n&&[],u=n&&[];try{var c=P(void 0,t),l=e.call(c,c);m(O,function(t,e){e.finalizing=!0});var h=void 0;if(void 0!==l&&l!==c){if(c[o].modified)throw new Error(a);h=g(l),s&&(s.push({op:"replace",path:[],value:h}),u.push({op:"replace",path:[],value:t}))}else n&&N(c),function(){for(var t=O.length-1;t>=0;t--){var e=O[t];!1===e.modified&&(Array.isArray(e.base)?L(e)&&x(e):R(e)&&x(e))}}(),h=g(c,[],s,u);return m(O,function(t,e){e.finished=!0}),n&&n(s,u),h}finally{O=i}}function j(t,e,n){if(arguments.length<1||arguments.length>3)throw new Error("produce expects 1 to 3 arguments, got "+arguments.length);if("function"===typeof t){if("function"===typeof e)throw new Error("if first argument is a function (curried invocation), the second argument to produce cannot be a function");var r=e,s=t;return function(){var t=arguments;return j(void 0===t[0]&&void 0!==r?r:t[0],function(e){return t[0]=e,s.apply(e,t)})}}if("function"!==typeof e)throw new Error("if first argument is not a function, the second argument to produce should be a function");if(void 0!==n&&"function"!==typeof n)throw new Error("the third argument of a producer should not be set or a function");if("object"!==("undefined"===typeof t?"undefined":i(t))||null===t){var c=e(t);return void 0===c?t:c}if(!h(t))throw new Error("the first argument to an immer producer should be a primitive, plain object or array, got "+("undefined"===typeof t?"undefined":i(t))+': "'+t+'"');return u?function(t,e,n){if(f(t)){var r=e.call(t,t);return void 0===r?t:r}var i=w;w=[];var s=n&&[],u=n&&[];try{var c=I(void 0,t),l=e.call(c,c),h=void 0;if(void 0!==l&&l!==c){if(c[o].modified)throw new Error(a);h=g(l),s&&(s.push({op:"replace",path:[],value:h}),u.push({op:"replace",path:[],value:t}))}else h=g(c,[],s,u);return m(w,function(t,e){return e.revoke()}),n&&n(s,u),h}finally{w=i}}(t,e,n):M(t,e,n)}var U=j(function(t,e){for(var n=function(n){var r=e[n];if(0===r.path.length&&"replace"===r.op)t=r.value;else{var i=r.path.slice(),o=i.pop(),a=i.reduce(function(t,e){if(!t)throw new Error("Cannot apply patch, path doesn't resolve: "+r.path.join("/"));return t[e]},t);if(!a)throw new Error("Cannot apply patch, path doesn't resolve: "+r.path.join("/"));switch(r.op){case"replace":case"add":a[o]=r.value;break;case"remove":if(Array.isArray(a)){if(o!==a.length-1)throw new Error("Remove can only remove the last key of an array, index: "+o+", length: "+a.length);a.length-=1}else delete a[o];break;default:throw new Error("Unsupported patch operation: "+r.op)}}},r=0;r<e.length;r++)n(r);return t});e.default=j}.call(this,n(187))},function(t,e,n){var r=n(261),i=n(169),o=n(110),a=n(111),s=n(262);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,l=4==t,f=6==t,h=5==t||f,p=e||s;return function(e,s,d){for(var y,m,v=o(e),g=i(v),b=r(s,d,3),w=a(g.length),E=0,T=n?p(e,w):u?p(e,0):void 0;w>E;E++)if((h||E in g)&&(m=b(y=g[E],E,v),t))if(n)T[E]=m;else if(m)switch(t){case 3:return!0;case 5:return y;case 6:return E;case 2:T.push(y)}else if(l)return!1;return f?-1:c||l?l:T}}},function(t,e,n){var r=n(484);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(38),i=n(170),o=n(22)("species");t.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){t.exports=!n(55)&&!n(37)(function(){return 7!=Object.defineProperty(n(264)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(38),i=n(14).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){t.exports=!n(37)(function(){String(Symbol())})},function(t,e,n){t.exports=n(79)("native-function-to-string",Function.toString)},function(t,e,n){var r=n(32),i=n(486),o=n(173),a=n(46);t.exports=function(t,e){for(var n=i(e),s=a.f,u=o.f,c=0;c<n.length;c++){var l=n[c];r(t,l)||s(t,l,u(e,l))}}},function(t,e,n){var r=n(32),i=n(63),o=n(487)(!1),a=n(119);t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)!r(a,n)&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){n(15)("iterator")},function(t,e,n){"use strict";var r=n(41),i=n(541),o=n(272),a=n(543),s=n(81),u=n(40),c=n(116),l=n(114),f=n(22)("iterator"),h=n(180),p=n(271),d=p.IteratorPrototype,y=p.BUGGY_SAFARI_ITERATORS,m=function(){return this};t.exports=function(t,e,n,p,v,g,b){i(n,e,p);var w,E,T,S=function(t){if(t===v&&C)return C;if(!y&&t in A)return A[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},_=e+" Iterator",I=!1,A=t.prototype,O=A[f]||A["@@iterator"]||v&&A[v],C=!y&&O||S(v),x="Array"==e&&A.entries||O;if(x&&(w=o(x.call(new t)),d!==Object.prototype&&w.next&&(l||o(w)===d||(a?a(w,d):"function"!=typeof w[f]&&u(w,f,m)),s(w,_,!0,!0),l&&(h[_]=m))),"values"==v&&O&&"values"!==O.name&&(I=!0,C=function(){return O.call(this)}),l&&!b||A[f]===C||u(A,f,C),h[e]=C,v)if(E={values:S("values"),keys:g?C:S("keys"),entries:S("entries")},b)for(T in E)!y&&!I&&T in A||c(A,T,E[T]);else r({target:e,proto:!0,forced:y||I},E);return E}},function(t,e,n){"use strict";var r,i,o,a=n(272),s=n(40),u=n(32),c=n(114),l=n(22)("iterator"),f=!1;[].keys&&("next"in(o=[].keys())?(i=a(a(o)))!==Object.prototype&&(r=i):f=!0),void 0==r&&(r={}),c||u(r,l)||s(r,l,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},function(t,e,n){var r=n(32),i=n(110),o=n(118)("IE_PROTO"),a=n(542),s=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},i=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(h=64)),r.push(n[l],n[f],n[h],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!=s){var l=a<<4&240|s>>2;if(r.push(l),64!=u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){try{return s.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var l=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}(),f=function(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""},h="FirebaseError",p=Error.captureStackTrace;var d=function(){return function(t,e){if(this.code=t,this.message=e,p)p(this,y.prototype.create);else try{throw Error.apply(this,arguments)}catch(n){this.name=h,Object.defineProperty(this,"stack",{get:function(){return n.stack}})}}}();d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,d.prototype.name=h;var y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],i=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+i+").";var o=new d(i,n);for(var a in e)e.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(o[a]=e[a]);return o},t}();function m(t){return JSON.parse(t)}var v=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=m(u(o[0])||""),n=m(u(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},g=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},b=function(t,e){return g(e,function(e,n){t[e]=n}),t},w=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},E=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0==o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();var T=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function S(){}function _(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}e.CONSTANTS=r,e.Deferred=l,e.ErrorFactory=y,e.FirebaseError=d,e.Sha1=E,e.assert=i,e.assertionError=o,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.base64=s,e.base64Decode=u,e.base64Encode=function(t){var e=a(t);return s.encodeByteArray(e,!0)},e.clone=function(t){return b({},t)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new T(t,e);return n.subscribe.bind(n)},e.decode=v,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.errorPrefix=_,e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},e.extend=b,e.findKey=w,e.findValue=function(t,e,n){var r=w(t,e,n);return r&&t[r]},e.forEach=g,e.getAnyKey=function(t){for(var e in t)return e},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.getUA=f,e.getValues=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},e.isAdmin=function(t){var e=v(t).claims;return"object"===typeof e&&!0===e.admin},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.isMobileCordova=function(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNodeSdk=function(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN},e.isNonNullObject=function(t){return"object"===typeof t&&null!==t},e.isReactNative=function(){return"object"===typeof navigator&&"ReactNative"===navigator.product},e.isValidFormat=function(t){var e=v(t).claims;return!!e&&"object"===typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e,n,r=v(t).claims,i=Math.floor((new Date).getTime()/1e3);return"object"===typeof r&&(r.hasOwnProperty("nbf")?e=r.nbf:r.hasOwnProperty("iat")&&(e=r.iat),n=r.hasOwnProperty("exp")?r.exp:e+86400),i&&e&&n&&i>=e&&i<=n},e.issuedAtTime=function(t){var e=v(t).claims;return"object"===typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=m,e.map=function(t,e,n){var r={};for(var i in t)r[i]=e.call(n,t[i],i,t);return r},e.patchCapture=function(t){var e=p;return p=t,e},e.patchProperty=function(t,e,n){t[e]=n},e.querystring=function(t){var e=[];return g(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;i(++r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(t.charCodeAt(r)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(_(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(_(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!==typeof n)throw new Error(_(t,e,r)+"must be a valid firebase namespace.")}},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(280)},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"===typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(0)),i=o(n(439));function o(t){return t&&t.__esModule?t:{default:t}}e.default=r.default.createContext||i.default,t.exports=e.default},function(t,e,n){"use strict";function r(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(i){return"function"===typeof i?i(n,r,t):e(i)}}}}var i=r();i.withExtraArgument=r,e.a=i},,function(t,e,n){"use strict";var r=n(185),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.concurrent_mode"):60111,p=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,y=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,v="function"===typeof Symbol&&Symbol.iterator;function g(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(t,e,n,r,i,o,a,s){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;(t=Error(e.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw t.framesToPop=1,t}}(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w={};function E(t,e,n){this.props=t,this.context=e,this.refs=w,this.updater=n||b}function T(){}function S(t,e,n){this.props=t,this.context=e,this.refs=w,this.updater=n||b}E.prototype.isReactComponent={},E.prototype.setState=function(t,e){"object"!==typeof t&&"function"!==typeof t&&null!=t&&g("85"),this.updater.enqueueSetState(this,t,e,"setState")},E.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},T.prototype=E.prototype;var _=S.prototype=new T;_.constructor=S,r(_,E.prototype),_.isPureReactComponent=!0;var I={current:null},A={current:null},O=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function x(t,e,n){var r=void 0,i={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)O.call(e,r)&&!C.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:t,key:a,ref:s,props:i,_owner:A.current}}function k(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}var P=/\/+/g,D=[];function N(t,e,n,r){if(D.length){var i=D.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function R(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>D.length&&D.push(t)}function L(t,e,n){return null==t?0:function t(e,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case a:u=!0}}if(u)return r(i,e,""===n?"."+M(e,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=n+M(s=e[c],c);u+=t(s,l,r,i)}else if(l=null===e||"object"!==typeof e?null:"function"===typeof(l=v&&e[v]||e["@@iterator"])?l:null,"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=t(s=s.value,l=n+M(s,c++),r,i);else"object"===s&&g("31","[object Object]"===(r=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":r,"");return u}(t,"",e,n)}function M(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}(t.key):e.toString(36)}function j(t,e){t.func.call(t.context,e,t.count++)}function U(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?F(t,r,n,function(t){return t}):null!=t&&(k(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(P,"$&/")+"/")+n)),r.push(t))}function F(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(P,"$&/")+"/"),L(t,U,e=N(e,o,r,i)),R(e)}function V(){var t=I.current;return null===t&&g("307"),t}var q={Children:{map:function(t,e,n){if(null==t)return t;var r=[];return F(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;L(t,j,e=N(null,null,e,n)),R(e)},count:function(t){return L(t,function(){return null},null)},toArray:function(t){var e=[];return F(t,e,null,function(t){return t}),e},only:function(t){return k(t)||g("143"),t}},createRef:function(){return{current:null}},Component:E,PureComponent:S,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:f,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:p,render:t}},lazy:function(t){return{$$typeof:m,_ctor:t,_status:-1,_result:null}},memo:function(t,e){return{$$typeof:y,type:t,compare:void 0===e?null:e}},useCallback:function(t,e){return V().useCallback(t,e)},useContext:function(t,e){return V().useContext(t,e)},useEffect:function(t,e){return V().useEffect(t,e)},useImperativeHandle:function(t,e,n){return V().useImperativeHandle(t,e,n)},useDebugValue:function(){},useLayoutEffect:function(t,e){return V().useLayoutEffect(t,e)},useMemo:function(t,e){return V().useMemo(t,e)},useReducer:function(t,e,n){return V().useReducer(t,e,n)},useRef:function(t){return V().useRef(t)},useState:function(t){return V().useState(t)},Fragment:s,StrictMode:u,Suspense:d,createElement:x,cloneElement:function(t,e,n){(null===t||void 0===t)&&g("267",t);var i=void 0,a=r({},t.props),s=t.key,u=t.ref,c=t._owner;if(null!=e){void 0!==e.ref&&(u=e.ref,c=A.current),void 0!==e.key&&(s=""+e.key);var l=void 0;for(i in t.type&&t.type.defaultProps&&(l=t.type.defaultProps),e)O.call(e,i)&&!C.hasOwnProperty(i)&&(a[i]=void 0===e[i]&&void 0!==l?l[i]:e[i])}if(1===(i=arguments.length-2))a.children=n;else if(1<i){l=Array(i);for(var f=0;f<i;f++)l[f]=arguments[f+2];a.children=l}return{$$typeof:o,type:t.type,key:s,ref:u,props:a,_owner:c}},createFactory:function(t){var e=x.bind(null,t);return e.type=t,e},isValidElement:k,version:"16.8.4",unstable_ConcurrentMode:h,unstable_Profiler:c,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:I,ReactCurrentOwner:A,assign:r}},B={default:q},W=B&&q||B;t.exports=W.default||W},function(t,e,n){"use strict";var r=n(0),i=n(185),o=n(281);function a(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(t,e,n,r,i,o,a,s){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;(t=Error(e.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw t.framesToPop=1,t}}(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}r||a("227");var s=!1,u=null,c=!1,l=null,f={onError:function(t){s=!0,u=t}};function h(t,e,n,r,i,o,a,c,l){s=!1,u=null,function(t,e,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(l){this.onError(l)}}.apply(f,arguments)}var p=null,d={};function y(){if(p)for(var t in d){var e=d[t],n=p.indexOf(t);if(-1<n||a("96",t),!v[n])for(var r in e.extractEvents||a("97",t),v[n]=e,n=e.eventTypes){var i=void 0,o=n[r],s=e,u=r;g.hasOwnProperty(u)&&a("99",u),g[u]=o;var c=o.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&m(c[i],s,u);i=!0}else o.registrationName?(m(o.registrationName,s,u),i=!0):i=!1;i||a("98",r,t)}}}function m(t,e,n){b[t]&&a("100",t),b[t]=e,w[t]=e.eventTypes[n].dependencies}var v=[],g={},b={},w={},E=null,T=null,S=null;function _(t,e,n){var r=t.type||"unknown-event";t.currentTarget=S(n),function(t,e,n,r,i,o,f,p,d){if(h.apply(this,arguments),s){if(s){var y=u;s=!1,u=null}else a("198"),y=void 0;c||(c=!0,l=y)}}(r,e,void 0,t),t.currentTarget=null}function I(t,e){return null==e&&a("30"),null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function A(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var O=null;function C(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)_(t,e[r],n[r]);else e&&_(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}var x={injectEventPluginOrder:function(t){p&&a("101"),p=Array.prototype.slice.call(t),y()},injectEventPluginsByName:function(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];d.hasOwnProperty(e)&&d[e]===r||(d[e]&&a("102",e),d[e]=r,n=!0)}n&&y()}};function k(t,e){var n=t.stateNode;if(!n)return null;var r=E(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}return t?null:(n&&"function"!==typeof n&&a("231",e,typeof n),n)}function P(t){if(null!==t&&(O=I(O,t)),t=O,O=null,t&&(A(t,C),O&&a("95"),c))throw t=l,c=!1,l=null,t}var D=Math.random().toString(36).slice(2),N="__reactInternalInstance$"+D,R="__reactEventHandlers$"+D;function L(t){if(t[N])return t[N];for(;!t[N];){if(!t.parentNode)return null;t=t.parentNode}return 5===(t=t[N]).tag||6===t.tag?t:null}function M(t){return!(t=t[N])||5!==t.tag&&6!==t.tag?null:t}function j(t){if(5===t.tag||6===t.tag)return t.stateNode;a("33")}function U(t){return t[R]||null}function F(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function V(t,e,n){(e=k(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=I(n._dispatchListeners,e),n._dispatchInstances=I(n._dispatchInstances,t))}function q(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=F(e);for(e=n.length;0<e--;)V(n[e],"captured",t);for(e=0;e<n.length;e++)V(n[e],"bubbled",t)}}function B(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=k(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=I(n._dispatchListeners,e),n._dispatchInstances=I(n._dispatchInstances,t))}function W(t){t&&t.dispatchConfig.registrationName&&B(t._targetInst,null,t)}function z(t){A(t,q)}var K=!("undefined"===typeof window||!window.document||!window.document.createElement);function Q(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var H={animationend:Q("Animation","AnimationEnd"),animationiteration:Q("Animation","AnimationIteration"),animationstart:Q("Animation","AnimationStart"),transitionend:Q("Transition","TransitionEnd")},G={},Y={};function X(t){if(G[t])return G[t];if(!H[t])return t;var e,n=H[t];for(e in n)if(n.hasOwnProperty(e)&&e in Y)return G[t]=n[e];return t}K&&(Y=document.createElement("div").style,"AnimationEvent"in window||(delete H.animationend.animation,delete H.animationiteration.animation,delete H.animationstart.animation),"TransitionEvent"in window||delete H.transitionend.transition);var $=X("animationend"),J=X("animationiteration"),Z=X("animationstart"),tt=X("transitionend"),et="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nt=null,rt=null,it=null;function ot(){if(it)return it;var t,e,n=rt,r=n.length,i="value"in nt?nt.value:nt.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return it=i.slice(t,1<e?1-e:void 0)}function at(){return!0}function st(){return!1}function ut(t,e,n,r){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?at:st,this.isPropagationStopped=st,this}function ct(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function lt(t){t instanceof this||a("279"),t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function ft(t){t.eventPool=[],t.getPooled=ct,t.release=lt}i(ut.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=at)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=at)},persist:function(){this.isPersistent=at},isPersistent:st,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=st,this._dispatchInstances=this._dispatchListeners=null}}),ut.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ut.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var o=new e;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,t),n.extend=r.extend,ft(n),n},ft(ut);var ht=ut.extend({data:null}),pt=ut.extend({data:null}),dt=[9,13,27,32],yt=K&&"CompositionEvent"in window,mt=null;K&&"documentMode"in document&&(mt=document.documentMode);var vt=K&&"TextEvent"in window&&!mt,gt=K&&(!yt||mt&&8<mt&&11>=mt),bt=String.fromCharCode(32),wt={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Et=!1;function Tt(t,e){switch(t){case"keyup":return-1!==dt.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function St(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var _t=!1;var It={eventTypes:wt,extractEvents:function(t,e,n,r){var i=void 0,o=void 0;if(yt)t:{switch(t){case"compositionstart":i=wt.compositionStart;break t;case"compositionend":i=wt.compositionEnd;break t;case"compositionupdate":i=wt.compositionUpdate;break t}i=void 0}else _t?Tt(t,n)&&(i=wt.compositionEnd):"keydown"===t&&229===n.keyCode&&(i=wt.compositionStart);return i?(gt&&"ko"!==n.locale&&(_t||i!==wt.compositionStart?i===wt.compositionEnd&&_t&&(o=ot()):(rt="value"in(nt=r)?nt.value:nt.textContent,_t=!0)),i=ht.getPooled(i,e,n,r),o?i.data=o:null!==(o=St(n))&&(i.data=o),z(i),o=i):o=null,(t=vt?function(t,e){switch(t){case"compositionend":return St(e);case"keypress":return 32!==e.which?null:(Et=!0,bt);case"textInput":return(t=e.data)===bt&&Et?null:t;default:return null}}(t,n):function(t,e){if(_t)return"compositionend"===t||!yt&&Tt(t,e)?(t=ot(),it=rt=nt=null,_t=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gt&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=pt.getPooled(wt.beforeInput,e,n,r)).data=t,z(e)):e=null,null===o?e:null===e?o:[o,e]}},At=null,Ot=null,Ct=null;function xt(t){if(t=T(t)){"function"!==typeof At&&a("280");var e=E(t.stateNode);At(t.stateNode,t.type,e)}}function kt(t){Ot?Ct?Ct.push(t):Ct=[t]:Ot=t}function Pt(){if(Ot){var t=Ot,e=Ct;if(Ct=Ot=null,xt(t),e)for(t=0;t<e.length;t++)xt(e[t])}}function Dt(t,e){return t(e)}function Nt(t,e,n){return t(e,n)}function Rt(){}var Lt=!1;function Mt(t,e){if(Lt)return t(e);Lt=!0;try{return Dt(t,e)}finally{Lt=!1,(null!==Ot||null!==Ct)&&(Rt(),Pt())}}var jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ut(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!jt[t.type]:"textarea"===e}function Ft(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function Vt(t){if(!K)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}function qt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Bt(t){t._valueTracker||(t._valueTracker=function(t){var e=qt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Wt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=qt(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}var zt=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;zt.hasOwnProperty("ReactCurrentDispatcher")||(zt.ReactCurrentDispatcher={current:null});var Kt=/^(.*)[\\\/]/,Qt="function"===typeof Symbol&&Symbol.for,Ht=Qt?Symbol.for("react.element"):60103,Gt=Qt?Symbol.for("react.portal"):60106,Yt=Qt?Symbol.for("react.fragment"):60107,Xt=Qt?Symbol.for("react.strict_mode"):60108,$t=Qt?Symbol.for("react.profiler"):60114,Jt=Qt?Symbol.for("react.provider"):60109,Zt=Qt?Symbol.for("react.context"):60110,te=Qt?Symbol.for("react.concurrent_mode"):60111,ee=Qt?Symbol.for("react.forward_ref"):60112,ne=Qt?Symbol.for("react.suspense"):60113,re=Qt?Symbol.for("react.memo"):60115,ie=Qt?Symbol.for("react.lazy"):60116,oe="function"===typeof Symbol&&Symbol.iterator;function ae(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=oe&&t[oe]||t["@@iterator"])?t:null}function se(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case te:return"ConcurrentMode";case Yt:return"Fragment";case Gt:return"Portal";case $t:return"Profiler";case Xt:return"StrictMode";case ne:return"Suspense"}if("object"===typeof t)switch(t.$$typeof){case Zt:return"Context.Consumer";case Jt:return"Context.Provider";case ee:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case re:return se(t.type);case ie:if(t=1===t._status?t._result:null)return se(t)}return null}function ue(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,o=se(t.type);n=null,r&&(n=se(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(Kt,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}e+=n,t=t.return}while(t);return e}var ce=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,le=Object.prototype.hasOwnProperty,fe={},he={};function pe(t,e,n,r,i){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e}var de={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){de[t]=new pe(t,0,!1,t,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];de[e]=new pe(e,1,!1,t[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){de[t]=new pe(t,2,!1,t.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){de[t]=new pe(t,2,!1,t,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){de[t]=new pe(t,3,!1,t.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(t){de[t]=new pe(t,3,!0,t,null)}),["capture","download"].forEach(function(t){de[t]=new pe(t,4,!1,t,null)}),["cols","rows","size","span"].forEach(function(t){de[t]=new pe(t,6,!1,t,null)}),["rowSpan","start"].forEach(function(t){de[t]=new pe(t,5,!1,t.toLowerCase(),null)});var ye=/[\-:]([a-z])/g;function me(t){return t[1].toUpperCase()}function ve(t,e,n,r){var i=de.hasOwnProperty(e)?de[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!le.call(he,t)||!le.call(fe,t)&&(ce.test(t)?he[t]=!0:(fe[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}function ge(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function be(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function we(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=ge(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Ee(t,e){null!=(e=e.checked)&&ve(t,"checked",e,!1)}function Te(t,e){Ee(t,e);var n=ge(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?_e(t,e.type,n):e.hasOwnProperty("defaultValue")&&_e(t,e.type,ge(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Se(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function _e(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ye,me);de[e]=new pe(e,1,!1,t,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ye,me);de[e]=new pe(e,1,!1,t,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ye,me);de[e]=new pe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(t){de[t]=new pe(t,1,!1,t.toLowerCase(),null)});var Ie={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Ae(t,e,n){return(t=ut.getPooled(Ie.change,t,e,n)).type="change",kt(n),z(t),t}var Oe=null,Ce=null;function xe(t){P(t)}function ke(t){if(Wt(j(t)))return t}function Pe(t,e){if("change"===t)return e}var De=!1;function Ne(){Oe&&(Oe.detachEvent("onpropertychange",Re),Ce=Oe=null)}function Re(t){"value"===t.propertyName&&ke(Ce)&&Mt(xe,t=Ae(Ce,t,Ft(t)))}function Le(t,e,n){"focus"===t?(Ne(),Ce=n,(Oe=e).attachEvent("onpropertychange",Re)):"blur"===t&&Ne()}function Me(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return ke(Ce)}function je(t,e){if("click"===t)return ke(e)}function Ue(t,e){if("input"===t||"change"===t)return ke(e)}K&&(De=Vt("input")&&(!document.documentMode||9<document.documentMode));var Fe={eventTypes:Ie,_isInputEventSupported:De,extractEvents:function(t,e,n,r){var i=e?j(e):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?o=Pe:Ut(i)?De?o=Ue:(o=Me,a=Le):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=je),o&&(o=o(t,e)))return Ae(o,n,r);a&&a(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&_e(i,"number",i.value)}},Ve=ut.extend({view:null,detail:null}),qe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Be(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=qe[t])&&!!e[t]}function We(){return Be}var ze=0,Ke=0,Qe=!1,He=!1,Ge=Ve.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:We,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=ze;return ze=t.screenX,Qe?"mousemove"===t.type?t.screenX-e:0:(Qe=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Ke;return Ke=t.screenY,He?"mousemove"===t.type?t.screenY-e:0:(He=!0,0)}}),Ye=Ge.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Xe={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},$e={eventTypes:Xe,extractEvents:function(t,e,n,r){var i="mouseover"===t||"pointerover"===t,o="mouseout"===t||"pointerout"===t;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=e,e=(e=n.relatedTarget||n.toElement)?L(e):null):o=null,o===e)return null;var a=void 0,s=void 0,u=void 0,c=void 0;"mouseout"===t||"mouseover"===t?(a=Ge,s=Xe.mouseLeave,u=Xe.mouseEnter,c="mouse"):"pointerout"!==t&&"pointerover"!==t||(a=Ye,s=Xe.pointerLeave,u=Xe.pointerEnter,c="pointer");var l=null==o?i:j(o);if(i=null==e?i:j(e),(t=a.getPooled(s,o,n,r)).type=c+"leave",t.target=l,t.relatedTarget=i,(n=a.getPooled(u,e,n,r)).type=c+"enter",n.target=i,n.relatedTarget=l,r=e,o&&r)t:{for(i=r,c=0,a=e=o;a;a=F(a))c++;for(a=0,u=i;u;u=F(u))a++;for(;0<c-a;)e=F(e),c--;for(;0<a-c;)i=F(i),a--;for(;c--;){if(e===i||e===i.alternate)break t;e=F(e),i=F(i)}e=null}else e=null;for(i=e,e=[];o&&o!==i&&(null===(c=o.alternate)||c!==i);)e.push(o),o=F(o);for(o=[];r&&r!==i&&(null===(c=r.alternate)||c!==i);)o.push(r),r=F(r);for(r=0;r<e.length;r++)B(e[r],"bubbled",t);for(r=o.length;0<r--;)B(o[r],"captured",n);return[t,n]}};function Je(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e}var Ze=Object.prototype.hasOwnProperty;function tn(t,e){if(Je(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Ze.call(e,n[r])||!Je(t[n[r]],e[n[r]]))return!1;return!0}function en(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if(0!==(2&e.effectTag))return 1;for(;e.return;)if(0!==(2&(e=e.return).effectTag))return 1}return 3===e.tag?2:3}function nn(t){2!==en(t)&&a("188")}function rn(t){if(!(t=function(t){var e=t.alternate;if(!e)return 3===(e=en(t))&&a("188"),1===e?null:t;for(var n=t,r=e;;){var i=n.return,o=i?i.alternate:null;if(!i||!o)break;if(i.child===o.child){for(var s=i.child;s;){if(s===n)return nn(i),t;if(s===r)return nn(i),e;s=s.sibling}a("188")}if(n.return!==r.return)n=i,r=o;else{s=!1;for(var u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}s||a("189")}}n.alternate!==r&&a("190")}return 3!==n.tag&&a("188"),n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}var on=ut.extend({animationName:null,elapsedTime:null,pseudoElement:null}),an=ut.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sn=Ve.extend({relatedTarget:null});function un(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ln={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn=Ve.extend({key:function(t){if(t.key){var e=cn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=un(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?ln[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:We,charCode:function(t){return"keypress"===t.type?un(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?un(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),hn=Ge.extend({dataTransfer:null}),pn=Ve.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:We}),dn=ut.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),yn=Ge.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),mn=[["abort","abort"],[$,"animationEnd"],[J,"animationIteration"],[Z,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[tt,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],vn={},gn={};function bn(t,e){var n=t[0],r="on"+((t=t[1])[0].toUpperCase()+t.slice(1));e={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:e},vn[t]=e,gn[n]=e}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(t){bn(t,!0)}),mn.forEach(function(t){bn(t,!1)});var wn={eventTypes:vn,isInteractiveTopLevelEventType:function(t){return void 0!==(t=gn[t])&&!0===t.isInteractive},extractEvents:function(t,e,n,r){var i=gn[t];if(!i)return null;switch(t){case"keypress":if(0===un(n))return null;case"keydown":case"keyup":t=fn;break;case"blur":case"focus":t=sn;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Ge;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=pn;break;case $:case J:case Z:t=on;break;case tt:t=dn;break;case"scroll":t=Ve;break;case"wheel":t=yn;break;case"copy":case"cut":case"paste":t=an;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Ye;break;default:t=ut}return z(e=t.getPooled(i,e,n,r)),e}},En=wn.isInteractiveTopLevelEventType,Tn=[];function Sn(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;t.ancestors.push(n),n=L(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=Ft(t.nativeEvent);r=t.topLevelType;for(var o=t.nativeEvent,a=null,s=0;s<v.length;s++){var u=v[s];u&&(u=u.extractEvents(r,e,o,i))&&(a=I(a,u))}P(a)}}var _n=!0;function In(t,e){if(!e)return null;var n=(En(t)?On:Cn).bind(null,t);e.addEventListener(t,n,!1)}function An(t,e){if(!e)return null;var n=(En(t)?On:Cn).bind(null,t);e.addEventListener(t,n,!0)}function On(t,e){Nt(Cn,t,e)}function Cn(t,e){if(_n){var n=Ft(e);if(null===(n=L(n))||"number"!==typeof n.tag||2===en(n)||(n=null),Tn.length){var r=Tn.pop();r.topLevelType=t,r.nativeEvent=e,r.targetInst=n,t=r}else t={topLevelType:t,nativeEvent:e,targetInst:n,ancestors:[]};try{Mt(Sn,t)}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>Tn.length&&Tn.push(t)}}}var xn={},kn=0,Pn="_reactListenersID"+(""+Math.random()).slice(2);function Dn(t){return Object.prototype.hasOwnProperty.call(t,Pn)||(t[Pn]=kn++,xn[t[Pn]]={}),xn[t[Pn]]}function Nn(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Rn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ln(t,e){var n,r=Rn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Rn(r)}}function Mn(){for(var t=window,e=Nn();e instanceof t.HTMLIFrameElement;){try{t=e.contentDocument.defaultView}catch(n){break}e=Nn(t.document)}return e}function jn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function Un(t){var e=Mn(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&jn(n))if(e=r.start,void 0===(t=r.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Ln(n,o);var a=Ln(n,r);i&&a&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Fn=K&&"documentMode"in document&&11>=document.documentMode,Vn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},qn=null,Bn=null,Wn=null,zn=!1;function Kn(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return zn||null==qn||qn!==Nn(n)?null:("selectionStart"in(n=qn)&&jn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Wn&&tn(Wn,n)?null:(Wn=n,(t=ut.getPooled(Vn.select,Bn,t,e)).type="select",t.target=qn,z(t),t))}var Qn={eventTypes:Vn,extractEvents:function(t,e,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){t:{o=Dn(o),i=w.onSelect;for(var a=0;a<i.length;a++){var s=i[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break t}}o=!0}i=!o}if(i)return null;switch(o=e?j(e):window,t){case"focus":(Ut(o)||"true"===o.contentEditable)&&(qn=o,Bn=e,Wn=null);break;case"blur":Wn=Bn=qn=null;break;case"mousedown":zn=!0;break;case"contextmenu":case"mouseup":case"dragend":return zn=!1,Kn(n,r);case"selectionchange":if(Fn)break;case"keydown":case"keyup":return Kn(n,r)}return null}};function Hn(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,function(t){null!=t&&(e+=t)}),e}(e.children))&&(t.children=e),t}function Gn(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ge(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function Yn(t,e){return null!=e.dangerouslySetInnerHTML&&a("91"),i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xn(t,e){var n=e.value;null==n&&(n=e.defaultValue,null!=(e=e.children)&&(null!=n&&a("92"),Array.isArray(e)&&(1>=e.length||a("93"),e=e[0]),n=e),null==n&&(n="")),t._wrapperState={initialValue:ge(n)}}function $n(t,e){var n=ge(e.value),r=ge(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function Jn(t){var e=t.textContent;e===t._wrapperState.initialValue&&(t.value=e)}x.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),E=U,T=M,S=j,x.injectEventPluginsByName({SimpleEventPlugin:wn,EnterLeaveEventPlugin:$e,ChangeEventPlugin:Fe,SelectEventPlugin:Qn,BeforeInputEventPlugin:It});var Zn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function tr(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function er(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?tr(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var nr,rr=void 0,ir=(nr=function(t,e){if(t.namespaceURI!==Zn.svg||"innerHTML"in t)t.innerHTML=e;else{for((rr=rr||document.createElement("div")).innerHTML="<svg>"+e+"</svg>",e=rr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction(function(){return nr(t,e)})}:nr);function or(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ar={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sr=["Webkit","ms","Moz","O"];function ur(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||ar.hasOwnProperty(t)&&ar[t]?(""+e).trim():e+"px"}function cr(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ur(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(ar).forEach(function(t){sr.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ar[e]=ar[t]})});var lr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fr(t,e){e&&(lr[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML)&&a("137",t,""),null!=e.dangerouslySetInnerHTML&&(null!=e.children&&a("60"),"object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML||a("61")),null!=e.style&&"object"!==typeof e.style&&a("62",""))}function hr(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function pr(t,e){var n=Dn(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=w[e];for(var r=0;r<e.length;r++){var i=e[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":An("scroll",t);break;case"focus":case"blur":An("focus",t),An("blur",t),n.blur=!0,n.focus=!0;break;case"cancel":case"close":Vt(i)&&An(i,t);break;case"invalid":case"submit":case"reset":break;default:-1===et.indexOf(i)&&In(i,t)}n[i]=!0}}}function dr(){}var yr=null,mr=null;function vr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function gr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var br="function"===typeof setTimeout?setTimeout:void 0,wr="function"===typeof clearTimeout?clearTimeout:void 0,Er=o.unstable_scheduleCallback,Tr=o.unstable_cancelCallback;function Sr(t){for(t=t.nextSibling;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}function _r(t){for(t=t.firstChild;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}new Set;var Ir=[],Ar=-1;function Or(t){0>Ar||(t.current=Ir[Ar],Ir[Ar]=null,Ar--)}function Cr(t,e){Ir[++Ar]=t.current,t.current=e}var xr={},kr={current:xr},Pr={current:!1},Dr=xr;function Nr(t,e){var n=t.type.contextTypes;if(!n)return xr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Rr(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Lr(t){Or(Pr),Or(kr)}function Mr(t){Or(Pr),Or(kr)}function jr(t,e,n){kr.current!==xr&&a("168"),Cr(kr,e),Cr(Pr,n)}function Ur(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())o in t||a("108",se(e)||"Unknown",o);return i({},n,r)}function Fr(t){var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||xr,Dr=kr.current,Cr(kr,e),Cr(Pr,Pr.current),!0}function Vr(t,e,n){var r=t.stateNode;r||a("169"),n?(e=Ur(t,e,Dr),r.__reactInternalMemoizedMergedChildContext=e,Or(Pr),Or(kr),Cr(kr,e)):Or(Pr),Cr(Pr,n)}var qr=null,Br=null;function Wr(t){return function(e){try{return t(e)}catch(n){}}}function zr(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Kr(t,e,n,r){return new zr(t,e,n,r)}function Qr(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Hr(t,e){var n=t.alternate;return null===n?((n=Kr(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,n.contextDependencies=t.contextDependencies,n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gr(t,e,n,r,i,o){var s=2;if(r=t,"function"===typeof t)Qr(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case Yt:return Yr(n.children,i,o,e);case te:return Xr(n,3|i,o,e);case Xt:return Xr(n,2|i,o,e);case $t:return(t=Kr(12,n,e,4|i)).elementType=$t,t.type=$t,t.expirationTime=o,t;case ne:return(t=Kr(13,n,e,i)).elementType=ne,t.type=ne,t.expirationTime=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case Jt:s=10;break t;case Zt:s=9;break t;case ee:s=11;break t;case re:s=14;break t;case ie:s=16,r=null;break t}a("130",null==t?t:typeof t,"")}return(e=Kr(s,n,e,i)).elementType=t,e.type=r,e.expirationTime=o,e}function Yr(t,e,n,r){return(t=Kr(7,t,r,e)).expirationTime=n,t}function Xr(t,e,n,r){return t=Kr(8,t,r,e),e=0===(1&e)?Xt:te,t.elementType=e,t.type=e,t.expirationTime=n,t}function $r(t,e,n){return(t=Kr(6,t,null,e)).expirationTime=n,t}function Jr(t,e,n){return(e=Kr(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Zr(t,e){t.didError=!1;var n=t.earliestPendingTime;0===n?t.earliestPendingTime=t.latestPendingTime=e:n<e?t.earliestPendingTime=e:t.latestPendingTime>e&&(t.latestPendingTime=e),ni(e,t)}function ti(t,e){t.didError=!1,t.latestPingedTime>=e&&(t.latestPingedTime=0);var n=t.earliestPendingTime,r=t.latestPendingTime;n===e?t.earliestPendingTime=r===e?t.latestPendingTime=0:r:r===e&&(t.latestPendingTime=n),n=t.earliestSuspendedTime,r=t.latestSuspendedTime,0===n?t.earliestSuspendedTime=t.latestSuspendedTime=e:n<e?t.earliestSuspendedTime=e:r>e&&(t.latestSuspendedTime=e),ni(e,t)}function ei(t,e){var n=t.earliestPendingTime;return n>e&&(e=n),(t=t.earliestSuspendedTime)>e&&(e=t),e}function ni(t,e){var n=e.earliestSuspendedTime,r=e.latestSuspendedTime,i=e.earliestPendingTime,o=e.latestPingedTime;0===(i=0!==i?i:o)&&(0===t||r<t)&&(i=r),0!==(t=i)&&n>t&&(t=n),e.nextExpirationTimeToWorkOn=i,e.expirationTime=t}function ri(t,e){if(t&&t.defaultProps)for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var ii=(new r.Component).refs;function oi(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,null!==(r=t.updateQueue)&&0===t.expirationTime&&(r.baseState=n)}var ai={isMounted:function(t){return!!(t=t._reactInternalFiber)&&2===en(t)},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=Ts(),i=Xo(r=Ya(r,t));i.payload=e,void 0!==n&&null!==n&&(i.callback=n),Wa(),Jo(t,i),Ja(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=Ts(),i=Xo(r=Ya(r,t));i.tag=zo,i.payload=e,void 0!==n&&null!==n&&(i.callback=n),Wa(),Jo(t,i),Ja(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=Ts(),r=Xo(n=Ya(n,t));r.tag=Ko,void 0!==e&&null!==e&&(r.callback=e),Wa(),Jo(t,r),Ja(t,n)}};function si(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!tn(n,r)||!tn(i,o))}function ui(t,e,n){var r=!1,i=xr,o=e.contextType;return"object"===typeof o&&null!==o?o=Bo(o):(i=Rr(e)?Dr:kr.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?Nr(t,i):xr),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=ai,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ci(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ai.enqueueReplaceState(e,e.state,null)}function li(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=ii;var o=e.contextType;"object"===typeof o&&null!==o?i.context=Bo(o):(o=Rr(e)?Dr:kr.current,i.context=Nr(t,o)),null!==(o=t.updateQueue)&&(na(t,o,n,i,r),i.state=t.memoizedState),"function"===typeof(o=e.getDerivedStateFromProps)&&(oi(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&ai.enqueueReplaceState(i,i.state,null),null!==(o=t.updateQueue)&&(na(t,o,n,i,r),i.state=t.memoizedState)),"function"===typeof i.componentDidMount&&(t.effectTag|=4)}var fi=Array.isArray;function hi(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&a("309"),r=n.stateNode),r||a("147",t);var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===ii&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}"string"!==typeof t&&a("284"),n._owner||a("290",t)}return t}function pi(t,e){"textarea"!==t.type&&a("31","[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,"")}function di(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e,n){return(t=Hr(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=$r(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=hi(t,e,n),r.return=t,r):((r=Gr(n.type,n.key,n.props,null,t.mode,r)).ref=hi(t,e,n),r.return=t,r)}function l(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Jr(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function f(t,e,n,r,o){return null===e||7!==e.tag?((e=Yr(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function h(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=$r(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case Ht:return(n=Gr(e.type,e.key,e.props,null,t.mode,n)).ref=hi(t,null,e),n.return=t,n;case Gt:return(e=Jr(e,t.mode,n)).return=t,e}if(fi(e)||ae(e))return(e=Yr(e,t.mode,n,null)).return=t,e;pi(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Ht:return n.key===i?n.type===Yt?f(t,e,n.props.children,r,i):c(t,e,n,r):null;case Gt:return n.key===i?l(t,e,n,r):null}if(fi(n)||ae(n))return null!==i?null:f(t,e,n,r,null);pi(t,n)}return null}function d(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case Ht:return t=t.get(null===r.key?n:r.key)||null,r.type===Yt?f(e,t,r.props.children,i,r.key):c(e,t,r,i);case Gt:return l(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(fi(r)||ae(r))return f(e,t=t.get(n)||null,r,i,null);pi(e,r)}return null}function y(i,a,s,u){for(var c=null,l=null,f=a,y=a=0,m=null;null!==f&&y<s.length;y++){f.index>y?(m=f,f=null):m=f.sibling;var v=p(i,f,s[y],u);if(null===v){null===f&&(f=m);break}t&&f&&null===v.alternate&&e(i,f),a=o(v,a,y),null===l?c=v:l.sibling=v,l=v,f=m}if(y===s.length)return n(i,f),c;if(null===f){for(;y<s.length;y++)(f=h(i,s[y],u))&&(a=o(f,a,y),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);y<s.length;y++)(m=d(f,i,y,s[y],u))&&(t&&null!==m.alternate&&f.delete(null===m.key?y:m.key),a=o(m,a,y),null===l?c=m:l.sibling=m,l=m);return t&&f.forEach(function(t){return e(i,t)}),c}function m(i,s,u,c){var l=ae(u);"function"!==typeof l&&a("150"),null==(u=l.call(u))&&a("151");for(var f=l=null,y=s,m=s=0,v=null,g=u.next();null!==y&&!g.done;m++,g=u.next()){y.index>m?(v=y,y=null):v=y.sibling;var b=p(i,y,g.value,c);if(null===b){y||(y=v);break}t&&y&&null===b.alternate&&e(i,y),s=o(b,s,m),null===f?l=b:f.sibling=b,f=b,y=v}if(g.done)return n(i,y),l;if(null===y){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return l}for(y=r(i,y);!g.done;m++,g=u.next())null!==(g=d(y,i,m,g.value,c))&&(t&&null!==g.alternate&&y.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return t&&y.forEach(function(t){return e(i,t)}),l}return function(t,r,o,u){var c="object"===typeof o&&null!==o&&o.type===Yt&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case Ht:t:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag?o.type===Yt:c.elementType===o.type){n(t,c.sibling),(r=i(c,o.type===Yt?o.props.children:o.props)).ref=hi(t,c,o),r.return=t,t=r;break t}n(t,c);break}e(t,c),c=c.sibling}o.type===Yt?((r=Yr(o.props.children,t.mode,u,o.key)).return=t,t=r):((u=Gr(o.type,o.key,o.props,null,t.mode,u)).ref=hi(t,r,o),u.return=t,t=u)}return s(t);case Gt:t:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Jr(o,t.mode,u)).return=t,t=r}return s(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=$r(o,t.mode,u)).return=t,t=r),s(t);if(fi(o))return y(t,r,o,u);if(ae(o))return m(t,r,o,u);if(l&&pi(t,o),"undefined"===typeof o&&!c)switch(t.tag){case 1:case 0:a("152",(u=t.type).displayName||u.name||"Component")}return n(t,r)}}var yi=di(!0),mi=di(!1),vi={},gi={current:vi},bi={current:vi},wi={current:vi};function Ei(t){return t===vi&&a("174"),t}function Ti(t,e){Cr(wi,e),Cr(bi,t),Cr(gi,vi);var n=e.nodeType;switch(n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:er(null,"");break;default:e=er(e=(n=8===n?e.parentNode:e).namespaceURI||null,n=n.tagName)}Or(gi),Cr(gi,e)}function Si(t){Or(gi),Or(bi),Or(wi)}function _i(t){Ei(wi.current);var e=Ei(gi.current),n=er(e,t.type);e!==n&&(Cr(bi,t),Cr(gi,n))}function Ii(t){bi.current===t&&(Or(gi),Or(bi))}var Ai=0,Oi=2,Ci=4,xi=8,ki=16,Pi=32,Di=64,Ni=128,Ri=zt.ReactCurrentDispatcher,Li=0,Mi=null,ji=null,Ui=null,Fi=null,Vi=null,qi=null,Bi=0,Wi=null,zi=0,Ki=!1,Qi=null,Hi=0;function Gi(){a("307")}function Yi(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Je(t[n],e[n]))return!1;return!0}function Xi(t,e,n,r,i,o){if(Li=o,Mi=e,Ui=null!==t?t.memoizedState:null,Ri.current=null===Ui?co:lo,e=n(r,i),Ki){do{Ki=!1,Hi+=1,Ui=null!==t?t.memoizedState:null,qi=Fi,Wi=Vi=ji=null,Ri.current=lo,e=n(r,i)}while(Ki);Qi=null,Hi=0}return Ri.current=uo,(t=Mi).memoizedState=Fi,t.expirationTime=Bi,t.updateQueue=Wi,t.effectTag|=zi,t=null!==ji&&null!==ji.next,Li=0,qi=Vi=Fi=Ui=ji=Mi=null,Bi=0,Wi=null,zi=0,t&&a("300"),e}function $i(){Ri.current=uo,Li=0,qi=Vi=Fi=Ui=ji=Mi=null,Bi=0,Wi=null,zi=0,Ki=!1,Qi=null,Hi=0}function Ji(){var t={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Vi?Fi=Vi=t:Vi=Vi.next=t,Vi}function Zi(){if(null!==qi)qi=(Vi=qi).next,Ui=null!==(ji=Ui)?ji.next:null;else{null===Ui&&a("310");var t={memoizedState:(ji=Ui).memoizedState,baseState:ji.baseState,queue:ji.queue,baseUpdate:ji.baseUpdate,next:null};Vi=null===Vi?Fi=t:Vi.next=t,Ui=ji.next}return Vi}function to(t,e){return"function"===typeof e?e(t):e}function eo(t){var e=Zi(),n=e.queue;if(null===n&&a("311"),0<Hi){var r=n.dispatch;if(null!==Qi){var i=Qi.get(n);if(void 0!==i){Qi.delete(n);var o=e.memoizedState;do{o=t(o,i.action),i=i.next}while(null!==i);return Je(o,e.memoizedState)||(To=!0),e.memoizedState=o,e.baseUpdate===n.last&&(e.baseState=o),n.eagerReducer=t,n.eagerState=o,[o,r]}}return[e.memoizedState,r]}r=n.last;var s=e.baseUpdate;if(o=e.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var u=i=null,c=r,l=!1;do{var f=c.expirationTime;f<Li?(l||(l=!0,u=s,i=o),f>Bi&&(Bi=f)):o=c.eagerReducer===t?c.eagerState:t(o,c.action),s=c,c=c.next}while(null!==c&&c!==r);l||(u=s,i=o),Je(o,e.memoizedState)||(To=!0),e.memoizedState=o,e.baseUpdate=u,e.baseState=i,n.eagerReducer=t,n.eagerState=o}return[e.memoizedState,n.dispatch]}function no(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===Wi?(Wi={lastEffect:null}).lastEffect=t.next=t:null===(e=Wi.lastEffect)?Wi.lastEffect=t.next=t:(n=e.next,e.next=t,t.next=n,Wi.lastEffect=t),t}function ro(t,e,n,r){var i=Ji();zi|=t,i.memoizedState=no(e,n,void 0,void 0===r?null:r)}function io(t,e,n,r){var i=Zi();r=void 0===r?null:r;var o=void 0;if(null!==ji){var a=ji.memoizedState;if(o=a.destroy,null!==r&&Yi(r,a.deps))return void no(Ai,n,o,r)}zi|=t,i.memoizedState=no(e,n,o,r)}function oo(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function ao(){}function so(t,e,n){25>Hi||a("301");var r=t.alternate;if(t===Mi||null!==r&&r===Mi)if(Ki=!0,t={expirationTime:Li,action:n,eagerReducer:null,eagerState:null,next:null},null===Qi&&(Qi=new Map),void 0===(n=Qi.get(e)))Qi.set(e,t);else{for(e=n;null!==e.next;)e=e.next;e.next=t}else{Wa();var i=Ts(),o={expirationTime:i=Ya(i,t),action:n,eagerReducer:null,eagerState:null,next:null},s=e.last;if(null===s)o.next=o;else{var u=s.next;null!==u&&(o.next=u),s.next=o}if(e.last=o,0===t.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=e.eagerReducer))try{var c=e.eagerState,l=r(c,n);if(o.eagerReducer=r,o.eagerState=l,Je(l,c))return}catch(f){}Ja(t,i)}}var uo={readContext:Bo,useCallback:Gi,useContext:Gi,useEffect:Gi,useImperativeHandle:Gi,useLayoutEffect:Gi,useMemo:Gi,useReducer:Gi,useRef:Gi,useState:Gi,useDebugValue:Gi},co={readContext:Bo,useCallback:function(t,e){return Ji().memoizedState=[t,void 0===e?null:e],t},useContext:Bo,useEffect:function(t,e){return ro(516,Ni|Di,t,e)},useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ro(4,Ci|Pi,oo.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ro(4,Ci|Pi,t,e)},useMemo:function(t,e){var n=Ji();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ji();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={last:null,dispatch:null,eagerReducer:t,eagerState:e}).dispatch=so.bind(null,Mi,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},Ji().memoizedState=t},useState:function(t){var e=Ji();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={last:null,dispatch:null,eagerReducer:to,eagerState:t}).dispatch=so.bind(null,Mi,t),[e.memoizedState,t]},useDebugValue:ao},lo={readContext:Bo,useCallback:function(t,e){var n=Zi();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Yi(e,r[1])?r[0]:(n.memoizedState=[t,e],t)},useContext:Bo,useEffect:function(t,e){return io(516,Ni|Di,t,e)},useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,io(4,Ci|Pi,oo.bind(null,e,t),n)},useLayoutEffect:function(t,e){return io(4,Ci|Pi,t,e)},useMemo:function(t,e){var n=Zi();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Yi(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)},useReducer:eo,useRef:function(){return Zi().memoizedState},useState:function(t){return eo(to)},useDebugValue:ao},fo=null,ho=null,po=!1;function yo(t,e){var n=Kr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function mo(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function vo(t){if(po){var e=ho;if(e){var n=e;if(!mo(t,e)){if(!(e=Sr(n))||!mo(t,e))return t.effectTag|=2,po=!1,void(fo=t);yo(fo,n)}fo=t,ho=_r(e)}else t.effectTag|=2,po=!1,fo=t}}function go(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&18!==t.tag;)t=t.return;fo=t}function bo(t){if(t!==fo)return!1;if(!po)return go(t),po=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!gr(e,t.memoizedProps))for(e=ho;e;)yo(t,e),e=Sr(e);return go(t),ho=fo?Sr(t.stateNode):null,!0}function wo(){ho=fo=null,po=!1}var Eo=zt.ReactCurrentOwner,To=!1;function So(t,e,n,r){e.child=null===t?mi(e,null,n,r):yi(e,t.child,n,r)}function _o(t,e,n,r,i){n=n.render;var o=e.ref;return qo(e,i),r=Xi(t,e,n,r,o,i),null===t||To?(e.effectTag|=1,So(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),No(t,e,i))}function Io(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||Qr(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Gr(n.type,null,r,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Ao(t,e,a,r,i,o))}return a=t.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:tn)(i,r)&&t.ref===e.ref)?No(t,e,o):(e.effectTag|=1,(t=Hr(a,r)).ref=e.ref,t.return=e,e.child=t)}function Ao(t,e,n,r,i,o){return null!==t&&tn(t.memoizedProps,r)&&t.ref===e.ref&&(To=!1,i<o)?No(t,e,o):Co(t,e,n,r,o)}function Oo(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function Co(t,e,n,r,i){var o=Rr(n)?Dr:kr.current;return o=Nr(e,o),qo(e,i),n=Xi(t,e,n,r,o,i),null===t||To?(e.effectTag|=1,So(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),No(t,e,i))}function xo(t,e,n,r,i){if(Rr(n)){var o=!0;Fr(e)}else o=!1;if(qo(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),ui(e,n,r),li(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Bo(c):c=Nr(e,c=Rr(n)?Dr:kr.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&ci(e,a,r,c),Ho=!1;var h=e.memoizedState;u=a.state=h;var p=e.updateQueue;null!==p&&(na(e,p,r,a,i),u=e.memoizedState),s!==r||h!==u||Pr.current||Ho?("function"===typeof l&&(oi(e,n,l,r),u=e.memoizedState),(s=Ho||si(e,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.effectTag|=4)):("function"===typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.stateNode,s=e.memoizedProps,a.props=e.type===e.elementType?s:ri(e.type,s),u=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=Bo(c):c=Nr(e,c=Rr(n)?Dr:kr.current),(f="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&ci(e,a,r,c),Ho=!1,u=e.memoizedState,h=a.state=u,null!==(p=e.updateQueue)&&(na(e,p,r,a,i),h=e.memoizedState),s!==r||u!==h||Pr.current||Ho?("function"===typeof l&&(oi(e,n,l,r),h=e.memoizedState),(l=Ho||si(e,n,s,r,u,h,c))?(f||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,c)),"function"===typeof a.componentDidUpdate&&(e.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=h),a.props=r,a.state=h,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),r=!1);return ko(t,e,n,r,o,i)}function ko(t,e,n,r,i,o){Oo(t,e);var a=0!==(64&e.effectTag);if(!r&&!a)return i&&Vr(e,n,!1),No(t,e,o);r=e.stateNode,Eo.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=yi(e,t.child,null,o),e.child=yi(e,null,s,o)):So(t,e,s,o),e.memoizedState=r.state,i&&Vr(e,n,!0),e.child}function Po(t){var e=t.stateNode;e.pendingContext?jr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&jr(0,e.context,!1),Ti(t,e.containerInfo)}function Do(t,e,n){var r=e.mode,i=e.pendingProps,o=e.memoizedState;if(0===(64&e.effectTag)){o=null;var a=!1}else o={timedOutAt:null!==o?o.timedOutAt:0},a=!0,e.effectTag&=-65;if(null===t)if(a){var s=i.fallback;t=Yr(null,r,0,null),0===(1&e.mode)&&(t.child=null!==e.memoizedState?e.child.child:e.child),r=Yr(s,r,n,null),t.sibling=r,(n=t).return=r.return=e}else n=r=mi(e,null,i.children,n);else null!==t.memoizedState?(s=(r=t.child).sibling,a?(n=i.fallback,i=Hr(r,r.pendingProps),0===(1&e.mode)&&((a=null!==e.memoizedState?e.child.child:e.child)!==r.child&&(i.child=a)),r=i.sibling=Hr(s,n,s.expirationTime),n=i,i.childExpirationTime=0,n.return=r.return=e):n=r=yi(e,r.child,i.children,n)):(s=t.child,a?(a=i.fallback,(i=Yr(null,r,0,null)).child=s,0===(1&e.mode)&&(i.child=null!==e.memoizedState?e.child.child:e.child),(r=i.sibling=Yr(a,r,n,null)).effectTag|=2,n=i,i.childExpirationTime=0,n.return=r.return=e):r=n=yi(e,s,i.children,n)),e.stateNode=t.stateNode;return e.memoizedState=o,e.child=n,r}function No(t,e,n){if(null!==t&&(e.contextDependencies=t.contextDependencies),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child&&a("153"),null!==e.child){for(n=Hr(t=e.child,t.pendingProps,t.expirationTime),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Hr(t,t.pendingProps,t.expirationTime)).return=e;n.sibling=null}return e.child}function Ro(t,e,n){var r=e.expirationTime;if(null!==t){if(t.memoizedProps!==e.pendingProps||Pr.current)To=!0;else if(r<n){switch(To=!1,e.tag){case 3:Po(e),wo();break;case 5:_i(e);break;case 1:Rr(e.type)&&Fr(e);break;case 4:Ti(e,e.stateNode.containerInfo);break;case 10:Fo(e,e.memoizedProps.value);break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?Do(t,e,n):null!==(e=No(t,e,n))?e.sibling:null}return No(t,e,n)}}else To=!1;switch(e.expirationTime=0,e.tag){case 2:r=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps;var i=Nr(e,kr.current);if(qo(e,n),i=Xi(null,e,r,t,i,n),e.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,$i(),Rr(r)){var o=!0;Fr(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=r.getDerivedStateFromProps;"function"===typeof s&&oi(e,r,s,t),i.updater=ai,e.stateNode=i,i._reactInternalFiber=e,li(e,r,t,n),e=ko(null,e,r,!0,o,n)}else e.tag=0,So(null,e,i,n),e=e.child;return e;case 16:switch(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),o=e.pendingProps,t=function(t){var e=t._result;switch(t._status){case 1:return e;case 2:case 0:throw e;default:switch(t._status=0,(e=(e=t._ctor)()).then(function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)},function(e){0===t._status&&(t._status=2,t._result=e)}),t._status){case 1:return t._result;case 2:throw t._result}throw t._result=e,e}}(i),e.type=t,i=e.tag=function(t){if("function"===typeof t)return Qr(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===ee)return 11;if(t===re)return 14}return 2}(t),o=ri(t,o),s=void 0,i){case 0:s=Co(null,e,t,o,n);break;case 1:s=xo(null,e,t,o,n);break;case 11:s=_o(null,e,t,o,n);break;case 14:s=Io(null,e,t,ri(t.type,o),r,n);break;default:a("306",t,"")}return s;case 0:return r=e.type,i=e.pendingProps,Co(t,e,r,i=e.elementType===r?i:ri(r,i),n);case 1:return r=e.type,i=e.pendingProps,xo(t,e,r,i=e.elementType===r?i:ri(r,i),n);case 3:return Po(e),null===(r=e.updateQueue)&&a("282"),i=null!==(i=e.memoizedState)?i.element:null,na(e,r,e.pendingProps,null,n),(r=e.memoizedState.element)===i?(wo(),e=No(t,e,n)):(i=e.stateNode,(i=(null===t||null===t.child)&&i.hydrate)&&(ho=_r(e.stateNode.containerInfo),fo=e,i=po=!0),i?(e.effectTag|=2,e.child=mi(e,null,r,n)):(So(t,e,r,n),wo()),e=e.child),e;case 5:return _i(e),null===t&&vo(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,gr(r,i)?s=null:null!==o&&gr(r,o)&&(e.effectTag|=16),Oo(t,e),1!==n&&1&e.mode&&i.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(So(t,e,s,n),e=e.child),e;case 6:return null===t&&vo(e),null;case 13:return Do(t,e,n);case 4:return Ti(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=yi(e,null,r,n):So(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,_o(t,e,r,i=e.elementType===r?i:ri(r,i),n);case 7:return So(t,e,e.pendingProps,n),e.child;case 8:case 12:return So(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,Fo(e,o=i.value),null!==s){var u=s.value;if(0===(o=Je(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!Pr.current){e=No(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var c=u.contextDependencies;if(null!==c){s=u.child;for(var l=c.first;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=Xo(n)).tag=Ko,Jo(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),l=n;for(var f=u.return;null!==f;){var h=f.alternate;if(f.childExpirationTime<l)f.childExpirationTime=l,null!==h&&h.childExpirationTime<l&&(h.childExpirationTime=l);else{if(!(null!==h&&h.childExpirationTime<l))break;h.childExpirationTime=l}f=f.return}c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===e.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===e){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}}So(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,qo(e,n),r=r(i=Bo(i,o.unstable_observedBits)),e.effectTag|=1,So(t,e,r,n),e.child;case 14:return o=ri(i=e.type,e.pendingProps),Io(t,e,i,o=ri(i.type,o),r,n);case 15:return Ao(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ri(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,Rr(r)?(t=!0,Fr(e)):t=!1,qo(e,n),ui(e,r,i),li(e,r,i,n),ko(null,e,r,!0,t,n)}a("156")}var Lo={current:null},Mo=null,jo=null,Uo=null;function Fo(t,e){var n=t.type._context;Cr(Lo,n._currentValue),n._currentValue=e}function Vo(t){var e=Lo.current;Or(Lo),t.type._context._currentValue=e}function qo(t,e){Mo=t,Uo=jo=null;var n=t.contextDependencies;null!==n&&n.expirationTime>=e&&(To=!0),t.contextDependencies=null}function Bo(t,e){return Uo!==t&&!1!==e&&0!==e&&("number"===typeof e&&1073741823!==e||(Uo=t,e=1073741823),e={context:t,observedBits:e,next:null},null===jo?(null===Mo&&a("308"),jo=e,Mo.contextDependencies={first:e,expirationTime:0}):jo=jo.next=e),t._currentValue}var Wo=0,zo=1,Ko=2,Qo=3,Ho=!1;function Go(t){return{baseState:t,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Yo(t){return{baseState:t.baseState,firstUpdate:t.firstUpdate,lastUpdate:t.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Xo(t){return{expirationTime:t,tag:Wo,payload:null,callback:null,next:null,nextEffect:null}}function $o(t,e){null===t.lastUpdate?t.firstUpdate=t.lastUpdate=e:(t.lastUpdate.next=e,t.lastUpdate=e)}function Jo(t,e){var n=t.alternate;if(null===n){var r=t.updateQueue,i=null;null===r&&(r=t.updateQueue=Go(t.memoizedState))}else r=t.updateQueue,i=n.updateQueue,null===r?null===i?(r=t.updateQueue=Go(t.memoizedState),i=n.updateQueue=Go(n.memoizedState)):r=t.updateQueue=Yo(i):null===i&&(i=n.updateQueue=Yo(r));null===i||r===i?$o(r,e):null===r.lastUpdate||null===i.lastUpdate?($o(r,e),$o(i,e)):($o(r,e),i.lastUpdate=e)}function Zo(t,e){var n=t.updateQueue;null===(n=null===n?t.updateQueue=Go(t.memoizedState):ta(t,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=e:(n.lastCapturedUpdate.next=e,n.lastCapturedUpdate=e)}function ta(t,e){var n=t.alternate;return null!==n&&e===n.updateQueue&&(e=t.updateQueue=Yo(e)),e}function ea(t,e,n,r,o,a){switch(n.tag){case zo:return"function"===typeof(t=n.payload)?t.call(a,r,o):t;case Qo:t.effectTag=-2049&t.effectTag|64;case Wo:if(null===(o="function"===typeof(t=n.payload)?t.call(a,r,o):t)||void 0===o)break;return i({},r,o);case Ko:Ho=!0}return r}function na(t,e,n,r,i){Ho=!1;for(var o=(e=ta(t,e)).baseState,a=null,s=0,u=e.firstUpdate,c=o;null!==u;){var l=u.expirationTime;l<i?(null===a&&(a=u,o=c),s<l&&(s=l)):(c=ea(t,0,u,c,n,r),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastEffect?e.firstEffect=e.lastEffect=u:(e.lastEffect.nextEffect=u,e.lastEffect=u))),u=u.next}for(l=null,u=e.firstCapturedUpdate;null!==u;){var f=u.expirationTime;f<i?(null===l&&(l=u,null===a&&(o=c)),s<f&&(s=f)):(c=ea(t,0,u,c,n,r),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastCapturedEffect?e.firstCapturedEffect=e.lastCapturedEffect=u:(e.lastCapturedEffect.nextEffect=u,e.lastCapturedEffect=u))),u=u.next}null===a&&(e.lastUpdate=null),null===l?e.lastCapturedUpdate=null:t.effectTag|=32,null===a&&null===l&&(o=c),e.baseState=o,e.firstUpdate=a,e.firstCapturedUpdate=l,t.expirationTime=s,t.memoizedState=c}function ra(t,e,n){null!==e.firstCapturedUpdate&&(null!==e.lastUpdate&&(e.lastUpdate.next=e.firstCapturedUpdate,e.lastUpdate=e.lastCapturedUpdate),e.firstCapturedUpdate=e.lastCapturedUpdate=null),ia(e.firstEffect,n),e.firstEffect=e.lastEffect=null,ia(e.firstCapturedEffect,n),e.firstCapturedEffect=e.lastCapturedEffect=null}function ia(t,e){for(;null!==t;){var n=t.callback;if(null!==n){t.callback=null;var r=e;"function"!==typeof n&&a("191",n),n.call(r)}t=t.nextEffect}}function oa(t,e){return{value:t,source:e,stack:ue(e)}}function aa(t){t.effectTag|=4}var sa=void 0,ua=void 0,ca=void 0,la=void 0;sa=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ua=function(){},ca=function(t,e,n,r,o){var a=t.memoizedProps;if(a!==r){var s=e.stateNode;switch(Ei(gi.current),t=null,n){case"input":a=be(s,a),r=be(s,r),t=[];break;case"option":a=Hn(s,a),r=Hn(s,r),t=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),t=[];break;case"textarea":a=Yn(s,a),r=Yn(s,r),t=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(s.onclick=dr)}fr(n,r),s=n=void 0;var u=null;for(n in a)if(!r.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var c=a[n];for(s in c)c.hasOwnProperty(s)&&(u||(u={}),u[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(b.hasOwnProperty(n)?t||(t=[]):(t=t||[]).push(n,null));for(n in r){var l=r[n];if(c=null!=a?a[n]:void 0,r.hasOwnProperty(n)&&l!==c&&(null!=l||null!=c))if("style"===n)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(u||(u={}),u[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(u||(u={}),u[s]=l[s])}else u||(t||(t=[]),t.push(n,u)),u=l;else"dangerouslySetInnerHTML"===n?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(t=t||[]).push(n,""+l)):"children"===n?c===l||"string"!==typeof l&&"number"!==typeof l||(t=t||[]).push(n,""+l):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(b.hasOwnProperty(n)?(null!=l&&pr(o,n),t||c===l||(t=[])):(t=t||[]).push(n,l))}u&&(t=t||[]).push("style",u),o=t,(e.updateQueue=o)&&aa(e)}},la=function(t,e,n,r){n!==r&&aa(e)};var fa="function"===typeof WeakSet?WeakSet:Set;function ha(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=ue(n)),null!==n&&se(n.type),e=e.value,null!==t&&1===t.tag&&se(t.type);try{console.error(e)}catch(i){setTimeout(function(){throw i})}}function pa(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){Ga(t,n)}else e.current=null}function da(t,e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&t)!==Ai){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}(r.tag&e)!==Ai&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function ya(t){switch("function"===typeof Br&&Br(t),t.tag){case 0:case 11:case 14:case 15:var e=t.updateQueue;if(null!==e&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n.destroy;if(void 0!==r){var i=t;try{r()}catch(o){Ga(i,o)}}n=n.next}while(n!==e)}break;case 1:if(pa(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Ga(t,o)}break;case 5:pa(t);break;case 4:ga(t)}}function ma(t){return 5===t.tag||3===t.tag||4===t.tag}function va(t){t:{for(var e=t.return;null!==e;){if(ma(e)){var n=e;break t}e=e.return}a("160"),n=void 0}var r=e=void 0;switch(n.tag){case 5:e=n.stateNode,r=!1;break;case 3:case 4:e=n.stateNode.containerInfo,r=!0;break;default:a("161")}16&n.effectTag&&(or(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ma(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}for(var i=t;;){if(5===i.tag||6===i.tag)if(n)if(r){var o=e,s=i.stateNode,u=n;8===o.nodeType?o.parentNode.insertBefore(s,u):o.insertBefore(s,u)}else e.insertBefore(i.stateNode,n);else r?(s=e,u=i.stateNode,8===s.nodeType?(o=s.parentNode).insertBefore(u,s):(o=s).appendChild(u),null!==(s=s._reactRootContainer)&&void 0!==s||null!==o.onclick||(o.onclick=dr)):e.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function ga(t){for(var e=t,n=!1,r=void 0,i=void 0;;){if(!n){n=e.return;t:for(;;){switch(null===n&&a("160"),n.tag){case 5:r=n.stateNode,i=!1;break t;case 3:case 4:r=n.stateNode.containerInfo,i=!0;break t}n=n.return}n=!0}if(5===e.tag||6===e.tag){t:for(var o=e,s=o;;)if(ya(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===o)break;for(;null===s.sibling;){if(null===s.return||s.return===o)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}i?(o=r,s=e.stateNode,8===o.nodeType?o.parentNode.removeChild(s):o.removeChild(s)):r.removeChild(e.stateNode)}else if(4===e.tag){if(null!==e.child){r=e.stateNode.containerInfo,i=!0,e.child.return=e,e=e.child;continue}}else if(ya(e),null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;4===(e=e.return).tag&&(n=!1)}e.sibling.return=e.return,e=e.sibling}}function ba(t,e){switch(e.tag){case 0:case 11:case 14:case 15:da(Ci,xi,e);break;case 1:break;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps;t=null!==t?t.memoizedProps:r;var i=e.type,o=e.updateQueue;e.updateQueue=null,null!==o&&function(t,e,n,r,i){t[R]=i,"input"===n&&"radio"===i.type&&null!=i.name&&Ee(t,i),hr(n,r),r=hr(n,i);for(var o=0;o<e.length;o+=2){var a=e[o],s=e[o+1];"style"===a?cr(t,s):"dangerouslySetInnerHTML"===a?ir(t,s):"children"===a?or(t,s):ve(t,a,s,r)}switch(n){case"input":Te(t,i);break;case"textarea":$n(t,i);break;case"select":e=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!i.multiple,null!=(n=i.value)?Gn(t,!!i.multiple,n,!1):e!==!!i.multiple&&(null!=i.defaultValue?Gn(t,!!i.multiple,i.defaultValue,!0):Gn(t,!!i.multiple,i.multiple?[]:"",!1))}}(n,o,i,t,r)}break;case 6:null===e.stateNode&&a("162"),e.stateNode.nodeValue=e.memoizedProps;break;case 3:case 12:break;case 13:if(n=e.memoizedState,r=void 0,t=e,null===n?r=!1:(r=!0,t=e.child,0===n.timedOutAt&&(n.timedOutAt=Ts())),null!==t&&function(t,e){for(var n=t;;){if(5===n.tag){var r=n.stateNode;if(e)r.style.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=ur("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){(r=n.child.sibling).return=n,n=r;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(t,r),null!==(n=e.updateQueue)){e.updateQueue=null;var s=e.stateNode;null===s&&(s=e.stateNode=new fa),n.forEach(function(t){var n=function(t,e){var n=t.stateNode;null!==n&&n.delete(e),e=Ya(e=Ts(),t),null!==(t=$a(t,e))&&(Zr(t,e),0!==(e=t.expirationTime)&&Ss(t,e))}.bind(null,e,t);s.has(t)||(s.add(t),t.then(n,n))})}break;case 17:break;default:a("163")}}var wa="function"===typeof WeakMap?WeakMap:Map;function Ea(t,e,n){(n=Xo(n)).tag=Qo,n.payload={element:null};var r=e.value;return n.callback=function(){Ds(r),ha(t,e)},n}function Ta(t,e,n){(n=Xo(n)).tag=Qo;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ua?Ua=new Set([this]):Ua.add(this));var n=e.value,i=e.stack;ha(t,e),this.componentDidCatch(n,{componentStack:null!==i?i:""})}),n}function Sa(t){switch(t.tag){case 1:Rr(t.type)&&Lr();var e=t.effectTag;return 2048&e?(t.effectTag=-2049&e|64,t):null;case 3:return Si(),Mr(),0!==(64&(e=t.effectTag))&&a("285"),t.effectTag=-2049&e|64,t;case 5:return Ii(t),null;case 13:return 2048&(e=t.effectTag)?(t.effectTag=-2049&e|64,t):null;case 18:return null;case 4:return Si(),null;case 10:return Vo(t),null;default:return null}}var _a=zt.ReactCurrentDispatcher,Ia=zt.ReactCurrentOwner,Aa=1073741822,Oa=!1,Ca=null,xa=null,ka=0,Pa=-1,Da=!1,Na=null,Ra=!1,La=null,Ma=null,ja=null,Ua=null;function Fa(){if(null!==Ca)for(var t=Ca.return;null!==t;){var e=t;switch(e.tag){case 1:var n=e.type.childContextTypes;null!==n&&void 0!==n&&Lr();break;case 3:Si(),Mr();break;case 5:Ii(e);break;case 4:Si();break;case 10:Vo(e)}t=t.return}xa=null,ka=0,Pa=-1,Da=!1,Ca=null}function Va(){for(;null!==Na;){var t=Na.effectTag;if(16&t&&or(Na.stateNode,""),128&t){var e=Na.alternate;null!==e&&(null!==(e=e.ref)&&("function"===typeof e?e(null):e.current=null))}switch(14&t){case 2:va(Na),Na.effectTag&=-3;break;case 6:va(Na),Na.effectTag&=-3,ba(Na.alternate,Na);break;case 4:ba(Na.alternate,Na);break;case 8:ga(t=Na),t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,null!==(t=t.alternate)&&(t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null)}Na=Na.nextEffect}}function qa(){for(;null!==Na;){if(256&Na.effectTag)t:{var t=Na.alternate,e=Na;switch(e.tag){case 0:case 11:case 15:da(Oi,Ai,e);break t;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:ri(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}break t;case 3:case 5:case 6:case 4:case 17:break t;default:a("163")}}Na=Na.nextEffect}}function Ba(t,e){for(;null!==Na;){var n=Na.effectTag;if(36&n){var r=Na.alternate,i=Na,o=e;switch(i.tag){case 0:case 11:case 15:da(ki,Pi,i);break;case 1:var s=i.stateNode;if(4&i.effectTag)if(null===r)s.componentDidMount();else{var u=i.elementType===i.type?r.memoizedProps:ri(i.type,r.memoizedProps);s.componentDidUpdate(u,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}null!==(r=i.updateQueue)&&ra(0,r,s);break;case 3:if(null!==(r=i.updateQueue)){if(s=null,null!==i.child)switch(i.child.tag){case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}ra(0,r,s)}break;case 5:o=i.stateNode,null===r&&4&i.effectTag&&vr(i.type,i.memoizedProps)&&o.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:a("163")}}128&n&&(null!==(i=Na.ref)&&(o=Na.stateNode,"function"===typeof i?i(o):i.current=o)),512&n&&(La=t),Na=Na.nextEffect}}function Wa(){null!==Ma&&Tr(Ma),null!==ja&&ja()}function za(t,e){Ra=Oa=!0,t.current===e&&a("177");var n=t.pendingCommitExpirationTime;0===n&&a("261"),t.pendingCommitExpirationTime=0;var r=e.expirationTime,i=e.childExpirationTime;for(function(t,e){if(t.didError=!1,0===e)t.earliestPendingTime=0,t.latestPendingTime=0,t.earliestSuspendedTime=0,t.latestSuspendedTime=0,t.latestPingedTime=0;else{e<t.latestPingedTime&&(t.latestPingedTime=0);var n=t.latestPendingTime;0!==n&&(n>e?t.earliestPendingTime=t.latestPendingTime=0:t.earliestPendingTime>e&&(t.earliestPendingTime=t.latestPendingTime)),0===(n=t.earliestSuspendedTime)?Zr(t,e):e<t.latestSuspendedTime?(t.earliestSuspendedTime=0,t.latestSuspendedTime=0,t.latestPingedTime=0,Zr(t,e)):e>n&&Zr(t,e)}ni(0,t)}(t,i>r?i:r),Ia.current=null,r=void 0,1<e.effectTag?null!==e.lastEffect?(e.lastEffect.nextEffect=e,r=e.firstEffect):r=e:r=e.firstEffect,yr=_n,mr=function(){var t=Mn();if(jn(t)){if("selectionStart"in t)var e={start:t.selectionStart,end:t.selectionEnd};else t:{var n=(e=(e=t.ownerDocument)&&e.defaultView||window).getSelection&&e.getSelection();if(n&&0!==n.rangeCount){e=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{e.nodeType,i.nodeType}catch(p){e=null;break t}var o=0,a=-1,s=-1,u=0,c=0,l=t,f=null;e:for(;;){for(var h;l!==e||0!==r&&3!==l.nodeType||(a=o+r),l!==i||0!==n&&3!==l.nodeType||(s=o+n),3===l.nodeType&&(o+=l.nodeValue.length),null!==(h=l.firstChild);)f=l,l=h;for(;;){if(l===t)break e;if(f===e&&++u===r&&(a=o),f===i&&++c===n&&(s=o),null!==(h=l.nextSibling))break;f=(l=f).parentNode}l=h}e=-1===a||-1===s?null:{start:a,end:s}}else e=null}e=e||{start:0,end:0}}else e=null;return{focusedElem:t,selectionRange:e}}(),_n=!1,Na=r;null!==Na;){i=!1;var s=void 0;try{qa()}catch(c){i=!0,s=c}i&&(null===Na&&a("178"),Ga(Na,s),null!==Na&&(Na=Na.nextEffect))}for(Na=r;null!==Na;){i=!1,s=void 0;try{Va()}catch(c){i=!0,s=c}i&&(null===Na&&a("178"),Ga(Na,s),null!==Na&&(Na=Na.nextEffect))}for(Un(mr),mr=null,_n=!!yr,yr=null,t.current=e,Na=r;null!==Na;){i=!1,s=void 0;try{Ba(t,n)}catch(c){i=!0,s=c}i&&(null===Na&&a("178"),Ga(Na,s),null!==Na&&(Na=Na.nextEffect))}if(null!==r&&null!==La){var u=function(t,e){ja=Ma=La=null;var n=is;is=!0;do{if(512&e.effectTag){var r=!1,i=void 0;try{var o=e;da(Ni,Ai,o),da(Ai,Di,o)}catch(u){r=!0,i=u}r&&Ga(e,i)}e=e.nextEffect}while(null!==e);is=n,0!==(n=t.expirationTime)&&Ss(t,n),ls||is||Cs(1073741823,!1)}.bind(null,t,r);Ma=o.unstable_runWithPriority(o.unstable_NormalPriority,function(){return Er(u)}),ja=u}Oa=Ra=!1,"function"===typeof qr&&qr(e.stateNode),n=e.expirationTime,0===(e=(e=e.childExpirationTime)>n?e:n)&&(Ua=null),function(t,e){t.expirationTime=e,t.finishedWork=null}(t,e)}function Ka(t){for(;;){var e=t.alternate,n=t.return,r=t.sibling;if(0===(1024&t.effectTag)){Ca=t;t:{var o=e,s=ka,u=(e=t).pendingProps;switch(e.tag){case 2:case 16:break;case 15:case 0:break;case 1:Rr(e.type)&&Lr();break;case 3:Si(),Mr(),(u=e.stateNode).pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),null!==o&&null!==o.child||(bo(e),e.effectTag&=-3),ua(e);break;case 5:Ii(e);var c=Ei(wi.current);if(s=e.type,null!==o&&null!=e.stateNode)ca(o,e,s,u,c),o.ref!==e.ref&&(e.effectTag|=128);else if(u){var l=Ei(gi.current);if(bo(e)){o=(u=e).stateNode;var f=u.type,h=u.memoizedProps,p=c;switch(o[N]=u,o[R]=h,s=void 0,c=f){case"iframe":case"object":In("load",o);break;case"video":case"audio":for(f=0;f<et.length;f++)In(et[f],o);break;case"source":In("error",o);break;case"img":case"image":case"link":In("error",o),In("load",o);break;case"form":In("reset",o),In("submit",o);break;case"details":In("toggle",o);break;case"input":we(o,h),In("invalid",o),pr(p,"onChange");break;case"select":o._wrapperState={wasMultiple:!!h.multiple},In("invalid",o),pr(p,"onChange");break;case"textarea":Xn(o,h),In("invalid",o),pr(p,"onChange")}for(s in fr(c,h),f=null,h)h.hasOwnProperty(s)&&(l=h[s],"children"===s?"string"===typeof l?o.textContent!==l&&(f=["children",l]):"number"===typeof l&&o.textContent!==""+l&&(f=["children",""+l]):b.hasOwnProperty(s)&&null!=l&&pr(p,s));switch(c){case"input":Bt(o),Se(o,h,!0);break;case"textarea":Bt(o),Jn(o);break;case"select":case"option":break;default:"function"===typeof h.onClick&&(o.onclick=dr)}s=f,u.updateQueue=s,(u=null!==s)&&aa(e)}else{h=e,o=s,p=u,f=9===c.nodeType?c:c.ownerDocument,l===Zn.html&&(l=tr(o)),l===Zn.html?"script"===o?((o=f.createElement("div")).innerHTML="<script><\/script>",f=o.removeChild(o.firstChild)):"string"===typeof p.is?f=f.createElement(o,{is:p.is}):(f=f.createElement(o),"select"===o&&p.multiple&&(f.multiple=!0)):f=f.createElementNS(l,o),(o=f)[N]=h,o[R]=u,sa(o,e,!1,!1),p=o;var d=c,y=hr(f=s,h=u);switch(f){case"iframe":case"object":In("load",p),c=h;break;case"video":case"audio":for(c=0;c<et.length;c++)In(et[c],p);c=h;break;case"source":In("error",p),c=h;break;case"img":case"image":case"link":In("error",p),In("load",p),c=h;break;case"form":In("reset",p),In("submit",p),c=h;break;case"details":In("toggle",p),c=h;break;case"input":we(p,h),c=be(p,h),In("invalid",p),pr(d,"onChange");break;case"option":c=Hn(p,h);break;case"select":p._wrapperState={wasMultiple:!!h.multiple},c=i({},h,{value:void 0}),In("invalid",p),pr(d,"onChange");break;case"textarea":Xn(p,h),c=Yn(p,h),In("invalid",p),pr(d,"onChange");break;default:c=h}fr(f,c),l=void 0;var m=f,v=p,g=c;for(l in g)if(g.hasOwnProperty(l)){var w=g[l];"style"===l?cr(v,w):"dangerouslySetInnerHTML"===l?null!=(w=w?w.__html:void 0)&&ir(v,w):"children"===l?"string"===typeof w?("textarea"!==m||""!==w)&&or(v,w):"number"===typeof w&&or(v,""+w):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(b.hasOwnProperty(l)?null!=w&&pr(d,l):null!=w&&ve(v,l,w,y))}switch(f){case"input":Bt(p),Se(p,h,!1);break;case"textarea":Bt(p),Jn(p);break;case"option":null!=h.value&&p.setAttribute("value",""+ge(h.value));break;case"select":(c=p).multiple=!!h.multiple,null!=(p=h.value)?Gn(c,!!h.multiple,p,!1):null!=h.defaultValue&&Gn(c,!!h.multiple,h.defaultValue,!0);break;default:"function"===typeof c.onClick&&(p.onclick=dr)}(u=vr(s,u))&&aa(e),e.stateNode=o}null!==e.ref&&(e.effectTag|=128)}else null===e.stateNode&&a("166");break;case 6:o&&null!=e.stateNode?la(o,e,o.memoizedProps,u):("string"!==typeof u&&(null===e.stateNode&&a("166")),o=Ei(wi.current),Ei(gi.current),bo(e)?(s=(u=e).stateNode,o=u.memoizedProps,s[N]=u,(u=s.nodeValue!==o)&&aa(e)):(s=e,(u=(9===o.nodeType?o:o.ownerDocument).createTextNode(u))[N]=e,s.stateNode=u));break;case 11:break;case 13:if(u=e.memoizedState,0!==(64&e.effectTag)){e.expirationTime=s,Ca=e;break t}u=null!==u,s=null!==o&&null!==o.memoizedState,null!==o&&!u&&s&&(null!==(o=o.child.sibling)&&(null!==(c=e.firstEffect)?(e.firstEffect=o,o.nextEffect=c):(e.firstEffect=e.lastEffect=o,o.nextEffect=null),o.effectTag=8)),(u||s)&&(e.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Si(),ua(e);break;case 10:Vo(e);break;case 9:case 14:break;case 17:Rr(e.type)&&Lr();break;case 18:break;default:a("156")}Ca=null}if(e=t,1===ka||1!==e.childExpirationTime){for(u=0,s=e.child;null!==s;)(o=s.expirationTime)>u&&(u=o),(c=s.childExpirationTime)>u&&(u=c),s=s.sibling;e.childExpirationTime=u}if(null!==Ca)return Ca;null!==n&&0===(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=t.firstEffect),n.lastEffect=t.lastEffect),1<t.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=t:n.firstEffect=t,n.lastEffect=t))}else{if(null!==(t=Sa(t)))return t.effectTag&=1023,t;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==r)return r;if(null===n)break;t=n}return null}function Qa(t){var e=Ro(t.alternate,t,ka);return t.memoizedProps=t.pendingProps,null===e&&(e=Ka(t)),Ia.current=null,e}function Ha(t,e){Oa&&a("243"),Wa(),Oa=!0;var n=_a.current;_a.current=uo;var r=t.nextExpirationTimeToWorkOn;r===ka&&t===xa&&null!==Ca||(Fa(),ka=r,Ca=Hr((xa=t).current,null),t.pendingCommitExpirationTime=0);for(var i=!1;;){try{if(e)for(;null!==Ca&&!As();)Ca=Qa(Ca);else for(;null!==Ca;)Ca=Qa(Ca)}catch(v){if(Uo=jo=Mo=null,$i(),null===Ca)i=!0,Ds(v);else{null===Ca&&a("271");var o=Ca,s=o.return;if(null!==s){t:{var u=t,c=s,l=o,f=v;if(s=ka,l.effectTag|=1024,l.firstEffect=l.lastEffect=null,null!==f&&"object"===typeof f&&"function"===typeof f.then){var h=f;f=c;var p=-1,d=-1;do{if(13===f.tag){var y=f.alternate;if(null!==y&&null!==(y=y.memoizedState)){d=10*(1073741822-y.timedOutAt);break}"number"===typeof(y=f.pendingProps.maxDuration)&&(0>=y?p=0:(-1===p||y<p)&&(p=y))}f=f.return}while(null!==f);f=c;do{if((y=13===f.tag)&&(y=void 0!==f.memoizedProps.fallback&&null===f.memoizedState),y){if(null===(c=f.updateQueue)?((c=new Set).add(h),f.updateQueue=c):c.add(h),0===(1&f.mode)){f.effectTag|=64,l.effectTag&=-1957,1===l.tag&&(null===l.alternate?l.tag=17:((s=Xo(1073741823)).tag=Ko,Jo(l,s))),l.expirationTime=1073741823;break t}c=s;var m=(l=u).pingCache;null===m?(m=l.pingCache=new wa,y=new Set,m.set(h,y)):void 0===(y=m.get(h))&&(y=new Set,m.set(h,y)),y.has(c)||(y.add(c),l=Xa.bind(null,l,h,c),h.then(l,l)),-1===p?u=1073741823:(-1===d&&(d=10*(1073741822-ei(u,s))-5e3),u=d+p),0<=u&&Pa<u&&(Pa=u),f.effectTag|=2048,f.expirationTime=s;break t}f=f.return}while(null!==f);f=Error((se(l.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ue(l))}Da=!0,f=oa(f,l),u=c;do{switch(u.tag){case 3:u.effectTag|=2048,u.expirationTime=s,Zo(u,s=Ea(u,f,s));break t;case 1:if(p=f,d=u.type,l=u.stateNode,0===(64&u.effectTag)&&("function"===typeof d.getDerivedStateFromError||null!==l&&"function"===typeof l.componentDidCatch&&(null===Ua||!Ua.has(l)))){u.effectTag|=2048,u.expirationTime=s,Zo(u,s=Ta(u,p,s));break t}}u=u.return}while(null!==u)}Ca=Ka(o);continue}i=!0,Ds(v)}}break}if(Oa=!1,_a.current=n,Uo=jo=Mo=null,$i(),i)xa=null,t.finishedWork=null;else if(null!==Ca)t.finishedWork=null;else{if(null===(n=t.current.alternate)&&a("281"),xa=null,Da){if(i=t.latestPendingTime,o=t.latestSuspendedTime,s=t.latestPingedTime,0!==i&&i<r||0!==o&&o<r||0!==s&&s<r)return ti(t,r),void Es(t,n,r,t.expirationTime,-1);if(!t.didError&&e)return t.didError=!0,r=t.nextExpirationTimeToWorkOn=r,e=t.expirationTime=1073741823,void Es(t,n,r,e,-1)}e&&-1!==Pa?(ti(t,r),(e=10*(1073741822-ei(t,r)))<Pa&&(Pa=e),e=10*(1073741822-Ts()),e=Pa-e,Es(t,n,r,t.expirationTime,0>e?0:e)):(t.pendingCommitExpirationTime=r,t.finishedWork=n)}}function Ga(t,e){for(var n=t.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ua||!Ua.has(r)))return Jo(n,t=Ta(n,t=oa(e,t),1073741823)),void Ja(n,1073741823);break;case 3:return Jo(n,t=Ea(n,t=oa(e,t),1073741823)),void Ja(n,1073741823)}n=n.return}3===t.tag&&(Jo(t,n=Ea(t,n=oa(e,t),1073741823)),Ja(t,1073741823))}function Ya(t,e){var n=o.unstable_getCurrentPriorityLevel(),r=void 0;if(0===(1&e.mode))r=1073741823;else if(Oa&&!Ra)r=ka;else{switch(n){case o.unstable_ImmediatePriority:r=1073741823;break;case o.unstable_UserBlockingPriority:r=1073741822-10*(1+((1073741822-t+15)/10|0));break;case o.unstable_NormalPriority:r=1073741822-25*(1+((1073741822-t+500)/25|0));break;case o.unstable_LowPriority:case o.unstable_IdlePriority:r=1;break;default:a("313")}null!==xa&&r===ka&&--r}return n===o.unstable_UserBlockingPriority&&(0===ss||r<ss)&&(ss=r),r}function Xa(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),null!==xa&&ka===n?xa=null:(e=t.earliestSuspendedTime,r=t.latestSuspendedTime,0!==e&&n<=e&&n>=r&&(t.didError=!1,(0===(e=t.latestPingedTime)||e>n)&&(t.latestPingedTime=n),ni(n,t),0!==(n=t.expirationTime)&&Ss(t,n)))}function $a(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return i}function Ja(t,e){null!==(t=$a(t,e))&&(!Oa&&0!==ka&&e>ka&&Fa(),Zr(t,e),Oa&&!Ra&&xa===t||Ss(t,t.expirationTime),vs>ms&&(vs=0,a("185")))}function Za(t,e,n,r,i){return o.unstable_runWithPriority(o.unstable_ImmediatePriority,function(){return t(e,n,r,i)})}var ts=null,es=null,ns=0,rs=void 0,is=!1,os=null,as=0,ss=0,us=!1,cs=null,ls=!1,fs=!1,hs=null,ps=o.unstable_now(),ds=1073741822-(ps/10|0),ys=ds,ms=50,vs=0,gs=null;function bs(){ds=1073741822-((o.unstable_now()-ps)/10|0)}function ws(t,e){if(0!==ns){if(e<ns)return;null!==rs&&o.unstable_cancelCallback(rs)}ns=e,t=o.unstable_now()-ps,rs=o.unstable_scheduleCallback(Os,{timeout:10*(1073741822-e)-t})}function Es(t,e,n,r,i){t.expirationTime=r,0!==i||As()?0<i&&(t.timeoutHandle=br(function(t,e,n){t.pendingCommitExpirationTime=n,t.finishedWork=e,bs(),ys=ds,xs(t,n)}.bind(null,t,e,n),i)):(t.pendingCommitExpirationTime=n,t.finishedWork=e)}function Ts(){return is?ys:(_s(),0!==as&&1!==as||(bs(),ys=ds),ys)}function Ss(t,e){null===t.nextScheduledRoot?(t.expirationTime=e,null===es?(ts=es=t,t.nextScheduledRoot=t):(es=es.nextScheduledRoot=t).nextScheduledRoot=ts):e>t.expirationTime&&(t.expirationTime=e),is||(ls?fs&&(os=t,as=1073741823,ks(t,1073741823,!1)):1073741823===e?Cs(1073741823,!1):ws(t,e))}function _s(){var t=0,e=null;if(null!==es)for(var n=es,r=ts;null!==r;){var i=r.expirationTime;if(0===i){if((null===n||null===es)&&a("244"),r===r.nextScheduledRoot){ts=es=r.nextScheduledRoot=null;break}if(r===ts)ts=i=r.nextScheduledRoot,es.nextScheduledRoot=i,r.nextScheduledRoot=null;else{if(r===es){(es=n).nextScheduledRoot=ts,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if(i>t&&(t=i,e=r),r===es)break;if(1073741823===t)break;n=r,r=r.nextScheduledRoot}}os=e,as=t}var Is=!1;function As(){return!!Is||!!o.unstable_shouldYield()&&(Is=!0)}function Os(){try{if(!As()&&null!==ts){bs();var t=ts;do{var e=t.expirationTime;0!==e&&ds<=e&&(t.nextExpirationTimeToWorkOn=ds),t=t.nextScheduledRoot}while(t!==ts)}Cs(0,!0)}finally{Is=!1}}function Cs(t,e){if(_s(),e)for(bs(),ys=ds;null!==os&&0!==as&&t<=as&&!(Is&&ds>as);)ks(os,as,ds>as),_s(),bs(),ys=ds;else for(;null!==os&&0!==as&&t<=as;)ks(os,as,!1),_s();if(e&&(ns=0,rs=null),0!==as&&ws(os,as),vs=0,gs=null,null!==hs)for(t=hs,hs=null,e=0;e<t.length;e++){var n=t[e];try{n._onComplete()}catch(r){us||(us=!0,cs=r)}}if(us)throw t=cs,cs=null,us=!1,t}function xs(t,e){is&&a("253"),os=t,as=e,ks(t,e,!1),Cs(1073741823,!1)}function ks(t,e,n){if(is&&a("245"),is=!0,n){var r=t.finishedWork;null!==r?Ps(t,r,e):(t.finishedWork=null,-1!==(r=t.timeoutHandle)&&(t.timeoutHandle=-1,wr(r)),Ha(t,n),null!==(r=t.finishedWork)&&(As()?t.finishedWork=r:Ps(t,r,e)))}else null!==(r=t.finishedWork)?Ps(t,r,e):(t.finishedWork=null,-1!==(r=t.timeoutHandle)&&(t.timeoutHandle=-1,wr(r)),Ha(t,n),null!==(r=t.finishedWork)&&Ps(t,r,e));is=!1}function Ps(t,e,n){var r=t.firstBatch;if(null!==r&&r._expirationTime>=n&&(null===hs?hs=[r]:hs.push(r),r._defer))return t.finishedWork=e,void(t.expirationTime=0);t.finishedWork=null,t===gs?vs++:(gs=t,vs=0),o.unstable_runWithPriority(o.unstable_ImmediatePriority,function(){za(t,e)})}function Ds(t){null===os&&a("246"),os.expirationTime=0,us||(us=!0,cs=t)}function Ns(t,e){var n=ls;ls=!0;try{return t(e)}finally{(ls=n)||is||Cs(1073741823,!1)}}function Rs(t,e){if(ls&&!fs){fs=!0;try{return t(e)}finally{fs=!1}}return t(e)}function Ls(t,e,n){ls||is||0===ss||(Cs(ss,!1),ss=0);var r=ls;ls=!0;try{return o.unstable_runWithPriority(o.unstable_UserBlockingPriority,function(){return t(e,n)})}finally{(ls=r)||is||Cs(1073741823,!1)}}function Ms(t,e,n,r,i){var o=e.current;t:if(n){e:{2===en(n=n._reactInternalFiber)&&1===n.tag||a("170");var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Rr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(null!==s);a("171"),s=void 0}if(1===n.tag){var u=n.type;if(Rr(u)){n=Ur(n,u,s);break t}}n=s}else n=xr;return null===e.context?e.context=n:e.pendingContext=n,e=i,(i=Xo(r)).payload={element:t},null!==(e=void 0===e?null:e)&&(i.callback=e),Wa(),Jo(o,i),Ja(o,r),r}function js(t,e,n,r){var i=e.current;return Ms(t,e,n,i=Ya(Ts(),i),r)}function Us(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Fs(t){var e=1073741822-25*(1+((1073741822-Ts()+500)/25|0));e>=Aa&&(e=Aa-1),this._expirationTime=Aa=e,this._root=t,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Vs(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function qs(t,e,n){t={current:e=Kr(3,null,null,e?3:0),containerInfo:t,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=e.stateNode=t}function Bs(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Ws(t,e,n,r,i){var o=n._reactRootContainer;if(o){if("function"===typeof i){var a=i;i=function(){var t=Us(o._internalRoot);a.call(t)}}null!=t?o.legacy_renderSubtreeIntoContainer(t,e,i):o.render(e,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new qs(t,!1,e)}(n,r),"function"===typeof i){var s=i;i=function(){var t=Us(o._internalRoot);s.call(t)}}Rs(function(){null!=t?o.legacy_renderSubtreeIntoContainer(t,e,i):o.render(e,i)})}return Us(o._internalRoot)}function zs(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Bs(e)||a("200"),function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Gt,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)}At=function(t,e,n){switch(e){case"input":if(Te(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=U(r);i||a("90"),Wt(r),Te(r,i)}}}break;case"textarea":$n(t,n);break;case"select":null!=(e=n.value)&&Gn(t,!!n.multiple,e,!1)}},Fs.prototype.render=function(t){this._defer||a("250"),this._hasChildren=!0,this._children=t;var e=this._root._internalRoot,n=this._expirationTime,r=new Vs;return Ms(t,e,null,n,r._onCommit),r},Fs.prototype.then=function(t){if(this._didComplete)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},Fs.prototype.commit=function(){var t=this._root._internalRoot,e=t.firstBatch;if(this._defer&&null!==e||a("251"),this._hasChildren){var n=this._expirationTime;if(e!==this){this._hasChildren&&(n=this._expirationTime=e._expirationTime,this.render(this._children));for(var r=null,i=e;i!==this;)r=i,i=i._next;null===r&&a("251"),r._next=i._next,this._next=e,t.firstBatch=this}this._defer=!1,xs(t,n),e=this._next,this._next=null,null!==(e=t.firstBatch=e)&&e._hasChildren&&e.render(e._children)}else this._next=null,this._defer=!1},Fs.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++)(0,t[e])()}},Vs.prototype.then=function(t){if(this._didCommit)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},Vs.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++){var n=t[e];"function"!==typeof n&&a("191",n),n()}}},qs.prototype.render=function(t,e){var n=this._internalRoot,r=new Vs;return null!==(e=void 0===e?null:e)&&r.then(e),js(t,n,null,r._onCommit),r},qs.prototype.unmount=function(t){var e=this._internalRoot,n=new Vs;return null!==(t=void 0===t?null:t)&&n.then(t),js(null,e,null,n._onCommit),n},qs.prototype.legacy_renderSubtreeIntoContainer=function(t,e,n){var r=this._internalRoot,i=new Vs;return null!==(n=void 0===n?null:n)&&i.then(n),js(e,r,t,i._onCommit),i},qs.prototype.createBatch=function(){var t=new Fs(this),e=t._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=t,t._next=null;else{for(n=null;null!==r&&r._expirationTime>=e;)n=r,r=r._next;t._next=r,null!==n&&(n._next=t)}return t},Dt=Ns,Nt=Ls,Rt=function(){is||0===ss||(Cs(ss,!1),ss=0)};var Ks={createPortal:zs,findDOMNode:function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;return void 0===e&&("function"===typeof t.render?a("188"):a("268",Object.keys(t))),t=null===(t=rn(e))?null:t.stateNode},hydrate:function(t,e,n){return Bs(e)||a("200"),Ws(null,t,e,!0,n)},render:function(t,e,n){return Bs(e)||a("200"),Ws(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function(t,e,n,r){return Bs(n)||a("200"),(null==t||void 0===t._reactInternalFiber)&&a("38"),Ws(t,e,n,!1,r)},unmountComponentAtNode:function(t){return Bs(t)||a("40"),!!t._reactRootContainer&&(Rs(function(){Ws(null,null,t,!1,function(){t._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return zs.apply(void 0,arguments)},unstable_batchedUpdates:Ns,unstable_interactiveUpdates:Ls,flushSync:function(t,e){is&&a("187");var n=ls;ls=!0;try{return Za(t,e)}finally{ls=n,Cs(1073741823,!1)}},unstable_createRoot:function(t,e){return Bs(t)||a("299","unstable_createRoot"),new qs(t,!0,null!=e&&!0===e.hydrate)},unstable_flushControlled:function(t){var e=ls;ls=!0;try{Za(t)}finally{(ls=e)||is||Cs(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[M,j,U,x.injectEventPluginsByName,g,z,function(t){A(t,W)},kt,Pt,Cn,P]}};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);qr=Wr(function(t){return e.onCommitFiberRoot(n,t)}),Br=Wr(function(t){return e.onCommitFiberUnmount(n,t)})}catch(r){}})(i({},t,{overrideProps:null,currentDispatcherRef:zt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=rn(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null}}))}({findFiberByHostInstance:L,bundleType:0,version:"16.8.4",rendererPackageName:"react-dom"});var Qs={default:Ks},Hs=Qs&&Ks||Qs;t.exports=Hs.default||Hs},function(t,e,n){"use strict";t.exports=n(282)},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=null,r=!1,i=3,o=-1,a=-1,s=!1,u=!1;function c(){if(!s){var t=n.expirationTime;u?S():u=!0,T(h,t)}}function l(){var t=n,e=n.next;if(n===e)n=null;else{var r=n.previous;n=r.next=e,e.previous=r}t.next=t.previous=null,r=t.callback,e=t.expirationTime,t=t.priorityLevel;var o=i,s=a;i=t,a=e;try{var u=r()}finally{i=o,a=s}if("function"===typeof u)if(u={callback:u,priorityLevel:t,expirationTime:e,next:null,previous:null},null===n)n=u.next=u.previous=u;else{r=null,t=n;do{if(t.expirationTime>=e){r=t;break}t=t.next}while(t!==n);null===r?r=n:r===n&&(n=u,c()),(e=r.previous).next=r.previous=u,u.next=r,u.previous=e}}function f(){if(-1===o&&null!==n&&1===n.priorityLevel){s=!0;try{do{l()}while(null!==n&&1===n.priorityLevel)}finally{s=!1,null!==n?c():u=!1}}}function h(t){s=!0;var i=r;r=t;try{if(t)for(;null!==n;){var o=e.unstable_now();if(!(n.expirationTime<=o))break;do{l()}while(null!==n&&n.expirationTime<=o)}else if(null!==n)do{l()}while(null!==n&&!_())}finally{s=!1,r=i,null!==n?c():u=!1,f()}}var p,d,y=Date,m="function"===typeof setTimeout?setTimeout:void 0,v="function"===typeof clearTimeout?clearTimeout:void 0,g="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,b="function"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function w(t){p=g(function(e){v(d),t(e)}),d=m(function(){b(p),t(e.unstable_now())},100)}if("object"===typeof performance&&"function"===typeof performance.now){var E=performance;e.unstable_now=function(){return E.now()}}else e.unstable_now=function(){return y.now()};var T,S,_,I=null;if("undefined"!==typeof window?I=window:"undefined"!==typeof t&&(I=t),I&&I._schedMock){var A=I._schedMock;T=A[0],S=A[1],_=A[2],e.unstable_now=A[3]}else if("undefined"===typeof window||"function"!==typeof MessageChannel){var O=null,C=function(t){if(null!==O)try{O(t)}finally{O=null}};T=function(t){null!==O?setTimeout(T,0,t):(O=t,setTimeout(C,0,!1))},S=function(){O=null},_=function(){return!1}}else{"undefined"!==typeof console&&("function"!==typeof g&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var x=null,k=!1,P=-1,D=!1,N=!1,R=0,L=33,M=33;_=function(){return R<=e.unstable_now()};var j=new MessageChannel,U=j.port2;j.port1.onmessage=function(){k=!1;var t=x,n=P;x=null,P=-1;var r=e.unstable_now(),i=!1;if(0>=R-r){if(!(-1!==n&&n<=r))return D||(D=!0,w(F)),x=t,void(P=n);i=!0}if(null!==t){N=!0;try{t(i)}finally{N=!1}}};var F=function t(e){if(null!==x){w(t);var n=e-R+M;n<M&&L<M?(8>n&&(n=8),M=n<L?L:n):L=n,R=e+M,k||(k=!0,U.postMessage(void 0))}else D=!1};T=function(t,e){x=t,P=e,N||0>e?U.postMessage(void 0):D||(D=!0,w(F))},S=function(){x=null,k=!1,P=-1}}e.unstable_ImmediatePriority=1,e.unstable_UserBlockingPriority=2,e.unstable_NormalPriority=3,e.unstable_IdlePriority=5,e.unstable_LowPriority=4,e.unstable_runWithPriority=function(t,n){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=i,a=o;i=t,o=e.unstable_now();try{return n()}finally{i=r,o=a,f()}},e.unstable_next=function(t){switch(i){case 1:case 2:case 3:var n=3;break;default:n=i}var r=i,a=o;i=n,o=e.unstable_now();try{return t()}finally{i=r,o=a,f()}},e.unstable_scheduleCallback=function(t,r){var a=-1!==o?o:e.unstable_now();if("object"===typeof r&&null!==r&&"number"===typeof r.timeout)r=a+r.timeout;else switch(i){case 1:r=a+-1;break;case 2:r=a+250;break;case 5:r=a+1073741823;break;case 4:r=a+1e4;break;default:r=a+5e3}if(t={callback:t,priorityLevel:i,expirationTime:r,next:null,previous:null},null===n)n=t.next=t.previous=t,c();else{a=null;var s=n;do{if(s.expirationTime>r){a=s;break}s=s.next}while(s!==n);null===a?a=n:a===n&&(n=t,c()),(r=a.previous).next=a.previous=t,t.next=a,t.previous=r}return t},e.unstable_cancelCallback=function(t){var e=t.next;if(null!==e){if(e===t)n=null;else{t===n&&(n=e);var r=t.previous;r.next=e,e.previous=r}t.next=t.previous=null}},e.unstable_wrapCallback=function(t){var n=i;return function(){var r=i,a=o;i=n,o=e.unstable_now();try{return t.apply(this,arguments)}finally{i=r,o=a,f()}}},e.unstable_getCurrentPriorityLevel=function(){return i},e.unstable_shouldYield=function(){return!r&&(null!==n&&n.expirationTime<a||_())},e.unstable_continueExecution=function(){null!==n&&c()},e.unstable_pauseExecution=function(){},e.unstable_getFirstCallbackNode=function(){return n}}).call(this,n(29))},,,function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i=1,o={},a=!1,s=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){l(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"===typeof n.data&&0===n.data.indexOf(e)&&l(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){l(t.data)},r=function(e){t.port2.postMessage(e)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var t=s.documentElement;r=function(e){var n=s.createElement("script");n.onreadystatechange=function(){l(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(l,0,t)},u.setImmediate=function(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var a={callback:t,args:e};return o[i]=a,r(i),i++},u.clearImmediate=c}function c(t){delete o[t]}function l(t){if(a)setTimeout(l,0,t);else{var e=o[t];if(e){a=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{c(t),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,n(29),n(187))},function(t,e,n){"use strict";var r=n(287);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,y=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116;function v(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case f:case h:case a:case u:case s:case d:return t;default:switch(t=t&&t.$$typeof){case l:case p:case c:return t;default:return e}}case m:case y:case o:return e}}}function g(t){return v(t)===h}e.typeOf=v,e.AsyncMode=f,e.ConcurrentMode=h,e.ContextConsumer=l,e.ContextProvider=c,e.Element=i,e.ForwardRef=p,e.Fragment=a,e.Lazy=m,e.Memo=y,e.Portal=o,e.Profiler=u,e.StrictMode=s,e.Suspense=d,e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===a||t===h||t===u||t===s||t===d||"object"===typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===y||t.$$typeof===c||t.$$typeof===l||t.$$typeof===p)},e.isAsyncMode=function(t){return g(t)||v(t)===f},e.isConcurrentMode=g,e.isContextConsumer=function(t){return v(t)===l},e.isContextProvider=function(t){return v(t)===c},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return v(t)===p},e.isFragment=function(t){return v(t)===a},e.isLazy=function(t){return v(t)===m},e.isMemo=function(t){return v(t)===y},e.isPortal=function(t){return v(t)===o},e.isProfiler=function(t){return v(t)===u},e.isStrictMode=function(t){return v(t)===s},e.isSuspense=function(t){return v(t)===d}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){var r=function(){return this||"object"===typeof self&&self}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(291),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(a){r.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",c="object"===typeof t,l=e.regeneratorRuntime;if(l)c&&(t.exports=l);else{(l=e.regeneratorRuntime=c?t.exports:{}).wrap=w;var f="suspendedStart",h="suspendedYield",p="executing",d="completed",y={},m={};m[a]=function(){return this};var v=Object.getPrototypeOf,g=v&&v(v(P([])));g&&g!==r&&i.call(g,a)&&(m=g);var b=_.prototype=T.prototype=Object.create(m);S.prototype=b.constructor=_,_.constructor=S,_[u]=S.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===S||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(b),t},l.awrap=function(t){return{__await:t}},I(A.prototype),A.prototype[s]=function(){return this},l.AsyncIterator=A,l.async=function(t,e,n,r){var i=new A(w(t,e,n,r));return l.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},I(b),b[u]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=P,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,i){return s.type="throw",s.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),y}}}function w(t,e,n,r){var i=e&&e.prototype instanceof T?e:T,o=Object.create(i.prototype),a=new k(r||[]);return o._invoke=function(t,e,n){var r=f;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return D()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=E(t,e,n);if("normal"===u.type){if(r=n.done?d:h,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function E(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}function T(){}function S(){}function _(){}function I(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function A(t){var e;this._invoke=function(n,r){function o(){return new Promise(function(e,o){!function e(n,r,o,a){var s=E(t[n],t,r);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"===typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(c).then(function(t){u.value=t,o(u)},function(t){return e("throw",t,o,a)})}a(s.arg)}(n,r,e,o)})}return e=e?e.then(o,o):o()}}function O(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,O(t,e),"throw"===e.method))return y;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var i=E(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,y;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,y):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,y)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:D}}function D(){return{value:n,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},function(t,e,n){var r=n(57),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(u){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEventsFromInput=e.pathStrToObj=void 0;var r=f(n(295)),i=f(n(45)),o=f(n(10)),a=f(n(3)),s=f(n(345)),u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=n(94),l=n(214);function f(t){return t&&t.__esModule?t:{default:t}}var h=e.pathStrToObj=function(t){var e={path:t,type:"value",isQuery:!1},n=(0,l.getQueryIdFromPath)(t);if(n){var i=t.split("#");e=u({},e,{queryId:n,isQuery:!0,path:i[0],queryParams:i[1].split("&")}),(0,c.getPopulates)(i[1].split("&"))&&(e.populates=(0,c.getPopulates)(i[1].split("&")),e.queryParams=(0,r.default)(i[1].split("&"),function(t){return-1===t.indexOf("populate")}))}return e},p=e.getEventsFromInput=function(t){return(0,s.default)(t,function(t){if((0,i.default)(t))return[h(t)];if((0,a.default)(t))return[{type:"first_child",path:t[0]},{type:"child_added",path:t[0]},{type:"child_removed",path:t[0]},{type:"child_moved",path:t[0]},{type:"child_changed",path:t[0]}];if((0,o.default)(t)){if(!t.path)throw new Error("Path is a required parameter within definition object");var e=t.path;return t.storeAs&&(e+="@"+t.storeAs),t.queryParams&&(e+="#"+t.queryParams.join("&")),[t=u({},h(e),t)]}throw new Error("Invalid Path Definition: "+t+". Only strings, objects, and arrays accepted.")})};e.default={getEventsFromInput:p}},function(t,e,n){var r=n(27),i=n(344);t.exports=function(t,e){var n=[];if(!t||!t.length)return n;var o=-1,a=[],s=t.length;for(e=r(e,3);++o<s;){var u=t[o];e(u,o,t)&&(n.push(u),a.push(o))}return i(t,a),n}},function(t,e,n){var r=n(297),i=n(337),o=n(202);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(84),i=n(130),o=1,a=2;t.exports=function(t,e,n,s){var u=n.length,c=u,l=!s;if(null==t)return!c;for(t=Object(t);u--;){var f=n[u];if(l&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++u<c;){var h=(f=n[u])[0],p=t[h],d=f[1];if(l&&f[2]){if(void 0===p&&!(h in t))return!1}else{var y=new r;if(s)var m=s(p,d,h,t,e,y);if(!(void 0===m?i(d,p,o|a,s,y):m))return!1}}return!0}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(86),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(86);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(86);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(86);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(85);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(85),i=n(128),o=n(129),a=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<a-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(13),i=n(309),o=n(10),a=n(190),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?h:s).test(a(t))}},function(t,e,n){var r=n(310),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(20)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(313),i=n(85),o=n(128);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(314),i=n(315),o=n(316),a=n(317),s=n(318);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(87);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(87),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===i?void 0:n}return o.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(87),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(87),i="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?i:e,this}},function(t,e,n){var r=n(88);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(88);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(88);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(88);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var r=n(84),i=n(191),o=n(327),a=n(329),s=n(49),u=n(3),c=n(67),l=n(89),f=1,h="[object Arguments]",p="[object Array]",d="[object Object]",y=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,m,v,g){var b=u(t),w=u(e),E=b?p:s(t),T=w?p:s(e),S=(E=E==h?d:E)==d,_=(T=T==h?d:T)==d,I=E==T;if(I&&c(t)){if(!c(e))return!1;b=!0,S=!1}if(I&&!S)return g||(g=new r),b||l(t)?i(t,e,n,m,v,g):o(t,e,E,n,m,v,g);if(!(n&f)){var A=S&&y.call(t,"__wrapped__"),O=_&&y.call(e,"__wrapped__");if(A||O){var C=A?t.value():t,x=O?e.value():e;return g||(g=new r),v(C,x,n,m,g)}}return!!I&&(g||(g=new r),a(t,e,n,m,v,g))}},function(t,e){var n="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,n),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(57),i=n(193),o=n(65),a=n(191),s=n(328),u=n(133),c=1,l=2,f="[object Boolean]",h="[object Date]",p="[object Error]",d="[object Map]",y="[object Number]",m="[object RegExp]",v="[object Set]",g="[object String]",b="[object Symbol]",w="[object ArrayBuffer]",E="[object DataView]",T=r?r.prototype:void 0,S=T?T.valueOf:void 0;t.exports=function(t,e,n,r,T,_,I){switch(n){case E:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w:return!(t.byteLength!=e.byteLength||!_(new i(t),new i(e)));case f:case h:case y:return o(+t,+e);case p:return t.name==e.name&&t.message==e.message;case m:case g:return t==e+"";case d:var A=s;case v:var O=r&c;if(A||(A=u),t.size!=e.size&&!O)return!1;var C=I.get(t);if(C)return C==e;r|=l,I.set(t,e);var x=a(A(t),A(e),r,T,_,I);return I.delete(t),x;case b:if(S)return S.call(t)==S.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}},function(t,e,n){var r=n(194),i=1,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,a,s,u){var c=n&i,l=r(t),f=l.length;if(f!=r(e).length&&!c)return!1;for(var h=f;h--;){var p=l[h];if(!(c?p in e:o.call(e,p)))return!1}var d=u.get(t);if(d&&u.get(e))return d==e;var y=!0;u.set(t,e),u.set(e,t);for(var m=c;++h<f;){var v=t[p=l[h]],g=e[p];if(a)var b=c?a(g,v,p,e,t,u):a(v,g,p,t,e,u);if(!(void 0===b?v===g||s(v,g,n,a,u):b)){y=!1;break}m||(m="constructor"==p)}if(y&&!m){var w=t.constructor,E=e.constructor;w!=E&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof E&&E instanceof E)&&(y=!1)}return u.delete(t),u.delete(e),y}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(35),i=n(18),o="[object Arguments]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(35),i=n(138),o=n(18),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},function(t,e,n){var r=n(198)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(48)(n(20),"DataView");t.exports=r},function(t,e,n){var r=n(48)(n(20),"Promise");t.exports=r},function(t,e,n){var r=n(201),i=n(43);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},function(t,e,n){var r=n(130),i=n(36),o=n(204),a=n(140),s=n(201),u=n(202),c=n(44),l=1,f=2;t.exports=function(t,e){return a(t)&&s(e)?u(c(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,l|f)}}},function(t,e,n){var r=n(340),i=500;t.exports=function(t){var e=r(t,function(t){return n.size===i&&n.clear(),t}),n=e.cache;return e}},function(t,e,n){var r=n(129),i="Expected a function";function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(i);var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(206),i=n(343),o=n(140),a=n(44);t.exports=function(t){return o(t)?r(a(t)):i(t)}},function(t,e,n){var r=n(92);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e,n){var r=n(142),i=n(58),o=Array.prototype.splice;t.exports=function(t,e){for(var n=t?e.length:0,a=n-1;n--;){var s=e[n];if(n==a||s!==u){var u=s;i(s)?o.call(t,s,1):r(t,s)}}return t}},function(t,e,n){var r=n(93),i=n(59);t.exports=function(t,e){return r(i(t,e),1)}},function(t,e,n){var r=n(57),i=n(66),o=n(3),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},function(t,e,n){var r=n(53),i=n(39);t.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,function(t,r,i){o[++n]=e(t,r,i)}),o}},function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}},function(t,e,n){var r=n(39);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},function(t,e,n){var r=n(53);t.exports=function(t,e){var n;return r(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t,e){return null!=t&&n.call(t,e)}},function(t,e,n){var r=n(70);t.exports=function(t){return"function"==typeof t?t:r}},function(t,e,n){var r=n(354),i=n(146),o=n(355);t.exports=function(t){return i(t)?o(t):r(t)}},function(t,e,n){var r=n(206)("length");t.exports=r},function(t,e){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+r+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?"+u+("(?:\\u200d(?:"+[o,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+u+")*"),l="(?:"+[o+r+"?",r,a,s,n].join("|")+")",f=RegExp(i+"(?="+i+")|"+l+c,"g");t.exports=function(t){for(var e=f.lastIndex=0;f.test(t);)++e;return e}},function(t,e,n){var r=n(215);t.exports=function(t){return r(t)&&t!=+t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.signInWithPhoneNumber=e.linkWithCredential=e.reloadAuth=e.updateEmail=e.updateAuth=e.updateProfile=e.verifyPasswordResetCode=e.confirmPasswordReset=e.resetPassword=e.createUser=e.logout=e.login=e.init=e.handleRedirectResult=e.createUserProfile=e.watchUserProfile=e.handleProfileWatchResponse=e.unWatchUserProfile=void 0;var r=d(n(99)),i=d(n(100)),o=d(n(97)),a=d(n(13)),s=d(n(45)),u=d(n(3)),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=n(21),f=n(227),h=n(164),p=n(94);function d(t){return t&&t.__esModule?t:{default:t}}var y=function(t,e){return t({type:l.actionTypes.LOGIN_ERROR,authError:e})},m=e.unWatchUserProfile=function(t){var e=t._,n=e.authUid,r=e.config,i=r.userProfile,o=r.useFirestoreForProfile;t._.profileWatch&&(o&&t.firestore?t._.profileWatch():t.database().ref().child(i+"/"+n).off("value",t._.profileWatch),t._.profileWatch=null)},v=e.handleProfileWatchResponse=function(t,e,n){var r,i=e._.config,a=i.profileParamsToPopulate,c=i.autoPopulateProfile,h=i.useFirestoreForProfile,d=i.logErrors,y=(r=n)&&r.val?r.val():r&&r.data&&r.exists?r.data():null;!a||h||!(0,u.default)(a)&&!(0,s.default)(a)?(h&&a&&console.warn("Profile population is not yet supported for Firestore"),t({type:l.actionTypes.SET_PROFILE,profile:y})):(0,p.promisesForPopulate)(e,n.key,y,a).then(function(e){if((0,o.default)(e,function(e,n){t({type:l.actionTypes.SET,path:n,data:e,timestamp:Date.now(),requesting:!1,requested:!0})}),c){var r=(0,p.getPopulateObjs)(a),i=n.val();t({type:l.actionTypes.SET_PROFILE,profile:(0,f.populate)({profile:i,data:e},"profile",r)})}else t({type:l.actionTypes.SET_PROFILE,profile:y})}).catch(function(e){d&&console.error("RRF: Error retrieving data for profile population. Firebase:",e),t({type:l.actionTypes.UNAUTHORIZED_ERROR,authError:"Error during profile population: "+e.message}),t({type:l.actionTypes.SET_PROFILE,profile:y})})};function g(t,e){var n=e._.config,r=n.onProfileListenerError,i=n.logErrors;return function(t){if(i&&console.error("Error with profile listener: "+(t.message||""),t),(0,a.default)(r)){var n=r(t,e);if((0,a.default)(n.then))return n}return Promise.reject(t)}}var b=e.watchUserProfile=function(t,e){var n=e._,r=n.authUid,i=n.config,o=i.userProfile,a=i.useFirestoreForProfile;if(m(e),o)if(a&&e.firestore)e._.profileWatch=e.firestore().collection(o).doc(r).onSnapshot(function(n){return v(t,e,n)},g(0,e));else{if(!e.database)throw new Error("Real Time Database or Firestore must be included to enable user profile");e._.profileWatch=e.database().ref().child(o+"/"+r).on("value",function(n){return v(t,e,n)},g(0,e))}},w=e.createUserProfile=function(t,e,n,o){var s=e._.config;if(!s.userProfile||!e.database&&!e.firestore)return Promise.resolve(n);if((0,a.default)(s.profileFactory))try{o=s.profileFactory(n,o)}catch(f){return console.error("Error occured within profileFactory function:",f.message||f),Promise.reject(f)}return s.useFirestoreForProfile?e.firestore().collection(s.userProfile).doc(n.uid||n.user.uid).get().then(function(t){if(!s.updateProfileOnLogin&&t.exists)return t.data();var e=o;if(!e){var a=n.uid?n.toJSON?n.toJSON():n:n.user.toJSON?n.user.toJSON():n.user;e=c({},(0,i.default)(a,s.keysToRemoveFromAuth),{avatarUrl:a.photoURL})}return(0,u.default)(e.providerData)&&(e.providerData=e.providerData.map(function(t){return(0,r.default)(t,s.keysToPreserveFromProviderData)})),t.ref.set(e,{merge:!0}).then(function(){return e})}).catch(function(e){return t({type:l.actionTypes.UNAUTHORIZED_ERROR,authError:e}),Promise.reject(e)}):e.database().ref().child(s.userProfile+"/"+(n.user?n.user.uid:n.uid)).once("value").then(function(t){return s.updateProfileOnLogin||null===t.val()?t.ref.update(o).then(function(){return o}):t.val()}).catch(function(n){return t({type:l.actionTypes.UNAUTHORIZED_ERROR,authError:n}),(0,a.default)(s.onProfileWriteError)&&s.onProfileWriteError(n,e),Promise.reject(n)})},E=e.handleRedirectResult=function(t,e,n){if("function"===typeof e._.config.onRedirectResult&&e._.config.onRedirectResult(n,e,t),n&&n.user){var r=n.user;return e._.authUid=r.uid,b(t,e),t({type:l.actionTypes.LOGIN,auth:r,preserve:e._.config.preserveOnLogin}),w(t,e,r,{email:r.email,displayName:r.providerData[0].displayName||r.email,avatarUrl:r.providerData[0].photoURL,providerData:r.providerData})}},T=e.init=function(t,e){e.auth&&(t({type:l.actionTypes.AUTHENTICATION_INIT_STARTED}),e.auth().onAuthStateChanged(function(n){return function(t,e,n){var r=e._.config;n?(e._.authUid=n.uid,r.presence&&(0,h.setupPresence)(t,e),t({type:l.actionTypes.LOGIN,auth:n,preserve:r.preserveOnLogin}),b(t,e),(0,a.default)(r.onAuthStateChanged)&&r.onAuthStateChanged(n,e,t)):((0,a.default)(r.onAuthStateChanged)&&e._.config.onAuthStateChanged(n,e,t),t({type:l.actionTypes.AUTH_EMPTY_CHANGE,preserve:r.preserveOnEmptyAuthChange}))}(t,e,n)}),e._.config.enableRedirectHandling&&(0,a.default)(e.auth().getRedirectResult)&&"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("http")&&e.auth().getRedirectResult().then(function(n){return E(t,e,n)}).catch(function(e){return y(t,e),Promise.reject(e)}),e.auth().currentUser,t({type:l.actionTypes.AUTHENTICATION_INIT_FINISHED}))},S=e.login=function(t,e,n){var r;e._.config.resetBeforeLogin&&y(t,null);var i=(0,h.getLoginMethodAndParams)(e,n),o=i.method,a=i.params;return(r=e.auth())[o].apply(r,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(a)).then(function(r){if(!r)return Promise.resolve(null);if(["signInWithEmailAndPassword","signInAndRetrieveDataWithEmailAndPassword"].includes(o))return{user:r};if(["signInWithCustomToken","signInAndRetrieveDataWithCustomToken"].includes(o))return e._.config.updateProfileOnLogin?w(t,e,r,n.profile):{user:r};if("signInWithPhoneNumber"===o)return c({},r,{confirm:function(n){return r.confirm(n).then(function(n){var r=n.user,i=n.additionalUserInfo;return w(t,e,r,{phoneNumber:r.providerData[0].phoneNumber,providerData:r.providerData}).then(function(t){return{profile:t,user:r,additionalUserInfo:i}})})}});var i=r.user||r;return w(t,e,i,n.profile||{email:i.email,displayName:i.providerData[0].displayName||i.email,avatarUrl:i.providerData[0].photoURL,providerData:i.providerData}).then(function(t){return c({profile:t},r)})}).catch(function(e){return y(t,e),Promise.reject(e)})},_=e.logout=function(t,e){return m(e),e.auth().signOut().then(function(){var n={type:l.actionTypes.LOGOUT};return e._.config.preserveOnLogout&&(n.preserve=e._.config.preserveOnLogout),t(n),e._.authUid=null,e})},I=e.createUser=function(t,e,n,r){var i=n.email,o=n.password,a=n.signIn;if(y(t,null),!i||!o){var s=new Error("Email and Password are required to create user");return y(t,s),Promise.reject(s)}return e.auth().createUserWithEmailAndPassword(i,o).then(function(n){return e.auth().currentUser||a&&!1===a?w(t,e,n,r||{email:i}):S(t,e,{email:i,password:o}).then(function(){return w(t,e,n,r||{email:i})}).catch(function(e){if(e)switch(e.code){case"auth/user-not-found":y(t,new Error("The specified user account does not exist."));break;default:y(t,e)}return Promise.reject(e)})}).catch(function(e){return y(t,e),Promise.reject(e)})},A=e.resetPassword=function(t,e,n){return y(t,null),e.auth().sendPasswordResetEmail(n).catch(function(e){if(e){switch(e.code){case"auth/user-not-found":y(t,new Error("The specified user account does not exist."));break;default:y(t,e)}return Promise.reject(e)}})},O=e.confirmPasswordReset=function(t,e,n,r){return y(t,null),e.auth().confirmPasswordReset(n,r).catch(function(e){if(e){switch(e.code){case"auth/expired-action-code":y(t,new Error("The action code has expired."));break;case"auth/invalid-action-code":y(t,new Error("The action code is invalid."));break;case"auth/user-disabled":y(t,new Error("The user is disabled."));break;case"auth/user-not-found":y(t,new Error("The user is not found."));break;case"auth/weak-password":y(t,new Error("The password is not strong enough."));break;default:y(t,e)}return Promise.reject(e)}})},C=e.verifyPasswordResetCode=function(t,e,n){return y(t,null),e.auth().verifyPasswordResetCode(n).catch(function(e){return e&&y(t,e),Promise.reject(e)})},x=e.updateProfile=function(t,e,n){var r=e._.config;return t({type:l.actionTypes.PROFILE_UPDATE_START,payload:n}),(r.useFirestoreForProfile?h.updateProfileOnFirestore:h.updateProfileOnRTDB)(e,n).then(function(e){return t({type:l.actionTypes.PROFILE_UPDATE_SUCCESS,payload:r.useFirestoreForProfile?e.data():e.val()}),e}).catch(function(e){return t({type:l.actionTypes.PROFILE_UPDATE_ERROR,error:e}),Promise.reject(e)})},k=e.updateAuth=function(t,e,n,r){if(t({type:l.actionTypes.AUTH_UPDATE_START,payload:n}),!e.auth().currentUser){var i=new Error("User must be logged in to update auth.");return t({type:l.actionTypes.AUTH_UPDATE_ERROR,payload:i}),Promise.reject(i)}return e.auth().currentUser.updateProfile(n).then(function(i){return t({type:l.actionTypes.AUTH_UPDATE_SUCCESS,auth:e.auth().currentUser}),r?x(t,e,n):i}).catch(function(e){return t({type:l.actionTypes.AUTH_UPDATE_ERROR,error:e}),Promise.reject(e)})},P=e.updateEmail=function(t,e,n,r){if(t({type:l.actionTypes.EMAIL_UPDATE_START,payload:n}),!e.auth().currentUser){var i=new Error("User must be logged in to update email.");return t({type:l.actionTypes.EMAIL_UPDATE_ERROR,error:i}),Promise.reject(i)}return e.auth().currentUser.updateEmail(n).then(function(i){return t({type:l.actionTypes.EMAIL_UPDATE_SUCCESS,payload:n}),r?x(t,e,{email:n}):i}).catch(function(e){return t({type:l.actionTypes.EMAIL_UPDATE_ERROR,error:e}),Promise.reject(e)})},D=e.reloadAuth=function(t,e){if(t({type:l.actionTypes.AUTH_RELOAD_START}),!e.auth().currentUser){var n=new Error("User must be logged in to reload auth.");return t({type:l.actionTypes.AUTH_RELOAD_ERROR,error:n}),Promise.reject(n)}return e.auth().currentUser.reload().then(function(){var n=e.auth().currentUser;return t({type:l.actionTypes.AUTH_RELOAD_SUCCESS,payload:n}),n}).catch(function(e){return t({type:l.actionTypes.AUTH_RELOAD_ERROR,error:e}),Promise.reject(e)})},N=(e.linkWithCredential=function(t,e,n){if(t({type:l.actionTypes.AUTH_LINK_START}),!e.auth().currentUser){var r=new Error("User must be logged in to link with credential.");return t({type:l.actionTypes.AUTH_LINK_ERROR,error:r}),Promise.reject(r)}return e.auth().currentUser.linkWithCredential(n).then(function(e){return t({type:l.actionTypes.AUTH_LINK_SUCCESS,payload:e}),e}).catch(function(e){return t({type:l.actionTypes.AUTH_LINK_ERROR,error:e}),Promise.reject(e)})},e.signInWithPhoneNumber=function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return S(e,t,c({phoneNumber:n,applicationVerifier:r},i))});e.default={dispatchLoginError:y,unWatchUserProfile:m,watchUserProfile:b,init:T,createUserProfile:w,login:S,logout:_,createUser:I,resetPassword:A,confirmPasswordReset:O,verifyPasswordResetCode:C,updateAuth:k,updateProfile:x,updateEmail:P,reloadAuth:D,signInWithPhoneNumber:N}},function(t,e,n){var r=n(218),i=n(204);t.exports=function(t,e){return r(t,e,function(e,n){return i(t,n)})}},function(t,e,n){var r=n(360),i=n(211),o=n(70),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){var r=n(54),i=n(102);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var r=n(10),i=n(68),o=n(363),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(54),i=n(135);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e,n){var r=n(54),i=n(224);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(152),i=n(368),o=n(369),a=n(370),s=n(225),u="[object Boolean]",c="[object Date]",l="[object Map]",f="[object Number]",h="[object RegExp]",p="[object Set]",d="[object String]",y="[object Symbol]",m="[object ArrayBuffer]",v="[object DataView]",g="[object Float32Array]",b="[object Float64Array]",w="[object Int8Array]",E="[object Int16Array]",T="[object Int32Array]",S="[object Uint8Array]",_="[object Uint8ClampedArray]",I="[object Uint16Array]",A="[object Uint32Array]";t.exports=function(t,e,n){var O=t.constructor;switch(e){case m:return r(t);case u:case c:return new O(+t);case v:return i(t,n);case g:case b:case w:case E:case T:case S:case _:case I:case A:return s(t,n);case l:return new O;case f:case d:return new O(t);case h:return o(t);case p:return new O;case y:return a(t)}}},function(t,e,n){var r=n(152);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(57),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},function(t,e,n){var r=n(372),i=n(90),o=n(139),a=o&&o.isMap,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(49),i=n(18),o="[object Map]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e,n){var r=n(374),i=n(90),o=n(139),a=o&&o.isSet,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(49),i=n(18),o="[object Set]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e,n){var r=n(153);t.exports=function(t){return r(t)?void 0:t}},function(t,e){t.exports=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}},function(t,e,n){var r=n(74),i=n(76),o=n(378),a=n(381),s=i(function(t){return t.push(void 0,o),r(a,void 0,t)});t.exports=s},function(t,e,n){var r=n(154),i=n(10);t.exports=function t(e,n,o,a,s,u){return i(e)&&i(n)&&(u.set(n,e),r(e,n,void 0,t,u),u.delete(n)),e}},function(t,e,n){var r=n(228),i=n(223),o=n(225),a=n(75),s=n(226),u=n(66),c=n(3),l=n(155),f=n(67),h=n(13),p=n(10),d=n(153),y=n(89),m=n(229),v=n(380);t.exports=function(t,e,n,g,b,w,E){var T=m(t,n),S=m(e,n),_=E.get(S);if(_)r(t,n,_);else{var I=w?w(T,S,n+"",t,e,E):void 0,A=void 0===I;if(A){var O=c(S),C=!O&&f(S),x=!O&&!C&&y(S);I=S,O||C||x?c(T)?I=T:l(T)?I=a(T):C?(A=!1,I=i(S,!0)):x?(A=!1,I=o(S,!0)):I=[]:d(S)||u(S)?(I=T,u(T)?I=v(T):p(T)&&!h(T)||(I=s(S))):A=!1}A&&(E.set(S,I),b(I,S,g,w,E),E.delete(S)),r(t,n,I)}}},function(t,e,n){var r=n(54),i=n(102);t.exports=function(t){return r(t,i(t))}},function(t,e,n){var r=n(154),i=n(156)(function(t,e,n,i){r(t,e,n,i)});t.exports=i},function(t,e){t.exports=function(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}},function(t,e){t.exports=function(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}},function(t,e,n){var r=n(53);t.exports=function(t,e){var n=!0;return r(t,function(t,r,i){return n=!!e(t,r,i)}),n}},function(t,e,n){var r=n(104)("unset",n(245));r.placeholder=n(77),t.exports=r},function(t,e,n){var r=n(388),i=n(77),o=Array.prototype.push;function a(t,e){return 2==e?function(e,n){return t(e,n)}:function(e){return t(e)}}function s(t){for(var e=t?t.length:0,n=Array(e);e--;)n[e]=t[e];return n}function u(t,e){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var i=r[0]=e.apply(void 0,r);return t.apply(void 0,r),i}}}t.exports=function t(e,n,c,l){var f="function"==typeof n,h=n===Object(n);if(h&&(l=c,c=n,n=void 0),null==c)throw new TypeError;l||(l={});var p={cap:!("cap"in l)||l.cap,curry:!("curry"in l)||l.curry,fixed:!("fixed"in l)||l.fixed,immutable:!("immutable"in l)||l.immutable,rearg:!("rearg"in l)||l.rearg},d=f?c:i,y="curry"in l&&l.curry,m="fixed"in l&&l.fixed,v="rearg"in l&&l.rearg,g=f?c.runInContext():void 0,b=f?c:{ary:e.ary,assign:e.assign,clone:e.clone,curry:e.curry,forEach:e.forEach,isArray:e.isArray,isError:e.isError,isFunction:e.isFunction,isWeakMap:e.isWeakMap,iteratee:e.iteratee,keys:e.keys,rearg:e.rearg,toInteger:e.toInteger,toPath:e.toPath},w=b.ary,E=b.assign,T=b.clone,S=b.curry,_=b.forEach,I=b.isArray,A=b.isError,O=b.isFunction,C=b.isWeakMap,x=b.keys,k=b.rearg,P=b.toInteger,D=b.toPath,N=x(r.aryMethod),R={castArray:function(t){return function(){var e=arguments[0];return I(e)?t(s(e)):t.apply(void 0,arguments)}},iteratee:function(t){return function(){var e=arguments[0],n=arguments[1],r=t(e,n),i=r.length;return p.cap&&"number"==typeof n?(n=n>2?n-2:1,i&&i<=n?r:a(r,n)):r}},mixin:function(t){return function(e){var n=this;if(!O(n))return t(n,Object(e));var r=[];return _(x(e),function(t){O(e[t])&&r.push([t,n.prototype[t]])}),t(n,Object(e)),_(r,function(t){var e=t[1];O(e)?n.prototype[t[0]]=e:delete n.prototype[t[0]]}),n}},nthArg:function(t){return function(e){var n=e<0?1:P(e)+1;return S(t(e),n)}},rearg:function(t){return function(e,n){var r=n?n.length:0;return S(t(e,n),r)}},runInContext:function(n){return function(r){return t(e,n(r),l)}}};function L(t,e){if(p.cap){var n=r.iterateeRearg[t];if(n)return function(t,e){return V(t,function(t){var n=e.length;return function(t,e){return 2==e?function(e,n){return t.apply(void 0,arguments)}:function(e){return t.apply(void 0,arguments)}}(k(a(t,n),e),n)})}(e,n);var i=!f&&r.iterateeAry[t];if(i)return function(t,e){return V(t,function(t){return"function"==typeof t?a(t,e):t})}(e,i)}return e}function M(t,e,n){if(p.fixed&&(m||!r.skipFixed[t])){var i=r.methodSpread[t],a=i&&i.start;return void 0===a?w(e,n):function(t,e){return function(){for(var n=arguments.length,r=n-1,i=Array(n);n--;)i[n]=arguments[n];var a=i[e],s=i.slice(0,e);return a&&o.apply(s,a),e!=r&&o.apply(s,i.slice(e+1)),t.apply(this,s)}}(e,a)}return e}function j(t,e,n){return p.rearg&&n>1&&(v||!r.skipRearg[t])?k(e,r.methodRearg[t]||r.aryRearg[n]):e}function U(t,e){for(var n=-1,r=(e=D(e)).length,i=r-1,o=T(Object(t)),a=o;null!=a&&++n<r;){var s=e[n],u=a[s];null==u||O(u)||A(u)||C(u)||(a[s]=T(n==i?u:Object(u))),a=a[s]}return o}function F(e,n){var i=r.aliasToReal[e]||e,o=r.remap[i]||i,a=l;return function(e){var r=f?g:b,s=f?g[o]:n,u=E(E({},a),e);return t(r,i,s,u)}}function V(t,e){return function(){var n=arguments.length;if(!n)return t();for(var r=Array(n);n--;)r[n]=arguments[n];var i=p.rearg?0:n-1;return r[i]=e(r[i]),t.apply(void 0,r)}}function q(t,e,n){var i,o=r.aliasToReal[t]||t,a=e,c=R[o];return c?a=c(e):p.immutable&&(r.mutate.array[o]?a=u(e,s):r.mutate.object[o]?a=u(e,function(t){return function(e){return t({},e)}}(e)):r.mutate.set[o]&&(a=u(e,U))),_(N,function(t){return _(r.aryMethod[t],function(e){if(o==e){var n=r.methodSpread[o],s=n&&n.afterRearg;return i=s?M(o,j(o,a,t),t):j(o,M(o,a,t),t),i=L(o,i),u=i,c=t,i=y||p.curry&&c>1?S(u,c):u,!1}var u,c}),!i}),i||(i=a),i==e&&(i=y?S(i,1):function(){return e.apply(this,arguments)}),i.convert=F(o,e),i.placeholder=e.placeholder=n,i}if(!h)return q(n,c,d);var B=c,W=[];return _(N,function(t){_(r.aryMethod[t],function(t){var e=B[r.remap[t]||t];e&&W.push([t,q(t,e,B)])})}),_(x(B),function(t){var e=B[t];if("function"==typeof e){for(var n=W.length;n--;)if(W[n][0]==t)return;e.convert=F(t,e),W.push([t,e])}}),_(W,function(t){B[t[0]]=t[1]}),B.convert=function(t){return B.runInContext.convert(t)(void 0)},B.placeholder=B,_(x(B),function(t){_(r.realToAlias[t]||[],function(e){B[e]=B[t]})}),B}},function(t,e){e.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},e.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},e.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},e.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},e.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},e.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},e.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},e.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},e.realToAlias=function(){var t=Object.prototype.hasOwnProperty,n=e.aliasToReal,r={};for(var i in n){var o=n[i];t.call(r,o)?r[o].push(i):r[o]=[i]}return r}(),e.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},e.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},e.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},function(t,e,n){t.exports={ary:n(390),assign:n(222),clone:n(410),curry:n(411),forEach:n(98),isArray:n(3),isError:n(412),isFunction:n(13),isWeakMap:n(413),iteratee:n(414),keys:n(91),rearg:n(415),toInteger:n(244),toPath:n(416)}},function(t,e,n){var r=n(158),i=128;t.exports=function(t,e,n){return e=n?void 0:e,e=t&&null==e?t.length:e,r(t,i,void 0,void 0,void 0,void 0,e)}},function(t,e,n){var r=n(105),i=n(20),o=1;t.exports=function(t,e,n){var a=e&o,s=r(t);return function e(){return(this&&this!==i&&this instanceof e?s:t).apply(a?n:this,arguments)}}},function(t,e,n){var r=n(74),i=n(105),o=n(234),a=n(237),s=n(243),u=n(163),c=n(20);t.exports=function(t,e,n){var l=i(t);return function i(){for(var f=arguments.length,h=Array(f),p=f,d=s(i);p--;)h[p]=arguments[p];var y=f<3&&h[0]!==d&&h[f-1]!==d?[]:u(h,d);return(f-=y.length)<n?a(t,e,o,i.placeholder,void 0,h,y,void 0,void 0,n-f):r(this&&this!==c&&this instanceof i?l:t,this,h)}}},function(t,e){t.exports=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}},function(t,e,n){var r=n(159),i=n(238),o=n(395),a=n(397);t.exports=function(t){var e=o(t),n=a[e];if("function"!=typeof n||!(e in r.prototype))return!1;if(t===n)return!0;var s=i(n);return!!s&&t===s[0]}},function(t,e,n){var r=n(396),i=Object.prototype.hasOwnProperty;t.exports=function(t){for(var e=t.name+"",n=r[e],o=i.call(r,e)?n.length:0;o--;){var a=n[o],s=a.func;if(null==s||s==t)return a.name}return e}},function(t,e){t.exports={}},function(t,e,n){var r=n(159),i=n(240),o=n(160),a=n(3),s=n(18),u=n(398),c=Object.prototype.hasOwnProperty;function l(t){if(s(t)&&!a(t)&&!(t instanceof r)){if(t instanceof i)return t;if(c.call(t,"__wrapped__"))return u(t)}return new i(t)}l.prototype=o.prototype,l.prototype.constructor=l,t.exports=l},function(t,e,n){var r=n(159),i=n(240),o=n(75);t.exports=function(t){if(t instanceof r)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=o(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}},function(t,e){var n=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;t.exports=function(t){var e=t.match(n);return e?e[1].split(r):[]}},function(t,e){var n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;t.exports=function(t,e){var r=e.length;if(!r)return t;var i=r-1;return e[i]=(r>1?"& ":"")+e[i],e=e.join(r>2?", ":" "),t.replace(n,"{\n/* [wrapped with "+e+"] */\n")}},function(t,e,n){var r=n(98),i=n(161),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];t.exports=function(t,e){return r(o,function(n){var r="_."+n[0];e&n[1]&&!i(t,r)&&t.push(r)}),t.sort()}},function(t,e){t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},function(t,e){t.exports=function(t){return t!==t}},function(t,e){t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},function(t,e,n){var r=n(75),i=n(58),o=Math.min;t.exports=function(t,e){for(var n=t.length,a=o(e.length,n),s=r(t);a--;){var u=e[a];t[a]=i(u,n)?s[u]:void 0}return t}},function(t,e,n){var r=n(74),i=n(105),o=n(20),a=1;t.exports=function(t,e,n,s){var u=e&a,c=i(t);return function e(){for(var i=-1,a=arguments.length,l=-1,f=s.length,h=Array(f+a),p=this&&this!==o&&this instanceof e?c:t;++l<f;)h[l]=s[l];for(;a--;)h[l++]=arguments[++i];return r(p,u?n:this,h)}}},function(t,e,n){var r=n(235),i=n(236),o=n(163),a="__lodash_placeholder__",s=1,u=2,c=4,l=8,f=128,h=256,p=Math.min;t.exports=function(t,e){var n=t[1],d=e[1],y=n|d,m=y<(s|u|f),v=d==f&&n==l||d==f&&n==h&&t[7].length<=e[8]||d==(f|h)&&e[7].length<=e[8]&&n==l;if(!m&&!v)return t;d&s&&(t[2]=e[2],y|=n&s?0:c);var g=e[3];if(g){var b=t[3];t[3]=b?r(b,g,e[4]):g,t[4]=b?o(t[3],a):e[4]}return(g=e[5])&&(b=t[5],t[5]=b?i(b,g,e[6]):g,t[6]=b?o(t[5],a):e[6]),(g=e[7])&&(t[7]=g),d&f&&(t[8]=null==t[8]?e[8]:p(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=y,t}},function(t,e,n){var r=n(409),i=1/0,o=1.7976931348623157e308;t.exports=function(t){return t?(t=r(t))===i||t===-i?(t<0?-1:1)*o:t===t?t:0:0===t?t:0}},function(t,e,n){var r=n(10),i=n(69),o=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return o;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=u.test(t);return n||c.test(t)?l(t.slice(2),n?2:8):s.test(t)?o:+t}},function(t,e,n){var r=n(101),i=4;t.exports=function(t){return r(t,i)}},function(t,e,n){var r=n(158),i=8;function o(t,e,n){var a=r(t,i,void 0,void 0,void 0,void 0,void 0,e=n?void 0:e);return a.placeholder=o.placeholder,a}o.placeholder={},t.exports=o},function(t,e,n){var r=n(35),i=n(18),o=n(153),a="[object DOMException]",s="[object Error]";t.exports=function(t){if(!i(t))return!1;var e=r(t);return e==s||e==a||"string"==typeof t.message&&"string"==typeof t.name&&!o(t)}},function(t,e,n){var r=n(49),i=n(18),o="[object WeakMap]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e,n){var r=n(101),i=n(27),o=1;t.exports=function(t){return i("function"==typeof t?t:r(t,o))}},function(t,e,n){var r=n(158),i=n(148),o=i(function(t,e){return r(t,256,void 0,void 0,void 0,e)});t.exports=o},function(t,e,n){var r=n(52),i=n(75),o=n(3),a=n(69),s=n(203),u=n(44),c=n(51);t.exports=function(t){return o(t)?r(t,u):a(t)?[t]:i(s(c(t)))}},function(t,e,n){var r=n(51),i=n(418);t.exports=function(t){return i(r(t).toLowerCase())}},function(t,e,n){var r=n(419)("toUpperCase");t.exports=r},function(t,e,n){var r=n(165),i=n(146),o=n(166),a=n(51);t.exports=function(t){return function(e){e=a(e);var n=i(e)?o(e):void 0,s=n?n[0]:e.charAt(0),u=n?r(n,1).join(""):e.slice(1);return s[t]()+u}}},function(t,e){t.exports=function(t){return t.split("")}},function(t,e){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+r+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?"+u+("(?:\\u200d(?:"+[o,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+u+")*"),l="(?:"+[o+r+"?",r,a,s,n].join("|")+")",f=RegExp(i+"(?="+i+")|"+l+c,"g");t.exports=function(t){return t.match(f)||[]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deleteFile=e.uploadFiles=e.uploadFile=void 0;var r=c(n(13)),i=c(n(59)),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(21),s=n(216),u=n(423);function c(t){return t&&t.__esModule?t:{default:t}}var l=a.actionTypes.FILE_UPLOAD_START,f=a.actionTypes.FILE_UPLOAD_ERROR,h=a.actionTypes.FILE_UPLOAD_COMPLETE,p=a.actionTypes.FILE_DELETE_START,d=a.actionTypes.FILE_DELETE_ERROR,y=a.actionTypes.FILE_DELETE_COMPLETE,m=e.uploadFile=function(t,e,n){if(!e.storage)throw new Error("Firebase storage is required to upload files");var i=n||{},a=i.path,s=i.file,c=i.dbPath,p=i.options,d=void 0===p?{progress:!1}:p,y=e._.config.logErrors,m=((0,r.default)(d.name)?d.name(s,e,n):d.name)||s.name,v=o({},n,{filename:m});t({type:l,payload:o({},n,{filename:m})});return(d.progress?(0,u.uploadFileWithProgress)(t,e,{path:a,file:s,filename:m,meta:v}):e.storage().ref(a+"/"+m).put(s)).then(function(r){return c&&(e.database||e.firestore)?(0,u.writeMetadataToDb)({firebase:e,uploadTaskSnapshot:r,dbPath:c,options:d}).then(function(e){return t({type:h,meta:o({},n,{filename:m}),payload:e}),e}):(t({type:h,meta:o({},n,{filename:m}),payload:{uploadTaskSnapshot:r,uploadTaskSnaphot:r}}),{uploadTaskSnapshot:r,uploadTaskSnaphot:r})}).catch(function(e){return y&&console.error&&console.error("RRF: Error uploading file: "+(e.message||e),e),t({type:f,path:a,payload:e}),Promise.reject(e)})};e.uploadFiles=function(t,e,n){var r=n.files,a=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(n,["files"]);return Promise.all((0,i.default)(r,function(n){return m(t,e,o({file:n},a))}))};e.deleteFile=function(t,e,n){var r=n.path,i=n.dbPath;return(0,s.wrapInDispatch)(t,{method:u.deleteFile,args:[e,{path:r,dbPath:i}],types:[p,y,d]})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(424)),i=s(n(425)),o=s(n(13));e.deleteFile=function(t,e){var n=e.path,r=e.dbPath;return t.storage().ref(n).delete().then(function(){if(!r||!t.database&&!t.firestore)return{path:n};return(t._.config.useFirestoreForStorageMeta?t.firestore().doc(r).delete():t.database().ref(r).remove()).then(function(){return{path:n,dbPath:r}})})},e.writeMetadataToDb=function(t){var e=t.firebase,n=t.uploadTaskSnapshot,a=t.dbPath,s=t.options,u=e._.config,c=u.fileMetadataFactory,l=u.useFirestoreForStorageMeta,f=s.metadataFactory||c;return function(t){if(t.ref&&"function"===typeof t.ref.getDownloadURL)return t.ref.getDownloadURL();return Promise.resolve(t.downloadURLs&&t.downloadURLs[0])}(n).then(function(t){var s=(0,o.default)(f)?f(n,e,n.metadata,t):(0,i.default)(n.metadata,r.default),u=function(t){var e=t.fileData,n=t.firebase,r=t.uploadTaskSnapshot,i=t.downloadURL;return function(t){var o=n._.config.useFirestoreForStorageMeta,a={snapshot:t,key:t.key||t.id,File:e,metaDataSnapshot:t,uploadTaskSnapshot:r,uploadTaskSnaphot:r,createdAt:o?n.firestore.FieldValue.serverTimestamp():n.database.ServerValue.TIMESTAMP};return t.id&&(a.id=t.id),i&&(a.downloadURL=i),a}}({fileData:s,firebase:e,uploadTaskSnapshot:n,downloadURL:t});return function(t){if(l)return e.firestore().collection(a).add(t);var n=e.database().ref(a).push();return n.set(t).then(function(t){return n})}(s).then(u)})},e.uploadFileWithProgress=function(t,e,n){var r=n.path,i=n.file,o=n.filename,a=n.meta,s=e.storage().ref(r+"/"+o).put(i),l=s.on(e.storage.TaskEvent.STATE_CHANGED,{next:function(e){t({type:c,meta:a,payload:{snapshot:e,percent:Math.floor(e.bytesTransferred/e.totalBytes*100)}})},error:function(e){t({type:u,meta:a,payload:e}),l()},complete:function(){l()}});return s};var a=n(21);function s(t){return t&&t.__esModule?t:{default:t}}var u=a.actionTypes.FILE_UPLOAD_ERROR,c=a.actionTypes.FILE_UPLOAD_PROGRESS},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,n){var r=n(27),i=n(249),o=n(426);t.exports=function(t,e){return o(t,i(r(e)))}},function(t,e,n){var r=n(52),i=n(27),o=n(218),a=n(151);t.exports=function(t,e){if(null==t)return{};var n=r(a(t),function(t){return[t]});return e=i(e),o(t,n,function(t,n){return e(t,n[0])})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFirebaseConnect=void 0;var r=d(n(428)),i=d(n(167)),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(0),u=d(s),c=d(n(1)),l=d(n(106)),f=n(248),h=n(64),p=n(21);function d(t){return t&&t.__esModule?t:{default:t}}function y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var m=e.createFirebaseConnect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store";return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(n){var d,m,v,g=function(c){function l(){var e,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=y(this,(e=l.__proto__||Object.getPrototypeOf(l)).call.apply(e,[this].concat(o))),r.firebaseEvents=[],r.firebase=null,r.prevData=null,r.store=r.context[t],y(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(l,s.Component),a(l,[{key:"componentWillMount",value:function(){if(!this.context||!this.context[t])throw new Error(p.v3ErrorMessage);var n=this.store,r=n.firebase,i=n.dispatch,a=(0,h.createCallable)(e);this.prevData=a(this.props,this.store);var s=r.ref,u=r.helpers,c=r.storage,l=r.database,d=r.auth;this.firebase=o({ref:s,storage:c,database:l,auth:d},u),this._firebaseEvents=(0,h.getEventsFromInput)(this.prevData),(0,f.watchEvents)(r,i,this._firebaseEvents)}},{key:"componentWillUnmount",value:function(){var t=this.store,e=t.firebase,n=t.dispatch;(0,f.unWatchEvents)(e,n,this._firebaseEvents)}},{key:"componentWillReceiveProps",value:function(t){var n=this.store,o=n.firebase,a=n.dispatch,s=(0,h.createCallable)(e)(t,this.store);if(!(0,i.default)(s,this.prevData)){var u=(0,r.default)(s,this.prevData,i.default),c=(0,r.default)(this.prevData,s,i.default);this.prevData=s,(0,f.unWatchEvents)(o,a,(0,h.getEventsFromInput)(c)),this._firebaseEvents=(0,h.getEventsFromInput)(s),(0,f.watchEvents)(o,a,(0,h.getEventsFromInput)(u))}}},{key:"render",value:function(){return u.default.createElement(n,o({},this.props,this.state,{firebase:this.firebase}))}}]),l}();return g.displayName="FirebaseConnect("+(0,h.getDisplayName)(n)+")",g.wrappedComponent=n,g.contextTypes=(d={},m=t,v=c.default.object.isRequired,m in d?Object.defineProperty(d,m,{value:v,enumerable:!0,configurable:!0,writable:!0}):d[m]=v,d),(0,l.default)(g,n)}}};e.default=m()},function(t,e,n){var r=n(429),i=n(93),o=n(76),a=n(155),s=n(71),u=o(function(t,e){var n=s(e);return a(n)&&(n=void 0),a(t)?r(t,i(e,1,a,!0),void 0,n):[]});t.exports=u},function(t,e,n){var r=n(131),i=n(161),o=n(250),a=n(52),s=n(90),u=n(132),c=200;t.exports=function(t,e,n,l){var f=-1,h=i,p=!0,d=t.length,y=[],m=e.length;if(!d)return y;n&&(e=a(e,s(n))),l?(h=o,p=!1):e.length>=c&&(h=u,p=!1,e=new r(e));t:for(;++f<d;){var v=t[f],g=null==n?v:n(v);if(v=l||0!==v?v:0,p&&g===g){for(var b=m;b--;)if(e[b]===g)continue t;y.push(v)}else h(e,g,l)||y.push(v)}return y}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFirestoreConnect=void 0;var r=d(n(212)),i=d(n(95)),o=d(n(167)),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(0),c=d(u),l=d(n(1)),f=d(n(106)),h=n(64),p=n(21);function d(t){return t&&t.__esModule?t:{default:t}}function y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var m=e.createFirestoreConnect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store";return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(n){var d,m,v,g=function(l){function f(){var e,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=y(this,(e=f.__proto__||Object.getPrototypeOf(f)).call.apply(e,[this].concat(o))),r.prevData=null,r.store=r.context[t],y(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(f,u.Component),s(f,[{key:"componentWillMount",value:function(){if(!this.context||!this.context[t])throw new Error(p.v3ErrorMessage);var n=this.store.firestore;if(this.firestoreIsEnabled){var r=(0,h.createCallable)(e);this.prevData=r(this.props,this.store),n.setListeners(this.prevData)}}},{key:"componentWillUnmount",value:function(){var t=this.store.firestore;this.firestoreIsEnabled&&this.prevData&&t.unsetListeners(this.prevData)}},{key:"componentWillReceiveProps",value:function(t){var n=this.store.firestore,r=(0,h.createCallable)(e)(t,this.store);if(this.firestoreIsEnabled&&!(0,o.default)(r,this.prevData)){var i=this.getChanges(r,this.prevData);this.prevData=r,n.unsetListeners(i.removed),n.setListeners(i.added)}}},{key:"getChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return n.added=(0,r.default)(t,function(t){return!(0,i.default)(e,function(e){return(0,o.default)(t,e)})}),n.removed=(0,r.default)(e,function(e){return!(0,i.default)(t,function(t){return(0,o.default)(e,t)})}),n}},{key:"render",value:function(){var t=this.store,e=t.firebase,r=t.firestore,i=a({},this.props,{firestore:r});return e&&(i.firebase=a({},e,e.helpers)),c.default.createElement(n,i)}},{key:"firestoreIsEnabled",get:function(){return!!this.store.firestore}}]),f}();return g.wrappedComponent=n,g.displayName=(0,h.wrapDisplayName)(n,"FirestoreConnect"),g.contextTypes=(d={},m=t,v=l.default.object.isRequired,m in d?Object.defineProperty(d,m,{value:v,enumerable:!0,configurable:!0,writable:!0}):d[m]=v,d),(0,f.default)(g,n)}}};e.default=m()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWithFirebase=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),a=f(o),s=f(n(1)),u=f(n(106)),c=n(64),l=n(21);function f(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var p=e.createWithFirebase=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store";return function(e){var n,f,p,d=function(n){function s(){var e,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=h(this,(e=s.__proto__||Object.getPrototypeOf(s)).call.apply(e,[this].concat(o))),r.store=r.context[t],h(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,o.Component),i(s,[{key:"render",value:function(){if(!this.context||!this.context[t])throw new Error(l.v3ErrorMessage);return a.default.createElement(e,r({},this.props,this.state,{dispatch:this.store.dispatch,firebase:this.store.firebase}))}}]),s}();return d.wrappedComponent=e,d.displayName=(0,c.wrapDisplayName)(e,"withFirebase"),d.contextTypes=(n={},f=t,p=s.default.object.isRequired,f in n?Object.defineProperty(n,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):n[f]=p,n),(0,u.default)(d,e)}};e.default=p()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWithFirestore=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),a=f(o),s=f(n(1)),u=f(n(106)),c=n(64),l=n(21);function f(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var p=e.createWithFirestore=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store";return function(e){var n,f,p,d=function(n){function s(){var e,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=h(this,(e=s.__proto__||Object.getPrototypeOf(s)).call.apply(e,[this].concat(o))),r.store=r.context[t],h(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,o.Component),i(s,[{key:"render",value:function(){if(!this.context||!this.context[t])throw new Error(l.v3ErrorMessage);return a.default.createElement(e,r({},this.props,{dispatch:this.store.dispatch,firestore:this.store.firestore,firebase:this.store.firebase}))}}]),s}();return d.wrappedComponent=e,d.displayName=(0,c.wrapDisplayName)(e,"withFirestore"),d.contextTypes=(n={},f=t,p=s.default.object.isRequired,f in n?Object.defineProperty(n,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):n[f]=p,n),(0,u.default)(d,e)}};e.default=p()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFirebase=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(188),o=n(164),a=n(21),s=n(217),u=void 0;e.default=function(t,e){return function(n){return function(c,l,f){var h=n(c,l,f);if(!t.SDK_VERSION&&!t.firebase_&&!t.database)throw new Error("v2.0.0-beta and higher require passing a firebase app instance or a firebase library instance. View the migration guide for details.");var p=t&&t._||{},d=r({},p,a.defaultConfig,e);return u=(0,i.createFirebaseInstance)(t.firebase_||t,d,h.dispatch),s.authActions.init(h.dispatch,u),h.firebase=u,d.attachAuthIsReady&&(h.firebaseAuthIsReady=(0,o.createAuthIsReady)(h,d)),h}}};e.getFirebase=function(){if(!u)throw new Error("Firebase instance does not yet exist. Check your compose function.");return u}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(157),i=n(435);e.default=(0,r.combineReducers)({requesting:i.requestingReducer,requested:i.requestedReducer,timestamps:i.timestampsReducer,data:i.dataReducer,ordered:i.orderedReducer,auth:i.authReducer,authError:i.authErrorReducer,profile:i.profileReducer,listeners:i.listenersReducer,isInitializing:i.isInitializingReducer,errors:i.errorsReducer}),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.orderedReducer=e.dataReducer=e.listenersReducer=e.errorsReducer=e.profileReducer=e.authErrorReducer=e.authReducer=e.timestampsReducer=e.requestedReducer=e.requestingReducer=e.isInitializingReducer=void 0;var r=p(n(168)),i=p(n(251)),o=p(n(10)),a=p(n(3)),s=p(n(36)),u=p(n(100)),c=p(n(99)),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=n(21),h=n(157);function p(t){return t&&t.__esModule?t:{default:t}}function d(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=f.actionTypes.START,v=f.actionTypes.SET,g=f.actionTypes.SET_PROFILE,b=f.actionTypes.MERGE,w=f.actionTypes.LOGIN,E=f.actionTypes.LOGOUT,T=f.actionTypes.LOGIN_ERROR,S=f.actionTypes.CLEAR_ERRORS,_=f.actionTypes.REMOVE,I=f.actionTypes.NO_VALUE,A=f.actionTypes.SET_LISTENER,O=f.actionTypes.UNSET_LISTENER,C=f.actionTypes.AUTHENTICATION_INIT_STARTED,x=f.actionTypes.AUTHENTICATION_INIT_FINISHED,k=f.actionTypes.AUTH_EMPTY_CHANGE,P=f.actionTypes.AUTH_LINK_SUCCESS,D=f.actionTypes.UNAUTHORIZED_ERROR,N=f.actionTypes.AUTH_UPDATE_SUCCESS,R=f.actionTypes.AUTH_RELOAD_SUCCESS,L=f.actionTypes.PROFILE_UPDATE_SUCCESS,M=(e.isInitializingReducer=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case C:return!0;case x:return!1;default:return t}},e.requestingReducer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=e.type,r=e.path;switch(n){case m:return l({},t,y({},(0,h.getSlashStrPath)(r),!0));case I:case v:return l({},t,y({},(0,h.getSlashStrPath)(r),!1));default:return t}},e.requestedReducer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=e.type,r=e.path;switch(n){case m:return l({},t,y({},(0,h.getSlashStrPath)(r),!1));case I:case v:return l({},t,y({},(0,h.getSlashStrPath)(r),!0));default:return t}},e.timestampsReducer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=e.type,r=e.path;switch(n){case m:case I:case v:return l({},t,y({},(0,h.getSlashStrPath)(r),Date.now()));default:return t}},function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data";return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];switch(n.type){case v:return(0,i.default)(Object,(0,h.getDotStrPath)(n.path),n[t],e);case b:var u=(0,s.default)(e,(0,h.getDotStrPath)(n.path),{}),l=(0,r.default)(u,n[t]);return(0,i.default)(Object,(0,h.getDotStrPath)(n.path),l,e);case I:return(0,i.default)(Object,(0,h.getDotStrPath)(n.path),null,e);case _:return"data"===t?(0,h.recursiveUnset)((0,h.getDotStrPath)(n.path),e):e;case E:if(n.preserve){if((0,a.default)(n.preserve))return(0,c.default)(e,n.preserve);if((0,o.default)(n.preserve))return n.preserve[t]?(0,h.preserveValuesFromState)(e,n.preserve[t],{}):{};throw new Error("Invalid preserve parameter. It must be an Object or an Array")}return{};default:return e}}});e.authReducer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoaded:!1,isEmpty:!0},e=arguments[1];switch(e.type){case w:case N:if(!e.auth)return{isEmpty:!0,isLoaded:!0};var n=e.auth.toJSON?e.auth.toJSON():e.auth;return e.preserve&&e.preserve.auth?(0,h.preserveValuesFromState)(t,e.preserve.auth,l({},n,{isEmpty:!1,isLoaded:!0})):l({},n,{isEmpty:!1,isLoaded:!0});case P:case R:return e.payload?l({},e.payload.toJSON?e.payload.toJSON():e.payload,{isEmpty:!1,isLoaded:!0}):{isEmpty:!0,isLoaded:!0};case T:case k:case E:return e.preserve&&e.preserve.auth?(0,h.preserveValuesFromState)(t,e.preserve.auth,{isLoaded:!0,isEmpty:!0}):{isLoaded:!0,isEmpty:!0};default:return t}},e.authErrorReducer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments[1];switch(e.type){case w:case E:return null;case T:case D:return e.authError;default:return t}},e.profileReducer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoaded:!1,isEmpty:!0},e=arguments[1];switch(e.type){case g:return e.profile?l({},e.profile,{isEmpty:!1,isLoaded:!0}):l({},t,{isEmpty:!0,isLoaded:!0});case L:return l({},t,e.payload);case w:return e.preserve&&e.preserve.profile?(0,h.preserveValuesFromState)(t,e.preserve.profile,{isLoaded:!0,isEmpty:!0}):{isEmpty:!0,isLoaded:!1};case E:case k:return e.preserve&&e.preserve.profile?(0,h.preserveValuesFromState)(t,e.preserve.profile,{isLoaded:!0,isEmpty:!0}):{isLoaded:!0,isEmpty:!0};default:return t}},e.errorsReducer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];switch(e.type){case T:case D:if(!(0,a.default)(t))throw new Error("Errors state must be an array");return[].concat(d(t),[e.authError]);case E:case S:if(e.preserve&&e.preserve.errors){if("function"!==typeof e.preserve.errors)throw new Error("Preserve for the errors state currently only supports functions");return t.filter(e.preserve.errors)}return[];default:return t}},e.listenersReducer=(0,h.combineReducers)({byId:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=e.type,r=e.path,i=e.payload;switch(n){case A:return l({},t,y({},i.id,{id:i.id,path:r}));case O:return(0,u.default)(t,[i.id]);default:return t}},allIds:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],n=e.type,r=(e.path,e.payload);switch(n){case A:return[].concat(d(t),[r.id]);case O:return t.filter(function(t){return t!==r.id});default:return t}}}),e.dataReducer=M(),e.orderedReducer=M("ordered")},function(t,e,n){var r=n(96),i=n(54),o=n(156),a=n(39),s=n(68),u=n(43),c=Object.prototype.hasOwnProperty,l=o(function(t,e){if(s(e)||a(e))i(e,u(e),t);else for(var n in e)c.call(e,n)&&r(t,n,e[n])});t.exports=l},function(t,e,n){var r=n(145);t.exports=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:r(t,e,n,i)}},,function(t,e,n){"use strict";e.__esModule=!0;var r=n(0),i=(a(r),a(n(1))),o=a(n(440));a(n(441));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=1073741823;e.default=function(t,e){var n,a,f="__create-react-context-"+(0,o.default)()+"__",h=function(t){function n(){var e,r;s(this,n);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=r=u(this,t.call.apply(t,[this].concat(o))),r.emitter=function(t){var e=[];return{on:function(t){e.push(t)},off:function(t){e=e.filter(function(e){return e!==t})},get:function(){return t},set:function(n,r){t=n,e.forEach(function(e){return e(t,r)})}}}(r.props.value),u(r,e)}return c(n,t),n.prototype.getChildContext=function(){var t;return(t={})[f]=this.emitter,t},n.prototype.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var n=this.props.value,r=t.value,i=void 0;((o=n)===(a=r)?0!==o||1/o===1/a:o!==o&&a!==a)?i=0:(i="function"===typeof e?e(n,r):l,0!==(i|=0)&&this.emitter.set(t.value,i))}var o,a},n.prototype.render=function(){return this.props.children},n}(r.Component);h.childContextTypes=((n={})[f]=i.default.object.isRequired,n);var p=function(e){function n(){var t,r;s(this,n);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=r=u(this,e.call.apply(e,[this].concat(o))),r.state={value:r.getValue()},r.onUpdate=function(t,e){0!==((0|r.observedBits)&e)&&r.setState({value:r.getValue()})},u(r,t)}return c(n,e),n.prototype.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=void 0===e||null===e?l:e},n.prototype.componentDidMount=function(){this.context[f]&&this.context[f].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=void 0===t||null===t?l:t},n.prototype.componentWillUnmount=function(){this.context[f]&&this.context[f].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[f]?this.context[f].get():t},n.prototype.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(r.Component);return p.contextTypes=((a={})[f]=i.default.object,a),{Provider:h,Consumer:p}},t.exports=e.default},function(t,e,n){"use strict";(function(e){var n="__global_unique_id__";t.exports=function(){return e[n]=(e[n]||0)+1}}).call(this,n(29))},function(t,e,n){"use strict";var r=n(442);t.exports=r},function(t,e,n){"use strict";function r(t){return function(){return t}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},,,,function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return function(n){return function(r,u,c){var l=n(r,u,c),f=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){s(t,e,n[e])})}return t}({},o.defaultConfig,e);return i=(0,a.default)(t.firebase_||t,f,l.dispatch),l.firestore=i,l}}},e.getFirestore=void 0;var r,i,o=n(28),a=(r=n(252))&&r.__esModule?r:{default:r};function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.getFirestore=function(){if(!i)throw new Error("Firebase instance does not yet exist. Check your compose function.");return i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.add=p,e.set=function(t,e,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a=(0,c.getQueryConfig)(n);return(0,s.wrapInDispatch)(e,{ref:(0,c.firestoreRef)(t,a),method:"set",meta:a,args:i,types:[u.actionTypes.SET_REQUEST,u.actionTypes.SET_SUCCESS,u.actionTypes.SET_FAILURE]})},e.get=d,e.update=y,e.deleteRef=function(t,e,n){var o=(0,c.getQueryConfig)(n),a=t._.config;if(!o.doc||o.subcollections&&!(0,r.default)(o.subcollections,"doc"))return(0,i.default)(a.onAttemptCollectionDelete)?a.onAttemptCollectionDelete(n,e,t):Promise.reject(new Error("Only documents can be deleted."));return(0,s.wrapInDispatch)(e,{ref:(0,c.firestoreRef)(t,o),method:"delete",meta:o,types:[u.actionTypes.DELETE_REQUEST,{type:u.actionTypes.DELETE_SUCCESS,preserve:t._.config.preserveOnDelete},u.actionTypes.DELETE_FAILURE]})},e.setListener=m,e.setListeners=v,e.unsetListener=g,e.unsetListeners=b,e.runTransaction=w,e.default=void 0;var r=l(n(231)),i=l(n(13)),o=l(n(450)),a=l(n(3)),s=n(256),u=n(28),c=n(108);function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h={};function p(t,e,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a=(0,c.getQueryConfig)(n);return(0,s.wrapInDispatch)(e,{ref:(0,c.firestoreRef)(t,a),method:"add",meta:a,args:i,types:[u.actionTypes.ADD_REQUEST,{type:u.actionTypes.ADD_SUCCESS,payload:function(t){return{id:t.id,data:i[0]}}},u.actionTypes.ADD_FAILURE]})}function d(t,e,n){var r=(0,c.getQueryConfig)(n),i=t._.config||{},o=i.mergeOrdered,a=i.mergeOrderedDocUpdates,l=i.mergeOrderedCollectionUpdates;return(0,s.wrapInDispatch)(e,{ref:(0,c.firestoreRef)(t,r),method:"get",meta:r,types:[u.actionTypes.GET_REQUEST,{type:u.actionTypes.GET_SUCCESS,payload:function(t){return{data:(0,c.dataByIdSnapshot)(t),ordered:(0,c.orderedFromSnap)(t)}},merge:{docs:o&&a,collections:o&&l}},u.actionTypes.GET_FAILURE]})}function y(t,e,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a=(0,c.getQueryConfig)(n);return(0,s.wrapInDispatch)(e,{ref:(0,c.firestoreRef)(t,a),method:"update",meta:a,args:i,types:[u.actionTypes.UPDATE_REQUEST,u.actionTypes.UPDATE_SUCCESS,u.actionTypes.UPDATE_FAILURE]})}function m(t,e,n,r,i){var a=(0,c.getQueryConfig)(n),s=(0,c.firestoreRef)(t,a).onSnapshot(function(n){if(!a.populates)return(0,c.dispatchListenerResponse)({dispatch:e,docData:n,meta:a,firebase:t}),void("function"===typeof r&&r(n));(0,c.getPopulateActions)({firebase:t,docData:n,meta:a}).then(function(r){r.forEach(function(t){e(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){f(t,e,n[e])})}return t}({},t,{type:u.actionTypes.LISTENER_RESPONSE,timestamp:Date.now()}))}),(0,c.dispatchListenerResponse)({dispatch:e,docData:n,meta:a,firebase:t})}).catch(function(e){t._.config.logListenerError&&(0,o.default)(console,"error","Error populating:",e),"function"===typeof i&&i(e)})},function(n){var r=t._.config||{},s=r.mergeOrdered,c=r.mergeOrderedDocUpdates,l=r.mergeOrderedCollectionUpdates,f=t._.config||{},h=f.logListenerError,p=f.preserveOnListenerError;h&&(0,o.default)(console,"error",n),e({type:u.actionTypes.LISTENER_ERROR,meta:a,payload:n,merge:{docs:s&&c,collections:s&&l},preserve:p}),"function"===typeof i&&i(n)});return(0,c.attachListener)(t,e,a,s),s}function v(t,e,n){if(!(0,a.default)(n))throw new Error("Listeners must be an Array of listener configs (Strings/Objects).");var r=t._.config;if(r.oneListenerPerPath)n.forEach(function(n){var r=(0,c.getQueryName)(n),i=h[r]||0;h[r]=i+1,i>0||m(t,e,n)});else{var o=r.allowMultipleListeners;n.forEach(function(n){var r=(0,c.getQueryName)(n),a=h[r]||0,s=(0,i.default)(o)?o(n,t._.listeners):o;h[r]=a+1,(0===a||s)&&m(t,e,n)})}}function g(t,e,n){return(0,c.detachListener)(t,e,(0,c.getQueryConfig)(n))}function b(t,e,n){if(!(0,a.default)(n))throw new Error("Listeners must be an Array of listener configs (Strings/Objects).");var r=t._.config.allowMultipleListeners;n.forEach(function(n){var o=(0,c.getQueryName)(n),a=h[o]>=1,s=(0,i.default)(r)?r(n,t._.listeners):r;a&&(h[o]-=1,(0===h[o]||s)&&g(t,e,n))})}function w(t,e,n){return(0,s.wrapInDispatch)(e,{ref:t.firestore(),method:"runTransaction",args:[n],types:[u.actionTypes.TRANSACTION_START,u.actionTypes.TRANSACTION_SUCCESS,u.actionTypes.TRANSACTION_FAILURE]})}var E={get:d,firestoreRef:c.firestoreRef,add:p,update:y,setListener:m,setListeners:v,unsetListener:g,unsetListeners:b,runTransaction:w};e.default=E},function(t,e,n){var r=n(451),i=n(76)(r);t.exports=i},function(t,e,n){var r=n(74),i=n(50),o=n(71),a=n(207),s=n(44);t.exports=function(t,e,n){e=i(e,t);var u=null==(t=a(t,e))?t:t[s(o(e))];return null==u?void 0:r(u,t,n)}},function(t,e,n){var r=n(101),i=1,o=4;t.exports=function(t){return r(t,i|o)}},function(t,e,n){var r=n(141),i=n(165),o=n(454),a=n(257),s=n(166),u=n(51),c=/^\s+|\s+$/g;t.exports=function(t,e,n){if((t=u(t))&&(n||void 0===e))return t.replace(c,"");if(!t||!(e=r(e)))return t;var l=s(t),f=s(e),h=a(l,f),p=o(l,f)+1;return i(l,h,p).join("")}},function(t,e,n){var r=n(162);t.exports=function(t,e){for(var n=t.length;n--&&r(e,t[n],0)>-1;);return n}},function(t,e,n){var r=n(91),i=n(49),o=n(66),a=n(3),s=n(39),u=n(67),c=n(68),l=n(89),f="[object Map]",h="[object Set]",p=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||u(t)||l(t)||o(t)))return!t.length;var e=i(t);if(e==f||e==h)return!t.size;if(c(t))return!r(t).length;for(var n in t)if(p.call(t,n))return!1;return!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(457))&&r.__esModule?r:{default:r},o=n(61),a=n(459);var s=(0,o.combineReducers)({status:a.statusReducer,data:a.dataReducer,ordered:a.orderedReducer,listeners:a.listenersReducer,errors:a.errorsReducer,queries:a.queriesReducer,composite:function(t){return t}}),u=(0,i.default)(s,a.crossSliceReducer);e.default=u},function(t,e,n){"use strict";n.r(e),e.default=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r="function"!==typeof e[e.length-1]&&e.pop(),i=e;if("undefined"===typeof r)throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(t,e){for(var n=arguments.length,o=Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];var s="undefined"===typeof t,u="undefined"===typeof e;return s&&u&&r?r:i.reduce(function(t,n){return n.apply(void 0,[t,e].concat(o))},s&&!u&&r?r:t)}}},function(t,e,n){var r=n(141),i=n(165),o=n(257),a=n(166),s=n(51),u=/^\s+/;t.exports=function(t,e,n){if((t=s(t))&&(n||void 0===e))return t.replace(u,"");if(!t||!(e=r(e)))return t;var c=a(t),l=o(c,a(e));return i(c,l).join("")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"dataReducer",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"errorsReducer",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"listenersReducer",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"orderedReducer",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"statusReducer",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"queriesReducer",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"crossSliceReducer",{enumerable:!0,get:function(){return c.default}}),e.default=void 0;var r=l(n(460)),i=l(n(461)),o=l(n(462)),a=l(n(463)),s=l(n(471)),u=l(n(472)),c=l(n(473));function l(t){return t&&t.__esModule?t:{default:t}}var f={dataReducer:r.default,errorsReducer:i.default,listenersReducer:o.default,orderedReducer:a.default,statusReducer:s.default,queriesReducer:u.default,crossSliceReducer:c.default};e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case l:case f:var n=e.meta,a=e.payload;if(!a||void 0===a.data)return t;var u=function t(e){return e.subcollections?t(e.subcollections.slice(-1)[0]):e.doc}(n),v=u?(0,o.default)(a.data,u):a.data,g=(0,o.default)(t,n.storeAs?[n.storeAs]:(0,s.pathFromMeta)(n));if(!g||n.subcollections)return(0,i.default)(Object,n.storeAs?[n.storeAs]:(0,s.pathFromMeta)(n),v,t);var b=(0,r.default)(g,v);return(0,i.default)(Object,n.storeAs?[n.storeAs]:(0,s.pathFromMeta)(n),b,t);case y:case d:return(0,i.default)(Object,(0,s.pathFromMeta)(e.meta),e.payload.data,t);case m:case p:var w=(0,s.pathFromMeta)(e.meta),E=(0,i.default)(Object,w,null,t);return e.preserve&&e.preserve.data?(0,s.preserveValuesFromState)(t,e.preserve.data,E):E;case c:return e.preserve&&e.preserve.data?(0,s.preserveValuesFromState)(t,e.preserve.data,{}):{};case h:var T=(0,i.default)(Object,(0,s.pathFromMeta)(e.meta),null,t);if(e.preserve&&e.preserve.data)return(0,s.preserveValuesFromState)(t,e.preserve.data,T);var S=(0,o.default)(t,(0,s.pathFromMeta)(e.meta));return S?t:T;default:return t}};var r=u(n(168)),i=u(n(251)),o=u(n(36)),a=n(28),s=n(61);function u(t){return t&&t.__esModule?t:{default:t}}var c=a.actionTypes.CLEAR_DATA,l=a.actionTypes.GET_SUCCESS,f=a.actionTypes.LISTENER_RESPONSE,h=a.actionTypes.LISTENER_ERROR,p=a.actionTypes.DELETE_SUCCESS,d=a.actionTypes.DOCUMENT_ADDED,y=a.actionTypes.DOCUMENT_MODIFIED,m=a.actionTypes.DOCUMENT_REMOVED},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(28),i=n(108),o=n(61);function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){s(t,e,n[e])})}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var c=r.actionTypes.CLEAR_ERRORS,l=r.actionTypes.CLEAR_ERROR,f=r.actionTypes.LISTENER_ERROR,h=r.actionTypes.ERROR;var p=(0,o.combineReducers)({byQuery:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=e.meta,r=e.payload;switch(e.type){case h:case f:return a({},t,s({},(0,i.getQueryName)(n),r));case l:return a({},t,s({},(0,i.getQueryName)(n),null));default:return t}},allIds:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=e.meta;switch(e.type){case f:case h:return-1!==t.indexOf((0,i.getQueryName)(n))?t:[].concat(u(t),[(0,i.getQueryName)(n)]);case c:return[];case l:return t.filter(function(t){return t!==(0,i.getQueryName)(n)});default:return t}}});e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(100))&&r.__esModule?r:{default:r},o=n(28);function a(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=(0,n(61).combineReducers)({byId:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.path,a=e.payload;switch(n){case o.actionTypes.SET_LISTENER:return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){s(t,e,n[e])})}return t}({},t,s({},a.name,{name:a.name,path:r}));case o.actionTypes.UNSET_LISTENER:return(0,i.default)(t,[a.name]);default:return t}},allIds:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case o.actionTypes.SET_LISTENER:return[].concat(a(t),[r.name]);case o.actionTypes.UNSET_LISTENER:return t.filter(function(t){return t!==r.name});default:return t}}});e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(!e.type)return t;if(e.type===_)return e.preserve&&e.preserve.ordered?(0,y.preserveValuesFromState)(t,e.preserve.ordered,{}):{};if(!Object.prototype.hasOwnProperty.call(P,e.type))return t;if(!e.meta||!e.meta.storeAs&&!e.meta.collection)return t;var n=e.meta.storeAs||e.meta.collection,r=(0,h.default)(t,n);return g({},t,b({},n,D(r,e)))};var r,i=m(n(168)),o=m(n(253)),a=m(n(167)),s=m(n(464)),u=m(n(59)),c=m(n(100)),l=m(n(467)),f=m(n(468)),h=m(n(36)),p=m(n(73)),d=n(28),y=n(61);function m(t){return t&&t.__esModule?t:{default:t}}function v(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){b(t,e,n[e])})}return t}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var E=d.actionTypes.DOCUMENT_ADDED,T=d.actionTypes.GET_SUCCESS,S=d.actionTypes.LISTENER_RESPONSE,_=d.actionTypes.CLEAR_DATA,I=d.actionTypes.DELETE_SUCCESS,A=d.actionTypes.DOCUMENT_REMOVED,O=d.actionTypes.DOCUMENT_MODIFIED;function C(t,e){if(!e.meta.subcollections||e.meta.storeAs)return(0,y.updateItemInArray)(t,e.meta.doc,function(t){return(0,i.default)(t,e.payload.data)});var n=w((0,y.pathToArr)(e.meta.path),4),r=n[1],a=n[2],s=n[3];return(0,y.updateItemInArray)(t,r,function(t){return g({},t,b({},a,(0,y.updateItemInArray)((0,h.default)(t,a,[]),s,function(t){return(0,o.default)(t,e.payload.data)})))})}function x(t,e){if(!e.meta.subcollections||e.meta.storeAs)return(0,l.default)(t,{id:e.meta.doc});var n=e.meta.subcollections[0];return n.doc?(0,y.updateItemInArray)(t,e.meta.doc,function(e){return(0,h.default)(e,n.collection,[]).length?g({},e,b({},n.collection,(0,l.default)(t,{id:n.doc}))):e}):(0,y.updateItemInArray)(t,e.meta.doc,function(t){return(0,c.default)(t,[n.collection])})}function k(t,e){var n=e.meta,r=e.merge,i=void 0===r?{doc:!0,collections:!0}:r;if(n.storeAs)return e.payload.ordered;var l=(0,p.default)(t),d=!!(0,p.default)(e.payload.ordered);if(n.doc&&i.doc&&l)return C(t,e);if(l&&i.collections){if(!d)return[];var m=t&&(0,s.default)(t,"id");return(0,u.default)(e.payload.ordered,function(t){var e=(0,h.default)(m,t.id);return e&&!(0,a.default)(e,t)?g({},e,t):t})}if(n.doc&&n.subcollections){var v=n.subcollections[0];return l?(0,y.updateItemInArray)(t,n.doc,function(t){return d?g({},t,b({},v.collection,(0,f.default)((0,h.default)(t,v.collection,[]),e.payload.ordered,"id"))):(0,c.default)(t,[v.collection])}):[b({id:n.doc},v.collection,e.payload.ordered)]}return n.doc&&l?(0,y.updateItemInArray)(t,n.doc,function(t){return(0,o.default)(t,e.payload.ordered[0])}):e.payload.ordered}var P=(b(r={},E,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=e.meta,r=e.payload;return!n.subcollections||n.storeAs?[].concat(v(t.slice(0,r.ordered.newIndex)),[g({id:n.doc},r.data)],v(t.slice(r.ordered.newIndex))):C(t,e)}),b(r,O,C),b(r,A,x),b(r,I,x),b(r,S,k),b(r,T,k),r),D=(0,y.createReducer)(void 0,P)},function(t,e,n){var r=n(60),i=n(258)(function(t,e,n){r(t,n,e)});t.exports=i},function(t,e){t.exports=function(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}},function(t,e,n){var r=n(53);t.exports=function(t,e,n,i){return r(t,function(t,r,o){e(i,t,n(t),o)}),i}},function(t,e,n){var r=n(136),i=n(213),o=n(27),a=n(3),s=n(249);t.exports=function(t,e){return(a(t)?r:i)(t,s(o(e,3)))}},function(t,e,n){var r=n(93),i=n(27),o=n(76),a=n(469),s=n(155),u=n(71),c=o(function(t){var e=u(t);return s(e)&&(e=void 0),a(r(t,1,s,!0),i(e,2))});t.exports=c},function(t,e,n){var r=n(131),i=n(161),o=n(250),a=n(132),s=n(470),u=n(133),c=200;t.exports=function(t,e,n){var l=-1,f=i,h=t.length,p=!0,d=[],y=d;if(n)p=!1,f=o;else if(h>=c){var m=e?null:s(t);if(m)return u(m);p=!1,f=a,y=new r}else y=e?[]:d;t:for(;++l<h;){var v=t[l],g=e?e(v):v;if(v=n||0!==v?v:0,p&&g===g){for(var b=y.length;b--;)if(y[b]===g)continue t;e&&y.push(g),d.push(v)}else f(y,g,n)||(y!==d&&y.push(g),d.push(v))}return d}},function(t,e,n){var r=n(199),i=n(239),o=n(133),a=r&&1/o(new r([,-0]))[1]==1/0?function(t){return new r(t)}:i;t.exports=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.requestingReducer=f,e.requestedReducer=h,e.timestampsReducer=p,e.default=void 0;var r=n(28),i=n(61),o=n(108);function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){s(t,e,n[e])})}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=r.actionTypes.SET_LISTENER,c=r.actionTypes.LISTENER_ERROR,l=r.actionTypes.LISTENER_RESPONSE;function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.meta;switch(n){case u:return a({},t,s({},(0,i.getSlashStrPath)((0,o.getQueryName)(r)),!0));case c:case l:return a({},t,s({},(0,i.getSlashStrPath)((0,o.getQueryName)(r)),!1));default:return t}}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.meta;switch(n){case u:return a({},t,s({},(0,o.getQueryName)(r),!1));case c:case l:return a({},t,s({},(0,o.getQueryName)(r),!0));default:return t}}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.meta;switch(n){case u:return a({},t,s({},(0,o.getQueryName)(r),Date.now()));default:return t}}var d=(0,i.combineReducers)({requesting:f,requested:h,timestamps:p});e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return(0,a.default)(t,function(n){if(!f(e))return t;var i=(0,u.getBaseQueryName)(e.meta);switch(e.type){case s.actionTypes.GET_SUCCESS:case s.actionTypes.LISTENER_RESPONSE:return n[i]=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){l(t,e,n[e])})}return t}({data:e.payload.data},e.meta),n;case s.actionTypes.UNSET_LISTENER:return n[i]&&(n[i].data=void 0),n;case s.actionTypes.DOCUMENT_ADDED:case s.actionTypes.DOCUMENT_MODIFIED:return(0,o.default)(n,[i,"data",e.meta.doc],e.payload.data),n;case s.actionTypes.DOCUMENT_REMOVED:case s.actionTypes.DELETE_SUCCESS:return(0,r.default)(n,[i,"data",e.meta.doc]),n;default:return t}})},e.isComposable=void 0;var r=c(n(245)),i=c(n(36)),o=c(n(72)),a=c(n(259)),s=n(28),u=n(108);function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=function(t){return(0,i.default)(t,"meta.where")&&(0,i.default)(t,"meta.collection")};e.isComposable=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return(0,c.default)(t,function(n){switch(e.type){case l.actionTypes.DOCUMENT_MODIFIED:case l.actionTypes.DOCUMENT_ADDED:case l.actionTypes.DOCUMENT_REMOVED:case l.actionTypes.LISTENER_RESPONSE:case l.actionTypes.UNSET_LISTENER:var c=(0,s.default)((0,u.default)(t.queries),function(t){return t.storeAs||t.collection});return(0,r.default)(c).forEach(function(t){var e={};c[t].forEach(function(t){return(0,a.default)(e,(0,i.default)(t,"data",{}))}),(0,o.default)(n,["composite",t],e)}),n;default:return t}})};var r=f(n(43)),i=f(n(36)),o=f(n(72)),a=f(n(254)),s=f(n(474)),u=f(n(475)),c=f(n(259)),l=n(28);function f(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){var r=n(60),i=n(258),o=Object.prototype.hasOwnProperty,a=i(function(t,e,n){o.call(t,n)?t[n].push(e):r(t,n,[e])});t.exports=a},function(t,e,n){var r=n(476),i=n(43);t.exports=function(t){return null==t?[]:r(t,i(t))}},function(t,e,n){var r=n(52);t.exports=function(t,e){return r(e,function(e){return t[e]})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e){return function(n){return function(r){var o=r.type===a?r:void 0;if("undefined"===typeof o)return n(r);var u=o.method;if("function"===typeof u&&(u=u(e.getState())),"string"!==typeof u)throw new Error("Specify a method.");var c=o.args,l=s[u];if(!Array.isArray(l)||3!==l.length)throw new Error("Expected an array of three action types.");if(!l.every(function(t){return"string"===typeof t}))throw new Error("Expected action types to be strings.");var f,h,p=(h=3,function(t){if(Array.isArray(t))return t}(f=l)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(f,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),d=p[0],y=p[1],m=p[2];n({type:d});var v={method:u};return function(t,e){var n=e.method,r=e.modelArgs,o=e.methodArgs;(0,i.default)(r)||(r=[r]);(0,i.default)(o)||(o=[o]);if(!t||!t.firestore)throw new Error("firestore is not a Firebase namespace");return o?t.firestore()[n].apply(t,o):t.firestore()[n]}(t,v).then(function(t){return n({response:t,method:u,args:c,type:y})}).catch(function(t){return n(function(t){var e=Object.assign({},r,t);return delete e[a],e}({type:m,error:t.message||t||"Something bad happened"}))})}}}},e.CALL_FIRESTORE=void 0;var r,i=(r=n(3))&&r.__esModule?r:{default:r},o=n(28);var a="CALL_FIRESTORE";e.CALL_FIRESTORE=a;var s={get:[o.actionTypes.GET_REQUEST,o.actionTypes.GET_SUCCESS,o.actionTypes.GET_FAILURE]}},function(t,e,n){"use strict";n.r(e);n(479),n(480),n(481),n(492),n(495),n(499),n(505),n(509),n(537)},function(t,e){!function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(t){return t&&DataView.prototype.isPrototypeOf(t)},i=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};l.prototype.append=function(t,e){t=s(t),e=u(e);var n=this.map[t];this.map[t]=n?n+","+e:e},l.prototype.delete=function(t){delete this.map[s(t)]},l.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},l.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},l.prototype.set=function(t,e){this.map[s(t)]=u(e)},l.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},l.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),c(t)},l.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),c(t)},l.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),c(t)},e.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},y.call(m.prototype),y.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},b.error=function(){var t=new b(null,{status:0,statusText:""});return t.type="error",t};var a=[301,302,303,307,308];b.redirect=function(t,e){if(-1===a.indexOf(e))throw new RangeError("Invalid status code");return new b(null,{status:e,headers:{location:t}})},t.Headers=l,t.Request=m,t.Response=b,t.fetch=function(t,n){return new Promise(function(r,i){var o=new m(t,n),a=new XMLHttpRequest;a.onload=function(){var t={status:a.status,statusText:a.statusText,headers:g(a.getAllResponseHeaders()||"")};t.url="responseURL"in a?a.responseURL:t.headers.get("X-Request-URL");var e="response"in a?a.response:a.responseText;r(new b(e,t))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&e.blob&&(a.responseType="blob"),o.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send("undefined"===typeof o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}function s(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!==typeof t&&(t=String(t)),t}function c(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function l(t){this.map={},t instanceof l?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function f(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function h(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function p(t){var e=new FileReader,n=h(e);return e.readAsArrayBuffer(t),n}function d(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"===typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&r(t))this._bodyArrayBuffer=d(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!i(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=d(t)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=h(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(t,e){var n=(e=e||{}).body;if(t instanceof m){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new l(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new l(e.headers)),this.method=function(t){var e=t.toUpperCase();return o.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function v(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function g(t){var e=new l;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e}function b(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new l(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!==typeof self?self:this)},function(t,e,n){"use strict";(function(t,e){function n(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})}var r=setTimeout;function i(){}function o(t){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,o._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(i){return void u(e.promise,i)}s(e.promise,r)}else(1===t._state?s:u)(e.promise,t._value)})):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===typeof e||"function"===typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void c(t);if("function"===typeof n)return void f((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,c(t)}catch(a){u(t,a)}var r,i}function u(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&o._immediateFn(function(){t._handled||o._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function l(t,e,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=n}function f(t,e){var n=!1;try{t(function(t){n||(n=!0,s(e,t))},function(t){n||(n=!0,u(e,t))})}catch(r){if(n)return;n=!0,u(e,r)}}o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(i);return a(this,new l(t,e,n)),n},o.prototype.finally=n,o.all=function(t){return new o(function(e,n){if(!t||"undefined"===typeof t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function o(t,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var s=a.then;if("function"===typeof s)return void s.call(a,function(e){o(t,e)},n)}r[t]=a,0===--i&&e(r)}catch(u){n(u)}}for(var a=0;a<r.length;a++)o(a,r[a])})},o.resolve=function(t){return t&&"object"===typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)})},o._immediateFn="function"===typeof t&&function(e){t(e)}||function(t){r(t,0)},o._unhandledRejectionFn=function(t){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var h=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e)return e;throw new Error("unable to locate global object")}();"Promise"in h?h.Promise.prototype.finally||(h.Promise.prototype.finally=n):h.Promise=o}).call(this,n(186).setImmediate,n(29))},function(t,e,n){t.exports=n(482)},function(t,e,n){n(483),t.exports=n(122)("Array","find")},function(t,e,n){"use strict";var r=n(260)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),n(41)({target:"Array",proto:!0,forced:i},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(176)("find")},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var r=n(266),i=n(14).WeakMap;t.exports="function"===typeof i&&/native code/.test(r.call(i))},function(t,e,n){var r=n(174),i=n(120),o=n(62),a=n(14).Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(63),i=n(111),o=n(488);t.exports=function(t){return function(e,n,a){var s,u=r(e),c=i(u.length),l=o(a,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(112),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},function(t,e,n){var r=n(37),i=/#|\.prototype\./,o=function(t,e){var n=s[a(t)];return n==c||n!=u&&("function"==typeof e?r(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},function(t,e,n){var r=n(55),i=n(46),o=n(62),a=n(121);t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=a(e),s=r.length,u=0;s>u;)i.f(t,n=r[u++],e[n]);return t}},function(t,e,n){var r=n(14).document;t.exports=r&&r.documentElement},function(t,e,n){t.exports=n(493)},function(t,e,n){n(494),t.exports=n(122)("Array","findIndex")},function(t,e,n){"use strict";var r=n(260)(6),i=!0;"findIndex"in[]&&Array(1).findIndex(function(){i=!1}),n(41)({target:"Array",proto:!0,forced:i},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(176)("findIndex")},function(t,e,n){t.exports=n(496)},function(t,e,n){n(497),t.exports=n(178).Object.assign},function(t,e,n){var r=n(498);n(41)({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},function(t,e,n){"use strict";var r=n(121),i=n(120),o=n(115),a=n(110),s=n(169),u=Object.assign;t.exports=!u||n(37)(function(){var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||"abcdefghijklmnopqrst"!=r(u({},e)).join("")})?function(t,e){for(var n=a(t),u=arguments.length,c=1,l=i.f,f=o.f;u>c;)for(var h,p=s(arguments[c++]),d=l?r(p).concat(l(p)):r(p),y=d.length,m=0;y>m;)f.call(p,h=d[m++])&&(n[h]=p[h]);return n}:u},function(t,e,n){t.exports=n(500)},function(t,e,n){n(501),t.exports=n(122)("String","startsWith")},function(t,e,n){"use strict";var r=n(111),i=n(502),o=n(504)("startsWith"),a="".startsWith;n(41)({target:"String",proto:!0,forced:!o},{startsWith:function(t){var e=i(this,t,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),o=String(t);return a?a.call(e,o,n):e.slice(n,n+o.length)===o}})},function(t,e,n){var r=n(503),i=n(78);t.exports=function(t,e,n){if(r(e))throw TypeError("String.prototype."+n+" doesn't accept regex");return String(i(t))}},function(t,e,n){var r=n(38),i=n(109),o=n(22)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(22)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(i){}}return!1}},function(t,e,n){t.exports=n(506)},function(t,e,n){n(507),t.exports=n(122)("String","repeat")},function(t,e,n){n(41)({target:"String",proto:!0},{repeat:n(508)})},function(t,e,n){"use strict";var r=n(112),i=n(78);t.exports="".repeat||function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e,n){t.exports=n(510),n(534),n(535),n(536)},function(t,e,n){n(511),n(514),n(517),n(520),n(521),n(522),n(523),n(269),n(524),n(525),n(526),n(527),n(528),n(529),n(530),n(531),n(532),n(533),t.exports=n(178).Symbol},function(t,e,n){"use strict";var r=n(170),i=n(38),o=n(110),a=n(111),s=n(512),u=n(262),c=n(22)("isConcatSpreadable"),l=!n(37)(function(){var t=[];return t[c]=!1,t.concat()[0]!==t}),f=n(513)("concat"),h=function(t){if(!i(t))return!1;var e=t[c];return void 0!==e?!!e:r(t)},p=!l||!f;n(41)({target:"Array",proto:!0,forced:p},{concat:function(t){var e,n,r,i,c,l=o(this),f=u(l,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(c=-1===e?l:arguments[e],h(c)){if(p+(i=a(c.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,p++)n in c&&s(f,p,c[n])}else{if(p>=9007199254740991)throw TypeError("Maximum allowed index exceeded");s(f,p++,c)}return f.length=p,f}})},function(t,e,n){"use strict";var r=n(113),i=n(46),o=n(80);t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},function(t,e,n){var r=n(37),i=n(22)("species");t.exports=function(t){return!r(function(){var e=[];return(e.constructor={})[i]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},function(t,e,n){var r=n(515),i=Object.prototype;r!==i.toString&&n(116)(i,"toString",r,{unsafe:!0})},function(t,e,n){"use strict";var r=n(516),i={};i[n(22)("toStringTag")]="z",t.exports="[object z]"!==String(i)?function(){return"[object "+r(this)+"]"}:i.toString},function(t,e,n){var r=n(109),i=n(22)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(n){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){"use strict";var r=n(14),i=n(32),o=n(55),a=n(114),s=n(41),u=n(116),c=n(119),l=n(37),f=n(79),h=n(81),p=n(172),d=n(22),y=n(179),m=n(15),v=n(518),g=n(170),b=n(62),w=n(38),E=n(63),T=n(113),S=n(80),_=n(177),I=n(519),A=n(173),O=n(46),C=n(115),x=n(40),k=n(121),P=n(118)("hidden"),D=n(117),N=D.set,R=D.getterFor("Symbol"),L=A.f,M=O.f,j=I.f,U=r.Symbol,F=r.JSON,V=F&&F.stringify,q=d("toPrimitive"),B=C.f,W=f("symbol-registry"),z=f("symbols"),K=f("op-symbols"),Q=f("wks"),H=Object.prototype,G=r.QObject,Y=n(265),X=!G||!G.prototype||!G.prototype.findChild,$=o&&l(function(){return 7!=_(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=L(H,e);r&&delete H[e],M(t,e,n),r&&t!==H&&M(H,e,r)}:M,J=function(t,e){var n=z[t]=_(U.prototype);return N(n,{type:"Symbol",tag:t,description:e}),o||(n.description=e),n},Z=Y&&"symbol"==typeof U.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof U},tt=function(t,e,n){return t===H&&tt(K,e,n),b(t),e=T(e,!0),b(n),i(z,e)?(n.enumerable?(i(t,P)&&t[P][e]&&(t[P][e]=!1),n=_(n,{enumerable:S(0,!1)})):(i(t,P)||M(t,P,S(1,{})),t[P][e]=!0),$(t,e,n)):M(t,e,n)},et=function(t,e){b(t);for(var n,r=v(e=E(e)),i=0,o=r.length;o>i;)tt(t,n=r[i++],e[n]);return t},nt=function(t){var e=B.call(this,t=T(t,!0));return!(this===H&&i(z,t)&&!i(K,t))&&(!(e||!i(this,t)||!i(z,t)||i(this,P)&&this[P][t])||e)},rt=function(t,e){if(t=E(t),e=T(e,!0),t!==H||!i(z,e)||i(K,e)){var n=L(t,e);return!n||!i(z,e)||i(t,P)&&t[P][e]||(n.enumerable=!0),n}},it=function(t){for(var e,n=j(E(t)),r=[],o=0;n.length>o;)i(z,e=n[o++])||i(c,e)||r.push(e);return r},ot=function(t){for(var e,n=t===H,r=j(n?K:E(t)),o=[],a=0;r.length>a;)!i(z,e=r[a++])||n&&!i(H,e)||o.push(z[e]);return o};Y||(u((U=function(){if(this instanceof U)throw TypeError("Symbol is not a constructor");var t=void 0===arguments[0]?void 0:String(arguments[0]),e=p(t);return o&&X&&$(H,e,{configurable:!0,set:function t(n){this===H&&t.call(K,n),i(this,P)&&i(this[P],e)&&(this[P][e]=!1),$(this,e,S(1,n))}}),J(e,t)}).prototype,"toString",function(){return R(this).tag}),C.f=nt,O.f=tt,A.f=rt,n(174).f=I.f=it,n(120).f=ot,o&&(M(U.prototype,"description",{configurable:!0,get:function(){return R(this).description}}),a||u(H,"propertyIsEnumerable",nt,{unsafe:!0})),y.f=function(t){return J(d(t),t)}),s({global:!0,wrap:!0,forced:!Y,sham:!Y},{Symbol:U});for(var at=k(Q),st=0;at.length>st;)m(at[st++]);s({target:"Symbol",stat:!0,forced:!Y},{for:function(t){return i(W,t+="")?W[t]:W[t]=U(t)},keyFor:function(t){if(!Z(t))throw TypeError(t+" is not a symbol");for(var e in W)if(W[e]===t)return e},useSetter:function(){X=!0},useSimple:function(){X=!1}}),s({target:"Object",stat:!0,forced:!Y,sham:!o},{create:function(t,e){return void 0===e?_(t):et(_(t),e)},defineProperty:tt,defineProperties:et,getOwnPropertyDescriptor:rt}),s({target:"Object",stat:!0,forced:!Y},{getOwnPropertyNames:it,getOwnPropertySymbols:ot}),F&&s({target:"JSON",stat:!0,forced:!Y||l(function(){var t=U();return"[null]"!=V([t])||"{}"!=V({a:t})||"{}"!=V(Object(t))})},{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(w(e)||void 0!==t)&&!Z(t))return g(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Z(e))return e}),r[1]=e,V.apply(F,r)}}),U.prototype[q]||x(U.prototype,q,U.prototype.valueOf),h(U,"Symbol"),c[P]=!0},function(t,e,n){var r=n(121),i=n(120),o=n(115);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),u=o.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,n){var r=n(63),i=n(174).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(e){return a.slice()}}(t):i(r(t))}},function(t,e,n){n(15)("asyncIterator")},function(t,e,n){"use strict";var r=n(55),i=n(32),o=n(38),a=n(46).f,s=n(267),u=n(14).Symbol;if(r&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var c={},l=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof l?new u(t):void 0===t?u():u(t);return""===t&&(c[e]=!0),e};s(l,u);var f=l.prototype=u.prototype;f.constructor=l;var h=f.toString,p="Symbol(test)"==String(u("test")),d=/^Symbol\((.*)\)[^)]+$/;a(f,"description",{configurable:!0,get:function(){var t=o(this)?this.valueOf():this,e=h.call(t);if(i(c,t))return"";var n=p?e.slice(7,-1):e.replace(d,"$1");return""===n?void 0:n}}),n(41)({global:!0,forced:!0},{Symbol:l})}},function(t,e,n){n(15)("hasInstance")},function(t,e,n){n(15)("isConcatSpreadable")},function(t,e,n){n(15)("match")},function(t,e,n){n(15)("replace")},function(t,e,n){n(15)("search")},function(t,e,n){n(15)("species")},function(t,e,n){n(15)("split")},function(t,e,n){n(15)("toPrimitive")},function(t,e,n){n(15)("toStringTag")},function(t,e,n){n(15)("unscopables")},function(t,e,n){n(81)(Math,"Math",!0)},function(t,e,n){n(81)(n(14).JSON,"JSON",!0)},function(t,e,n){n(15)("dispose")},function(t,e,n){n(15)("observable")},function(t,e,n){n(15)("patternMatch")},function(t,e,n){t.exports=n(538)},function(t,e,n){n(269),n(539),n(545),t.exports=n(179).f("iterator")},function(t,e,n){"use strict";var r=n(540),i=n(117),o=n(270),a=i.set,s=i.getterFor("String Iterator");o(String,"String",function(t){a(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,e=s(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i,!0),e.index+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(112),i=n(78);t.exports=function(t,e,n){var o,a,s=String(i(t)),u=r(e),c=s.length;return u<0||u>=c?n?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?n?s.charAt(u):o:n?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}},function(t,e,n){"use strict";var r=n(271).IteratorPrototype,i=n(177),o=n(80),a=n(81),s=n(180),u=function(){return this};t.exports=function(t,e,n){var c=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),a(t,c,!1,!0),s[c]=u,t}},function(t,e,n){t.exports=!n(37)(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},function(t,e,n){var r=n(544);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(i){}return function(n,i){return r(n,i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},function(t,e,n){var r=n(38),i=n(62);t.exports=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}},function(t,e,n){var r=n(546),i=n(547),o=n(14),a=n(40),s=n(22),u=s("iterator"),c=s("toStringTag"),l=i.values;for(var f in r){var h=o[f],p=h&&h.prototype;if(p){if(p[u]!==l)try{a(p,u,l)}catch(y){p[u]=l}if(p[c]||a(p,c,f),r[f])for(var d in i)if(p[d]!==i[d])try{a(p,d,i[d])}catch(y){p[d]=i[d]}}}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){"use strict";var r=n(63),i=n(176),o=n(180),a=n(117),s=n(270),u=a.set,c=a.getterFor("Array Iterator");t.exports=s(Array,"Array",function(t,e){u(this,{type:"Array Iterator",target:r(t),index:0,kind:e})},function(){var t=c(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){"use strict";n(549)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=(r=n(2))&&"object"===typeof r&&"default"in r?r.default:r,a=n(550),s=n(551),u=n(552),c=n(273),l=o.SDK_VERSION,f=new a.Logger("@firebase/firestore");function h(){return f.logLevel===a.LogLevel.DEBUG?i.DEBUG:f.logLevel===a.LogLevel.SILENT?i.SILENT:i.ERROR}function p(t){switch(t){case i.DEBUG:f.logLevel=a.LogLevel.DEBUG;break;case i.ERROR:f.logLevel=a.LogLevel.ERROR;break;case i.SILENT:f.logLevel=a.LogLevel.SILENT;break;default:f.error("Firestore ("+l+"): Invalid value passed to `setLogLevel`")}}function d(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(f.logLevel<=a.LogLevel.DEBUG){var i=n.map(m);f.debug.apply(f,["Firestore ("+l+") ["+t+"]: "+e].concat(i))}}function y(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=a.LogLevel.ERROR){var r=e.map(m);f.error.apply(f,["Firestore ("+l+"): "+t].concat(r))}}function m(t){if("string"===typeof t)return t;var e=b.getPlatform();try{return e.formatJSON(t)}catch(n){return t}}function v(t){var e="FIRESTORE ("+l+") INTERNAL ASSERTION FAILED: "+t;throw y(e),new Error(e)}function g(t,e){t||v(e)}!function(t){t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT"}(i||(i={}));var b=function(){function t(){}return t.setPlatform=function(e){t.platform&&v("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||v("Platform not set"),t.platform},t}();function w(){return b.getPlatform().emptyByteString}var E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},T=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return s.__extends(e,t),e}(Error);function S(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new T(E.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function I(t,e){return void 0!==t?t:e}function A(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function O(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function C(t){for(var e in g(null!=t&&"object"===typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function x(t,e){if(0!==e.length)throw new T(E.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+Q(e.length,"argument")+".")}function k(t,e,n){if(e.length!==n)throw new T(E.INVALID_ARGUMENT,"Function "+t+"() requires "+Q(n,"argument")+", but was called with "+Q(e.length,"argument")+".")}function P(t,e,n){if(e.length<n)throw new T(E.INVALID_ARGUMENT,"Function "+t+"() requires at least "+Q(n,"argument")+", but was called with "+Q(e.length,"argument")+".")}function D(t,e,n,r){if(e.length<n||e.length>r)throw new T(E.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+Q(e.length,"argument")+".")}function N(t,e,n,r){F(t,e,K(n)+" argument",r)}function R(t,e,n,r){void 0!==r&&N(t,e,n,r)}function L(t,e,n,r){F(t,e,n+" option",r)}function M(t,e,n,r){void 0!==r&&L(t,e,n,r)}function j(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new T(E.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+q(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new T(E.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be "+n+", but the value at index "+o+" was: "+q(r[o]))}(t,e,n,r,i)}function U(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(q(u))}var c=q(r);throw new T(E.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function F(t,e,n,r){if(!("object"===e?V(r):"non-empty string"===e?"string"===typeof r&&""!==r:typeof r===e)){var i=q(r);throw new T(E.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function V(t){return"object"===typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function q(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"===typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"===typeof t||"boolean"===typeof t)return""+t;if("object"===typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"===typeof t?"a function":v("Unknown wrong type: "+typeof t)}function B(t,e,n){if(void 0===n)throw new T(E.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+K(e)+" argument, but it was undefined.")}function W(t,e,n){O(e,function(e,r){if(n.indexOf(e)<0)throw new T(E.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function z(t,e,n,r){var i=q(r);return new T(E.INVALID_ARGUMENT,"Function "+t+"() requires its "+K(n)+" argument to be a "+e+", but it was: "+i)}function K(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function Q(t,e){return t+" "+e+(1===t?"":"s")}var H=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return g(20===e.length,"Invalid auto ID: "+e),e},t}();function G(t,e){return t<e?-1:t>e?1:0}function Y(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function X(t){return t+"\0"}function $(){if("undefined"===typeof Uint8Array)throw new T(E.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function J(){if(!b.getPlatform().base64Available)throw new T(E.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Z,tt,et=function(){function t(t){J(),this._binaryString=t}return t.fromBase64String=function(e){k("Blob.fromBase64String",arguments,1),N("Blob.fromBase64String","string",1,e),J();try{return new t(b.getPlatform().atob(e))}catch(n){throw new T(E.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+n)}},t.fromUint8Array=function(e){if(k("Blob.fromUint8Array",arguments,1),$(),!(e instanceof Uint8Array))throw z("Blob.fromUint8Array","Uint8Array",1,e);return new t(Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join(""))},t.prototype.toBase64=function(){return k("Blob.toBase64",arguments,0),J(),b.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){k("Blob.toUint8Array",arguments,0),$();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return G(this._binaryString,t._binaryString)},t}(),nt=S(et,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),rt=function(){function t(t,e){if(k("GeoPoint",arguments,2),N("GeoPoint","number",1,t),N("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new T(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new T(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return G(this._lat,t._lat)||G(this._long,t._long)},t}(),it=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new T(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new T(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new T(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new T(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?G(this.nanoseconds,t.nanoseconds):G(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),ot=function(){return function(t,e,n,r){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r}}(),at="(default)",st=function(){function t(t,e){this.projectId=t,this.database=e||at}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===at},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return G(this.projectId,t.projectId)||G(this.database,t.database)},t}(),ut=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&v("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&v("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(t,e,n),r},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):"string"===typeof e?n.push(e):v("Unknown parameter type for Path.child(): "+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,g(this.length>=t,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return g(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return g(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return g(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new T(E.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(ut),lt=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.isValidIdentifier=function(t){return lt.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new T(E.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new T(E.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new T(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new T(E.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(ut),ht=function(){function t(e){this.path=e,g(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ct.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return ct.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2===0},t.fromSegments=function(e){return new t(new ct(e.slice()))},t.fromPathString=function(e){return new t(ct.fromString(e))},t.EMPTY=new t(new ct([])),t}(),pt=function(){function t(t,e){this.key=t,this.version=e}return t.compareByKey=function(t,e){return ht.comparator(t.key,e.key)},t}(),dt=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.data=r,a.proto=o,a.hasLocalMutations=!!i.hasLocalMutations,a.hasCommittedMutations=!!i.hasCommittedMutations,a}return s.__extends(e,t),e.prototype.field=function(t){return this.data.field(t)},e.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},e.prototype.value=function(){return this.data.value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.data.isEqual(t.data)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return void 0!==r&&void 0!==i?r.compareTo(i):v("Trying to compare documents on fields that don't exist")},e}(pt),yt=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return s.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(pt),mt=function(t){function e(e,n){return t.call(this,e,n)||this}return s.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(pt),vt=function(){function t(t,e){this.comparator=t,this.root=e||bt.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bt.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new gt(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new gt(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new gt(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new gt(this.root,t,this.comparator,!0)},t}(),gt=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){g(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),bt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw v("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw v("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw v("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),wt=function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new bt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();bt.EMPTY=new wt,function(t){t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue"}(Z||(Z={})),function(t){t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous"}(tt||(tt={}));var Et=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(tt.Estimate,n);case"previous":return new t(tt.Previous,n);case"none":case void 0:return new t(tt.Default,n);default:return v("fromSnapshotOptions() called with invalid options.")}},t}(),Tt=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return g(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),G(this.typeOrder,t.typeOrder)},t}(),St=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=Z.NullValue,e.internalValue=null,e}return s.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(Tt),_t=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Z.BooleanValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?G(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(Tt),It=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Z.NumberValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue,r=t.internalValue,n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1):this.defaultCompareTo(t);var n,r},e}(Tt);function At(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}var Ot=function(t){function e(e){return t.call(this,e)||this}return s.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&At(this.internalValue,t.internalValue)},e}(It),Ct=function(t){function e(e){var n=t.call(this,e)||this;return n.internalValue=e,n}return s.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&At(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(It),xt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Z.StringValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?G(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(Tt),kt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Z.TimestampValue,n}return s.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof Pt?-1:this.defaultCompareTo(t)},e}(Tt),Pt=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=Z.TimestampValue,r}return s.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===tt.Estimate?new kt(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===tt.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof kt?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(Tt),Dt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Z.BlobValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(Tt),Nt=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=Z.RefValue,r}return s.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&(this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId))},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:ht.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(Tt),Rt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Z.GeoPointValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(Tt),Lt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Z.ObjectValue,n}return s.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,r){e[n]=r.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),a=G(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return G(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(g(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var i=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),i)},e.prototype.delete=function(t){if(g(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return void 0!==this.field(t)},e.prototype.field=function(t){g(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e&&n.internalValue.get(t)||void 0}),n},e.prototype.toString=function(){return this.internalValue.toString()},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new vt(G)),e}(Tt),Mt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Z.ArrayValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(t.internalValue[r]);if(i)return i}return G(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return"["+this.internalValue.map(function(t){return t.toString()}).join(",")+"]"},e}(Tt),jt=Number,Ut=jt.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Ft=jt.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Vt=jt.isInteger||function(t){return"number"===typeof t&&isFinite(t)&&Math.floor(t)===t};function qt(t){return null===t||void 0===t}function Bt(t){return Vt(t)&&t<=Ft&&t>=Ut}var Wt,zt=function(){function t(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)t.isKeyField()?this.memoizedOrderBy=[Zt]:this.memoizedOrderBy=[new Jt(t),Zt];else{g(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}if(!n){var a=this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Xt.ASCENDING;this.memoizedOrderBy.push(a===Xt.ASCENDING?Zt:te)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){g(null==this.getInequalityFilterField()||!(e instanceof Ht)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),g(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){g(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.asCollectionQueryAtPath=function(e){return new t(e,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();this.isCollectionGroupQuery()&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,n=this.filters;e<n.length;e++){t+=n[e].canonicalId(),t+=","}t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++){t+=i[r].canonicalId(),t+=","}qt(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),qt(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&(!!this.path.isEqual(t.path)&&(!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)))},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(t,e);if(0!==a)return a;n=n||o.field.isKeyField()}return g(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesPathAndCollectionGroup(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!qt(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Ht&&n.isInequality())return n.field}return null},t.prototype.hasArrayContainsFilter=function(){return void 0!==this.filters.find(function(t){return t instanceof Ht&&t.op===Qt.ARRAY_CONTAINS})},t.prototype.isDocumentQuery=function(){return ht.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},t.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},t.prototype.matchesPathAndCollectionGroup=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(e):ht.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isImmediateParentOf(e)},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&void 0===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++){if(!n[e].matches(t))return!1}return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t))&&(!this.endAt||!this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){g(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),Kt=function(){function t(){}return t.create=function(t,e,n){if(n.isEqual(St.INSTANCE)){if(e!==Qt.EQUAL)throw new T(E.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new Gt(t)}if(n.isEqual(Ct.NAN)){if(e!==Qt.EQUAL)throw new T(E.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new Yt(t)}return new Ht(t,e,n)},t}(),Qt=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;default:return v("Unknown relation: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t}(),Ht=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return s.__extends(e,t),e.prototype.matches=function(t){if(this.field.isKeyField()){g(this.value instanceof Nt,"Comparing on key, but filter value not a RefValue"),g(this.op!==Qt.ARRAY_CONTAINS,"array-contains queries don't make sense on document keys.");var e=this.value,n=ht.comparator(t.key,e.key);return this.matchesComparison(n)}var r=t.field(this.field);return void 0!==r&&this.matchesValue(r)},e.prototype.matchesValue=function(t){var e=this;return this.op===Qt.ARRAY_CONTAINS?t instanceof Mt&&void 0!==t.internalValue.find(function(t){return t.isEqual(e.value)}):this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case Qt.LESS_THAN:return t<0;case Qt.LESS_THAN_OR_EQUAL:return t<=0;case Qt.EQUAL:return 0===t;case Qt.GREATER_THAN:return t>0;case Qt.GREATER_THAN_OR_EQUAL:return t>=0;default:return v("Unknown relation op"+this.op)}},e.prototype.isInequality=function(){return this.op!==Qt.EQUAL&&this.op!==Qt.ARRAY_CONTAINS},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&(this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value))},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(Kt),Gt=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return s.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},e.prototype.toString=function(){return this.field.canonicalString()+" IS null"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(Kt),Yt=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return s.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field),n=e&&e.value();return"number"===typeof n&&isNaN(n)},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(Kt),Xt=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),$t=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++){t+=n[e].toString()}return t},t.prototype.sortsBeforeDocument=function(t,e){g(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.isKeyField())g(o instanceof Nt,"Bound has a non-key value where the key path is being used."),n=ht.comparator(o.key,e.key);else{var a=e.field(i.field);g(void 0!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===Xt.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++){var n=this.position[e],r=t.position[e];return n.isEqual(r)}return!0},t}(),Jt=function(){function t(t,e){this.field=t,void 0===e&&(e=Xt.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?dt.compareByKey(t,e):dt.compareByField(this.field,t,e);switch(this.dir){case Xt.ASCENDING:return n;case Xt.DESCENDING:return-1*n;default:return v("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Zt=new Jt(ft.keyField(),Xt.ASCENDING),te=new Jt(ft.keyField(),Xt.DESCENDING),ee=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new it(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new it(0,0)),t}();!function(t){t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution"}(Wt||(Wt={}));var ne,re=function(){function t(t,e,n,r,i,o){void 0===i&&(i=ee.MIN),void 0===o&&(o=w()),this.query=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.resumeToken=o}return t.prototype.copy=function(e){return new t(this.query,this.targetId,this.purpose,void 0===e.sequenceNumber?this.sequenceNumber:e.sequenceNumber,void 0===e.snapshotVersion?this.snapshotVersion:e.snapshotVersion,void 0===e.resumeToken?this.resumeToken:e.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),ie=function(){function t(t){this.comparator=t,this.data=new vt(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();){if(!t(n.getNext().key))return}},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new oe(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new oe(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),oe=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),ae=function(){function t(t){this.fields=t}return t.fromSet=function(e){return new t(e)},t.fromArray=function(e){var n=new ie(ft.comparator);return e.forEach(function(t){return n=n.add(t)}),new t(n)},t.prototype.covers=function(t){var e=!1;return this.fields.forEach(function(n){n.isPrefixOf(t)&&(e=!0)}),e},t.prototype.applyTo=function(t){var e=Lt.EMPTY;return this.fields.forEach(function(n){if(n.isEmpty())return t;var r=t.field(n);void 0!==r&&(e=e.set(n,r))}),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),se=function(){function t(t,e){this.field=t,this.transform=e}return Object.defineProperty(t.prototype,"isIdempotent",{get:function(){return this.transform.isIdempotent},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),ue=function(){return function(t,e){this.version=t,this.transformResults=e}}();!function(t){t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete"}(ne||(ne={}));var ce=function(){function t(t,e){this.updateTime=t,this.exists=e,g(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof dt&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof dt:(g(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return e=this.updateTime,n=t.updateTime,(null!==e&&void 0!==e?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),le=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&g(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof dt?t.version:ee.MIN},t}(),fe=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.precondition=r,i.type=ne.Set,i}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),g(null==e.transformResults,"Transform results received by SetMutation.");var n=e.version;return new dt(this.key,n,this.value,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=le.getPostMutationVersion(t);return new dt(this.key,r,this.value,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(le),he=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.type=ne.Patch,o}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),g(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new mt(this.key,e.version);var n=this.patchDocument(t);return new dt(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=le.getPostMutationVersion(t),i=this.patchDocument(t);return new dt(this.key,r,i,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){var e;return e=t instanceof dt?t.data:Lt.EMPTY,this.patchObject(e)},e.prototype.patchObject=function(t){var e=this;return this.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t=void 0!==r?t.set(n,r):t.delete(n)}}),t},e}(le),pe=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=ne.Transform,r.precondition=ce.exists(!0),r}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),g(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new mt(this.key,e.version);var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),i=e.version,o=this.transformObject(n.data,r);return new dt(this.key,i,o,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.localTransformResults(n,e),o=this.transformObject(r.data,i);return new dt(this.key,r.version,o,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){for(var t=0,e=this.fieldTransforms;t<e.length;t++){if(!e[t].isIdempotent)return!1}return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){var t=new ie(ft.comparator);return this.fieldTransforms.forEach(function(e){return t=t.add(e.field)}),new ae(t)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&Y(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){g(t instanceof dt,"Unknown MaybeDocument type "+t);var e=t;return g(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.serverTransformResults=function(t,e){var n=[];g(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;t instanceof dt&&(a=t.field(i.field)||null),n.push(o.applyToRemoteDocument(a,e[r]))}return n},e.prototype.localTransformResults=function(t,e){for(var n=[],r=0,i=this.fieldTransforms;r<i.length;r++){var o=i[r],a=o.transform,s=null;e instanceof dt&&(s=e.field(o.field)||null),n.push(a.applyToLocalView(s,t))}return n},e.prototype.transformObject=function(t,e){g(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n].field;t=t.set(r,e[n])}return t},e}(le),de=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=ne.Delete,r}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),g(null==e.transformResults,"Transform results received by DeleteMutation."),new yt(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&g(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new yt(this.key,ee.forDeletedDoc())):t},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0}),e}(le),ye=function(){function t(){this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return new Pt(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),me=function(){function t(t){this.elements=t,this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=be(t),n=function(t){e.find(function(e){return e.isEqual(t)})||e.push(t)},r=0,i=this.elements;r<i.length;r++){n(i[r])}return new Mt(e)},t.prototype.isEqual=function(e){return e instanceof t&&Y(e.elements,this.elements)},t}(),ve=function(){function t(t){this.elements=t,this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=be(t),n=function(t){e=e.filter(function(e){return!e.isEqual(t)})},r=0,i=this.elements;r<i.length;r++){n(i[r])}return new Mt(e)},t.prototype.isEqual=function(e){return e instanceof t&&Y(e.elements,this.elements)},t}(),ge=function(){function t(t){this.operand=t,this.isIdempotent=!1}return t.prototype.applyToLocalView=function(t,e){if(t instanceof Ot&&this.operand instanceof Ot){var n=t.internalValue+this.operand.internalValue;return new Ot(n)}if(t instanceof It){n=t.internalValue+this.operand.internalValue;return new Ct(n)}return this.operand},t.prototype.applyToRemoteDocument=function(t,e){return g(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.isEqual=function(e){return e instanceof t&&this.operand.isEqual(e.operand)},t}();function be(t){return t instanceof Mt?t.internalValue.slice():[]}var we,Ee=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}();function Te(t){switch(t){case E.OK:return v("Treated status OK as error");case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0;default:return v("Unknown status code: "+t)}}function Se(t){if(void 0===t)return y("GRPC error has no .code"),E.UNKNOWN;switch(t){case we.OK:return E.OK;case we.CANCELLED:return E.CANCELLED;case we.UNKNOWN:return E.UNKNOWN;case we.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case we.INTERNAL:return E.INTERNAL;case we.UNAVAILABLE:return E.UNAVAILABLE;case we.UNAUTHENTICATED:return E.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case we.NOT_FOUND:return E.NOT_FOUND;case we.ALREADY_EXISTS:return E.ALREADY_EXISTS;case we.PERMISSION_DENIED:return E.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case we.ABORTED:return E.ABORTED;case we.OUT_OF_RANGE:return E.OUT_OF_RANGE;case we.UNIMPLEMENTED:return E.UNIMPLEMENTED;case we.DATA_LOSS:return E.DATA_LOSS;default:return v("Unknown status code: "+t)}}function _e(t){if(void 0===t)return we.OK;switch(t){case E.OK:return we.OK;case E.CANCELLED:return we.CANCELLED;case E.UNKNOWN:return we.UNKNOWN;case E.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case E.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case E.INTERNAL:return we.INTERNAL;case E.UNAVAILABLE:return we.UNAVAILABLE;case E.UNAUTHENTICATED:return we.UNAUTHENTICATED;case E.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case E.NOT_FOUND:return we.NOT_FOUND;case E.ALREADY_EXISTS:return we.ALREADY_EXISTS;case E.PERMISSION_DENIED:return we.PERMISSION_DENIED;case E.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case E.ABORTED:return we.ABORTED;case E.OUT_OF_RANGE:return we.OUT_OF_RANGE;case E.UNIMPLEMENTED:return we.UNIMPLEMENTED;case E.DATA_LOSS:return we.DATA_LOSS;default:return v("Unknown status code: "+t)}}!function(t){t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS"}(we||(we={}));var Ie=new vt(ht.comparator);function Ae(){return Ie}function Oe(){return Ae()}var Ce=new vt(ht.comparator);function xe(){return Ce}var ke=new vt(ht.comparator);function Pe(){return ke}var De=new ie(ht.comparator);function Ne(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=De,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Re=new ie(G);function Le(){return Re}var Me,je,Ue=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ht.comparator(e.key,n.key)}:function(t,e){return ht.comparator(t.key,e.key)},this.keyedMap=xe(),this.sortedSet=new vt(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}();!function(t){t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata"}(Me||(Me={})),function(t){t[t.Local=0]="Local",t[t.Synced=1]="Synced"}(je||(je={}));var Fe,Ve=function(){function t(){this.changeMap=new vt(ht.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==Me.Added&&n.type===Me.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===Me.Metadata&&n.type!==Me.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===Me.Modified&&n.type===Me.Modified?this.changeMap=this.changeMap.insert(e,{type:Me.Modified,doc:t.doc}):t.type===Me.Modified&&n.type===Me.Added?this.changeMap=this.changeMap.insert(e,{type:Me.Added,doc:t.doc}):t.type===Me.Removed&&n.type===Me.Added?this.changeMap=this.changeMap.remove(e):t.type===Me.Removed&&n.type===Me.Modified?this.changeMap=this.changeMap.insert(e,{type:Me.Removed,doc:n.doc}):t.type===Me.Added&&n.type===Me.Removed?this.changeMap=this.changeMap.insert(e,{type:Me.Modified,doc:t.doc}):v("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),qe=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:Me.Added,doc:t})}),new t(e,n,Ue.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(this.fromCache!==t.fromCache||this.syncStateChanged!==t.syncStateChanged||!this.mutatedKeys.isEqual(t.mutatedKeys)||!this.query.isEqual(t.query)||!this.docs.isEqual(t.docs)||!this.oldDocs.isEqual(t.oldDocs))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Be=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r,i=((r={})[e]=We.createSynthesizedTargetChangeForCurrentChange(e,n),r);return new t(ee.MIN,i,Le(),Ae(),Ne())},t}(),We=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(w(),n,Ne(),Ne(),Ne())},t}(),ze=function(){return function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r}}(),Ke=function(){return function(t,e){this.targetId=t,this.existenceFilter=e}}();!function(t){t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset"}(Fe||(Fe={}));var Qe=function(){return function(t,e,n,r){void 0===n&&(n=w()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}(),He=function(){function t(){this.pendingResponses=0,this.documentChanges=Xe(),this._resumeToken=w(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=Ne(),e=Ne(),n=Ne();return this.documentChanges.forEach(function(r,i){switch(i){case Me.Added:t=t.add(r);break;case Me.Modified:e=e.add(r);break;case Me.Removed:n=n.add(r);break;default:v("Encountered invalid change type: "+i)}}),new We(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Xe()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),Ge=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=Ae(),this.pendingDocumentTargetMapping=Ye(),this.pendingTargetResets=new ie(G)}return t.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var r=n[e];t.newDoc instanceof dt?this.addDocumentToTarget(r,t.newDoc):t.newDoc instanceof yt&&this.removeDocumentFromTarget(r,t.key,t.newDoc)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){r=o[i];this.removeDocumentFromTarget(r,t.key,t.newDoc)}},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ensureTargetState(n);switch(t.state){case Fe.NoChange:e.isActiveTarget(n)&&r.updateResumeToken(t.resumeToken);break;case Fe.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(t.resumeToken);break;case Fe.Removed:r.recordTargetResponse(),r.isPending||e.removeTarget(n),g(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case Fe.Current:e.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(t.resumeToken));break;case Fe.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),r.updateResumeToken(t.resumeToken));break;default:v("Unknown target watch change state: "+t.state)}})},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):A(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.queryDataForActiveTarget(e);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new ht(i.path);this.removeDocumentFromTarget(e,o,new yt(o,ee.forDeletedDoc()))}else g(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},t.prototype.createRemoteEvent=function(t){var e=this,n={};A(this.targetStates,function(r,i){var o=e.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var a=new ht(o.query.path);null!==e.pendingDocumentUpdates.get(a)||e.targetContainsDocument(r,a)||e.removeDocumentFromTarget(r,a,new yt(a,t))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}});var r=Ne();this.pendingDocumentTargetMapping.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.queryDataForActiveTarget(t);return!n||n.purpose===Wt.LimboResolution||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Be(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Ae(),this.pendingDocumentTargetMapping=Ye(),this.pendingTargetResets=new ie(G),i},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?Me.Modified:Me.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,Me.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new He),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new ie(G),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){return null!==this.queryDataForActiveTarget(t)},t.prototype.queryDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;g(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new He,this.metadataProvider.getRemoteKeysForTarget(t).forEach(function(n){e.removeDocumentFromTarget(t,n,null)})},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}();function Ye(){return new vt(ht.comparator)}function Xe(){return new vt(ht.comparator)}var $e=function(){var t={};return t[Xt.ASCENDING.name]="ASCENDING",t[Xt.DESCENDING.name]="DESCENDING",t}(),Je=function(){var t={};return t[Qt.LESS_THAN.name]="LESS_THAN",t[Qt.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",t[Qt.GREATER_THAN.name]="GREATER_THAN",t[Qt.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",t[Qt.EQUAL.name]="EQUAL",t[Qt.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",t}(),Ze=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tn(t,e){g(!qt(t),e+" is missing")}function en(t){return"number"===typeof t?t:"string"===typeof t?Number(t):v("can't parse "+t)}var nn=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?E.UNKNOWN:Se(t.code);return new T(e,t.message||"")},t.prototype.toInt32Value=function(t){return qt(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return qt(e="object"===typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return{seconds:t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"===typeof t)return this.fromIso8601String(t);g(!!t,"Cannot deserialize null or undefined timestamp.");var e=en(t.seconds||"0"),n=t.nanos||0;return new it(e,n)},t.prototype.fromIso8601String=function(t){var e=0,n=Ze.exec(t);if(g(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),o=Math.floor(i.getTime()/1e3);return new it(o,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"===typeof t?(g(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),et.fromBase64String(t)):(g(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),et.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return g(!!t,"Trying to deserialize version that isn't set"),ee.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=ct.fromString(t);return g(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return g(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),g(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new ht(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?ct.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new ct(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new ct(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return g(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof St)return{nullValue:"NULL_VALUE"};if(t instanceof _t)return{booleanValue:t.value()};if(t instanceof Ot)return{integerValue:""+t.value()};if(t instanceof Ct){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof xt?{stringValue:t.value()}:t instanceof Lt?{mapValue:this.toMapValue(t)}:t instanceof Mt?{arrayValue:this.toArrayValue(t)}:t instanceof kt?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof Rt?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Dt?{bytesValue:this.toBytes(t.value())}:t instanceof Nt?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:v("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this,n=t.value_type;if(rn(t,n,"nullValue"))return St.INSTANCE;if(rn(t,n,"booleanValue"))return _t.of(t.booleanValue);if(rn(t,n,"integerValue"))return new Ot(en(t.integerValue));if(rn(t,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return Ct.NAN;if("Infinity"===t.doubleValue)return Ct.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return Ct.NEGATIVE_INFINITY}return new Ct(t.doubleValue)}if(rn(t,n,"stringValue"))return new xt(t.stringValue);if(rn(t,n,"mapValue"))return this.fromFields(t.mapValue.fields||{});if(rn(t,n,"arrayValue")){tn(t.arrayValue,"arrayValue");var r=t.arrayValue.values||[];return new Mt(r.map(function(t){return e.fromValue(t)}))}if(rn(t,n,"timestampValue"))return tn(t.timestampValue,"timestampValue"),new kt(this.fromTimestamp(t.timestampValue));if(rn(t,n,"geoPointValue")){tn(t.geoPointValue,"geoPointValue");var i=t.geoPointValue.latitude||0,o=t.geoPointValue.longitude||0;return new Rt(new rt(i,o))}if(rn(t,n,"bytesValue")){tn(t.bytesValue,"bytesValue");var a=this.fromBlob(t.bytesValue);return new Dt(a)}if(rn(t,n,"referenceValue")){tn(t.referenceValue,"referenceValue");var s=this.fromResourceName(t.referenceValue),u=new st(s.get(1),s.get(3)),c=new ht(this.extractLocalPathFromResourceName(s));return new Nt(u,c)}return v("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return g(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t,e){return new dt(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasCommittedMutations:!!e})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=t,r=Lt.EMPTY;return O(n,function(t,n){r=r.set(new ft([t]),e.fromValue(n))}),r},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){g(!!t.found,"Tried to deserialize a found document from a missing document."),tn(t.found.name,"doc.found.name"),tn(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new dt(e,n,r,{},t.found)},t.prototype.fromMissing=function(t){g(!!t.missing,"Tried to deserialize a missing document from a found document."),g(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new yt(e,n)},t.prototype.fromMaybeDocument=function(t){var e=t.result;return rn(t,e,"found")?this.fromFound(t):rn(t,e,"missing")?this.fromMissing(t):v("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case Fe.Added:return"ADD";case Fe.Current:return"CURRENT";case Fe.NoChange:return"NO_CHANGE";case Fe.Removed:return"REMOVE";case Fe.Reset:return"RESET";default:return v("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof Ke)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof ze){if(t.newDoc instanceof dt){var e=t.newDoc;return{documentChange:{document:{name:this.toName(e.key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}}}if(t.newDoc instanceof yt){e=t.newDoc;return{documentDelete:{document:this.toName(e.key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}}}if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Qe){var n=void 0;return t.cause&&(n={code:_e(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return v("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=t.response_type;if(rn(t,n,"targetChange")){tn(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=t.targetChange.resumeToken||this.emptyByteString(),a=t.targetChange.cause,s=a&&this.fromRpcStatus(a);e=new Qe(r,i,o,s||null)}else if(rn(t,n,"documentChange")){tn(t.documentChange,"documentChange"),tn(t.documentChange.document,"documentChange.name"),tn(t.documentChange.document.name,"documentChange.document.name"),tn(t.documentChange.document.updateTime,"documentChange.document.updateTime");var u=t.documentChange,c=this.fromName(u.document.name),l=this.fromVersion(u.document.updateTime),f=this.fromFields(u.document.fields||{}),h=new dt(c,l,f,{},u.document),p=u.targetIds||[],d=u.removedTargetIds||[];e=new ze(p,d,h.key,h)}else if(rn(t,n,"documentDelete")){tn(t.documentDelete,"documentDelete"),tn(t.documentDelete.document,"documentDelete.document");var y=t.documentDelete;c=this.fromName(y.document),l=y.readTime?this.fromVersion(y.readTime):ee.forDeletedDoc(),h=new yt(c,l),d=y.removedTargetIds||[];e=new ze([],d,h.key,h)}else if(rn(t,n,"documentRemove")){tn(t.documentRemove,"documentRemove"),tn(t.documentRemove.document,"documentRemove");var m=t.documentRemove;c=this.fromName(m.document),d=m.removedTargetIds||[];e=new ze([],d,c,null)}else{if(!rn(t,n,"filter"))return v("Unknown change type "+JSON.stringify(t));tn(t.filter,"filter"),tn(t.filter.targetId,"filter.targetId");var g=t.filter,b=g.count||0,w=new Ee(b),E=g.targetId;e=new Ke(E,w)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?Fe.NoChange:"ADD"===t?Fe.Added:"REMOVE"===t?Fe.Removed:"CURRENT"===t?Fe.Current:"RESET"===t?Fe.Reset:v("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!rn(t,t.response_type,"targetChange"))return ee.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?ee.MIN:e.readTime?this.fromVersion(e.readTime):ee.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof fe)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof de)e={delete:this.toName(t.key)};else if(t instanceof he)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof pe))return v("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):ce.NONE;if(t.update){tn(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new he(r,i,o,n)}return new fe(r,i,n)}if(t.delete){r=this.fromName(t.delete);return new de(r,n)}if(t.transform){r=this.fromName(t.transform.document);var a=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return g(!0===n.exists,'Transforms only support precondition "exists == true"'),new pe(r,a)}return v("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return g(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:v("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?ce.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?ce.exists(t.exists):ce.NONE},t.prototype.fromWriteResult=function(t,e){var n=this,r=t.updateTime?this.fromVersion(t.updateTime):this.fromVersion(e),i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults.map(function(t){return n.fromValue(t)})),new ue(r,i)},t.prototype.fromWriteResults=function(t,e){var n=this;return t&&t.length>0?(g(void 0!==e,"Received a write result without a commit time"),t.map(function(t){return n.fromWriteResult(t,e)})):[]},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof ye)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof me)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof ve)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof ge)return{fieldPath:t.field.canonicalString(),increment:this.toValue(n.operand)};throw v("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=t.transform_type,r=null;if(rn(t,n,"setToServerValue"))g("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),r=ye.instance;else if(rn(t,n,"appendMissingElements")){var i=t.appendMissingElements.values||[];r=new me(i.map(function(t){return e.fromValue(t)}))}else if(rn(t,n,"removeAllFromArray")){i=t.removeAllFromArray.values||[];r=new ve(i.map(function(t){return e.fromValue(t)}))}else if(rn(t,n,"increment")){var o=this.fromValue(t.increment);g(o instanceof It,"NUMERIC_ADD transform requires a NumberValue"),r=new ge(o)}else v("Unknown transform proto: "+JSON.stringify(t));var a=ft.fromServerFormat(t.fieldPath);return new se(a,r)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;g(1===e,"DocumentsTarget contained other than 1 document: "+e);var n=t.documents[0];return zt.atPath(this.fromQueryPath(n))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(g(n.length%2===0,"Collection Group queries should be within a document path or root."),e.parent=this.toQueryPath(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(g(n.length%2!==0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.toInt32Value(t.limit);return void 0!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){g(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var s=[];n.orderBy&&(s=this.fromOrder(n.orderBy));var u=null;n.limit&&(u=this.fromInt32Value(n.limit));var c=null;n.startAt&&(c=this.fromCursor(n.startAt));var l=null;return n.endAt&&(l=this.fromCursor(n.endAt)),new zt(e,i,s,a,u,c,l)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case Wt.Listen:return null;case Wt.ExistenceFilterMismatch:return"existence-filter-mismatch";case Wt.LimboResolution:return"limbo-document";default:return v("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof Ht?e.toRelationFilter(t):e.toUnaryFilter(t)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromRelationFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):v("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new $t(r,n)},t.prototype.toDirection=function(t){return $e[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return Xt.ASCENDING;case"DESCENDING":return Xt.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return Je[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return Qt.EQUAL;case"GREATER_THAN":return Qt.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Qt.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Qt.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Qt.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Qt.ARRAY_CONTAINS;case"OPERATOR_UNSPECIFIED":return v("Unspecified relation");default:return v("Unknown relation")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return ft.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new Jt(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(t){return t instanceof Ht?{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}:v("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromRelationFilter=function(t){return new Ht(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryFilter=function(t){return t instanceof Yt?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}}:t instanceof Gt?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}:v("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return new Yt(e);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return new Gt(n);case"OPERATOR_UNSPECIFIED":return v("Unspecified filter");default:return v("Unknown filter")}},t.prototype.toDocumentMask=function(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return ft.fromServerFormat(t)});return ae.fromArray(e)},t}();function rn(t,e,n){return e===n||!e&&n in t}var on=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){g(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){g(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){g(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){g(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){g(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){g(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),an="Connection",sn={BatchGetDocuments:"batchGet",Commit:"commit"},un="gl-js/ fire/"+l,cn=function(){function t(t){this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.baseUrl=e+"://"+t.host}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=un},t.prototype.invokeRPC=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise(function(o,a){var s=new u.XhrIo;s.listenOnce(u.EventType.COMPLETE,function(){try{switch(s.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var e=s.getResponseJson();d(an,"XHR received:",JSON.stringify(e)),o(e);break;case u.ErrorCode.TIMEOUT:d(an,'RPC "'+t+'" timed out'),a(new T(E.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var n=s.getStatus();d(an,'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0?a(new T(function(t){switch(t){case 200:return E.OK;case 400:return E.INVALID_ARGUMENT;case 401:return E.UNAUTHENTICATED;case 403:return E.PERMISSION_DENIED;case 404:return E.NOT_FOUND;case 409:return E.ABORTED;case 416:return E.OUT_OF_RANGE;case 429:return E.RESOURCE_EXHAUSTED;case 499:return E.CANCELLED;case 500:return E.UNKNOWN;case 501:return E.UNIMPLEMENTED;case 503:return E.UNAVAILABLE;case 504:return E.DEADLINE_EXCEEDED;default:return t>=200&&t<300?E.OK:t>=400&&t<500?E.FAILED_PRECONDITION:t>=500&&t<600?E.INTERNAL:E.UNKNOWN}}(n),"Server responded with status "+s.getStatusText())):(d(an,'RPC "'+t+'" failed'),a(new T(E.UNAVAILABLE,"Connection failed.")));break;default:v('RPC "'+t+'" failed with unanticipated webchannel error '+s.getLastErrorCode()+": "+s.getLastError()+", giving up.")}}finally{d(an,'RPC "'+t+'" completed.')}});var c=JSON.stringify(e);d(an,"XHR sending: ",i+" "+c);var l={"Content-Type":"text/plain"};r.modifyHeadersForRequest(l,n),s.send(i,"POST",c,l,15)})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=u.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5}};this.modifyHeadersForRequest(i.initMessageHeaders,e),c.isReactNative()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");d(an,"Creating WebChannel: "+o+" "+i);var a=r.createWebChannel(o,i),s=!1,l=!1,f=new on({sendFn:function(t){l?d(an,"Not sending because WebChannel is closed:",t):(s||(d(an,"Opening WebChannel transport."),a.open(),s=!0),d(an,"WebChannel sending:",t),a.send(t))},closeFn:function(){return a.close()}}),h=function(t,e){a.listen(t,function(t){try{e(t)}catch(n){setTimeout(function(){throw n},0)}})};return h(u.WebChannel.EventType.OPEN,function(){l||d(an,"WebChannel transport opened.")}),h(u.WebChannel.EventType.CLOSE,function(){l||(l=!0,d(an,"WebChannel transport closed"),f.callOnClose())}),h(u.WebChannel.EventType.ERROR,function(t){l||(l=!0,d(an,"WebChannel transport errored:",t),f.callOnClose(new T(E.UNAVAILABLE,"The operation could not be completed")))}),h(u.WebChannel.EventType.MESSAGE,function(t){if(!l){var e=t.data[0];g(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){d(an,"WebChannel received error:",n);var r=n.status,i=function(t){var e=we[t];if(void 0!==e)return Se(e)}(r),o=n.message;void 0===i&&(i=E.INTERNAL,o="Unknown error status: "+r+" with message "+n.message),l=!0,f.callOnClose(new T(i,o)),a.close()}else d(an,"WebChannel received:",e),f.callOnMessage(e)}}),setTimeout(function(){f.callOnOpen()},0),f},t.prototype.makeUrl=function(t){var e=sn[t];g(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},t}(),ln=function(){function t(){this.emptyByteString="",this.base64Available="undefined"!==typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!==typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!==typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.loadConnection=function(t){return Promise.resolve(new cn(t))},t.prototype.newSerializer=function(t){return new nn(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}();b.setPlatform(new ln);var fn,hn=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}return t.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},t.INVALID=-1,t}(),pn=function(){return function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}}();!function(t){t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout",t.ClientMetadataRefresh="client_metadata_refresh",t.LruGarbageCollection="lru_garbage_collection"}(fn||(fn={}));var dn=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(E.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),yn=function(){function t(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueue=function(t){var e=this;this.verifyNotFailed();var n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw y("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),g(e>=0,"Attempted to schedule an operation with a negative delay of "+e),g(!this.containsDelayedOperation(t),"Attempted to schedule multiple operations with timer id "+t+".");var i=dn.createAndSchedule(this,t,e,n,function(t){return r.removeDelayedOperation(t)});return this.delayedOperations.push(i),i},t.prototype.verifyNotFailed=function(){this.failure&&v("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){g(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){for(var e=0,n=this.delayedOperations;e<n.length;e++){if(n[e].timerId===t)return!0}return!1},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){g(t===fn.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),t!==fn.All&&i.timerId===t)break}return e.drain()})},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);g(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),mn="\x01",vn="\x01",gn="\x10",bn="\x11";function wn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Tn(e)),e=En(t.get(n),e);return Tn(e)}function En(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+=mn+gn;break;case mn:n+=mn+bn;break;default:n+=o}}return n}function Tn(t){return t+mn+vn}function Sn(t){var e=t.length;if(g(e>=2,"Invalid path "+t),2===e)return g(t.charAt(0)===mn&&t.charAt(1)===vn,"Non-empty path "+t+" had length 2"),ct.EMPTY_PATH;for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf(mn,o);switch((a<0||a>n)&&v('Invalid encoded resource path: "'+t+'"'),t.charAt(a+1)){case vn:var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case gn:i+=t.substring(o,a),i+="\0";break;case bn:i+=t.substring(o,a+1);break;default:v('Invalid encoded resource path: "'+t+'"')}o=a+2}return new ct(r)}var _n=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r,g(r.length>0,"Cannot create an empty mutation batch")}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&g(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;g(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(t)){var a=r[i];e=o.applyToRemoteDocument(e,a)}}return e},t.prototype.applyToLocalView=function(t,e){e&&g(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,r=this.baseMutations;n<r.length;n++){(s=r[n]).key.isEqual(t)&&(e=s.applyToLocalView(e,e,this.localWriteTime))}for(var i=e,o=0,a=this.mutations;o<a.length;o++){var s;(s=a[o]).key.isEqual(t)&&(e=s.applyToLocalView(e,i,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Ne())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Y(this.mutations,t.mutations)&&Y(this.baseMutations,t.baseMutations)},t}(),In=function(){function t(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return t.from=function(e,n,r,i){g(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=Pe(),a=e.mutations,s=0;s<a.length;s++)o=o.insert(a[s].key,r[s].version);return new t(e,n,r,i,o)},t}(),An=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&v("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++){r(o[i])}return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),On=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return t.forUser=function(e,n,r,i){return g(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pn(t).iterate({index:lr.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.acknowledgeBatch=function(t,e,n){return this.getMutationQueueMetadata(t).next(function(e){return e.lastStreamToken=kn(n),Nn(t).put(e)})},t.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next(function(t){return t.lastStreamToken})},t.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next(function(n){return n.lastStreamToken=kn(e),Nn(t).put(n)})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Dn(t),a=Pn(t);return a.add({}).next(function(s){g("number"===typeof s,"Auto-generated key is not a number");var u=new _n(s,e,n,r),c=i.serializer.toDbMutationBatch(i.userId,u);i.documentKeysByBatchId[s]=u.keys();for(var l=[],f=0,h=r;f<h.length;f++){var p=h[f],d=fr.key(i.userId,p.key.path,s);l.push(a.put(c)),l.push(o.put(d,fr.PLACEHOLDER)),l.push(i.indexManager.addToCollectionParentIndex(t,p.key.path.popLast()))}return An.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Pn(t).get(e).next(function(t){return t?(g(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.fromDbMutationBatch(t)):null})},t.prototype.lookupMutationKeys=function(t,e){var n=this;return this.documentKeysByBatchId[e]?An.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.documentKeysByBatchId[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this;return this.getMutationQueueMetadata(t).next(function(r){var i=e+1,o=IDBKeyRange.lowerBound([n.userId,i]),a=null;return Pn(t).iterate({index:lr.userMutationsIndex,range:o},function(t,e,r){e.userId===n.userId&&(g(e.batchId>=i,"Should have found mutation after "+i),a=n.serializer.fromDbMutationBatch(e)),r.done()}).next(function(){return a})})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Pn(t).loadAll(lr.userMutationsIndex,n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=fr.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Dn(t).iterate({range:i},function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Sn(u);if(s===n.userId&&e.path.isEqual(l))return Pn(t).get(c).next(function(t){if(!t)throw v("Dangling document-mutation reference found: "+r+" which points to "+c);g(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+c),o.push(n.serializer.fromDbMutationBatch(t))});a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ie(G),i=[];return e.forEach(function(e){var o=fr.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Dn(t).iterate({range:a},function(t,i,o){var a=t[0],s=t[1],u=t[2],c=Sn(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()});i.push(s)}),An.waitFor(i).next(function(){return n.lookupMutationBatches(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;g(!e.isDocumentQuery(),"Document queries shouldn't go down this path"),g(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=e.path,i=r.length+1,o=fr.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new ie(G);return Dn(t).iterate({range:a},function(t,e,o){var a=t[0],u=t[1],c=t[2],l=Sn(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()}).next(function(){return n.lookupMutationBatches(t,s)})},t.prototype.lookupMutationBatches=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Pn(t).get(e).next(function(t){if(null===t)throw v("Dangling document-mutation reference found, which points to "+e);g(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.fromDbMutationBatch(t))}))}),An.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return xn(t.simpleDbTransaction,this.userId,e).next(function(r){return n.removeCachedMutationKeys(e.batchId),An.forEach(r,function(e){return n.referenceDelegate.removeMutationReference(t,e)})})},t.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return An.resolve();var r=IDBKeyRange.lowerBound(fr.prefixForUser(e.userId)),i=[];return Dn(t).iterate({range:r},function(t,n,r){if(t[0]===e.userId){var o=Sn(t[1]);i.push(o)}else r.done()}).next(function(){g(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(t){return t.canonicalString()}))})})},t.prototype.containsKey=function(t,e){return Cn(t,this.userId,e)},t.prototype.getMutationQueueMetadata=function(t){var e=this;return Nn(t).get(this.userId).next(function(t){return t||new cr(e.userId,-1,"")})},t}();function Cn(t,e,n){var r=fr.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Dn(t).iterate({range:o,keysOnly:!0},function(t,n,r){var o=t[0],s=t[1];t[2];o===e&&s===i&&(a=!0),r.done()}).next(function(){return a})}function xn(t,e,n){var r=t.store(lr.store),i=t.store(fr.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.iterate({range:a},function(t,e,n){return s++,n.delete()});o.push(u.next(function(){g(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],p=fr.key(e,h.key.path,n.batchId);o.push(i.delete(p)),c.push(h.key)}return An.waitFor(o).next(function(){return c})}function kn(t){return t instanceof Uint8Array?(g("YES"===Object({NODE_ENV:"production",PUBLIC_URL:""}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),t.toString()):t}function Pn(t){return Fr.getStore(t,lr.store)}function Dn(t){return Fr.getStore(t,fr.store)}function Nn(t){return Fr.getStore(t,cr.store)}var Rn,Ln=1;!function(t){t[t.QueryCache=0]="QueryCache",t[t.SyncEngine=1]="SyncEngine"}(Rn||(Rn={}));var Mn=function(){function t(t,e){this.generatorId=t,g((t&Ln)===t,"Generator ID "+t+" contains more than "+Ln+" reserved bits"),this.seek(void 0!==e?e:this.generatorId)}return t.prototype.next=function(){var t=this.nextId;return this.nextId+=1<<Ln,t},t.prototype.after=function(t){return this.seek(t+(1<<Ln)),this.next()},t.prototype.seek=function(t){g((t&Ln)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},t.forQueryCache=function(){return new t(Rn.QueryCache,2)},t.forSyncEngine=function(){return new t(Rn.SyncEngine)},t}(),jn=function(){function t(t){this.db=t}return t.openOrCreate=function(e,n,r){return g(t.isAvailable(),"IndexedDB not supported in current environment."),d("SimpleDb","Opening database:",e),new An(function(i,o){var a=window.indexedDB.open(e,n);a.onsuccess=function(e){var n=e.target.result;i(new t(n))},a.onblocked=function(){o(new T(E.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(t){var e=t.target.error;"VersionError"===e.name?o(new T(E.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o(e)},a.onupgradeneeded=function(t){d("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result,i=new Fn(a.transaction);r.createOrUpgrade(n,i,t.oldVersion,or).next(function(){d("SimpleDb","Database upgrade to version "+or+" complete")})}}).toPromise()},t.delete=function(t){return d("SimpleDb","Removing database:",t),qn(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"===typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===Object({NODE_ENV:"production",PUBLIC_URL:""}).USE_MOCK_PERSISTENCE;var t=window.navigator.userAgent;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0)},t.getStore=function(t,e){return t.store(e)},t.prototype.runTransaction=function(t,e,n){var r=Fn.open(this.db,t,e),i=n(r).catch(function(t){return r.abort(t),An.reject(t)}).toPromise();return i.catch(function(){}),r.completionPromise.then(function(){return i})},t.prototype.close=function(){this.db.close()},t}(),Un=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return qn(this.dbCursor.delete())},t}(),Fn=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new pn,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){e.completionDeferred.reject(t.target.error)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(d("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return g(!!e,"Object store not part of transaction: "+t),new Vn(e)},t}(),Vn=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(d("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(d("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),qn(n)},t.prototype.add=function(t){return d("SimpleDb","ADD",this.store.name,t,t),qn(this.store.add(t))},t.prototype.get=function(t){var e=this;return qn(this.store.get(t)).next(function(n){return void 0===n&&(n=null),d("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return d("SimpleDb","DELETE",this.store.name,t),qn(this.store.delete(t))},t.prototype.count=function(){return d("SimpleDb","COUNT",this.store.name),qn(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){d("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateSerial=function(t){var e=this.cursor({});return new An(function(n,r){e.onerror=function(t){r(t.target.error)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.iterateCursor=function(t,e){var n=[];return new An(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Un(i),a=e(i.primaryKey,i.value,o);if(a instanceof An){var s=a.catch(function(t){return o.done(),An.reject(t)});n.push(s)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}}).next(function(){return An.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"===typeof t?n=t:(g(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function qn(t){return new An(function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){n(t.target.error)}})}var Bn=function(){function t(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=Mn.forQueryCache()}return t.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next(function(n){return n.highestTargetId=e.targetIdGenerator.after(n.highestTargetId),e.saveMetadata(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next(function(t){return ee.fromTimestamp(new it(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return Kn(t.simpleDbTransaction)},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.retrieveMetadata(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.saveMetadata(t,i)})},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.retrieveMetadata(t).next(function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(e,r),n.saveMetadata(t,r)})})},t.prototype.updateQueryData=function(t,e){return this.saveQueryData(t,e)},t.prototype.removeQueryData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Wn(t).delete(e.targetId)}).next(function(){return n.retrieveMetadata(t)}).next(function(e){return g(e.targetCount>0,"Removing from an empty query cache"),e.targetCount-=1,n.saveMetadata(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Wn(t).iterate(function(a,s){var u=r.serializer.fromDbTarget(s);u.sequenceNumber<=e&&void 0===n[u.targetId]&&(i++,o.push(r.removeQueryData(t,u)))}).next(function(){return An.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){var n=this;return Wn(t).iterate(function(t,r){var i=n.serializer.fromDbTarget(r);e(i)})},t.prototype.retrieveMetadata=function(t){return zn(t.simpleDbTransaction)},t.prototype.saveMetadata=function(t,e){return(n=t,Fr.getStore(n,gr.store)).put(gr.key,e);var n},t.prototype.saveQueryData=function(t,e){return Wn(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getQueryCount=function(t){return this.retrieveMetadata(t).next(function(t){return t.targetCount})},t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return Wn(t).iterate({range:i,index:mr.queryTargetsIndexName},function(t,r,i){var a=n.serializer.fromDbTarget(r);e.isEqual(a.query)&&(o=a,i.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Qn(t);return e.forEach(function(e){var a=wn(e.path);i.push(o.put(new vr(n,a))),i.push(r.referenceDelegate.addReference(t,e))}),An.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Qn(t);return An.forEach(e,function(e){var o=wn(e.path);return An.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Qn(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Qn(t),i=Ne();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=Sn(t[1]),o=new ht(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=wn(e.path),r=IDBKeyRange.bound([n],[X(n)],!1,!0),i=0;return Qn(t).iterate({index:vr.documentTargetsIndex,keysOnly:!0,range:r},function(t,e,n){var r=t[0];t[1];0!==r&&(i++,n.done())}).next(function(){return i>0})},t.prototype.getQueryDataForTarget=function(t,e){var n=this;return Wn(t).get(e).next(function(t){return t?n.serializer.fromDbTarget(t):null})},t}();function Wn(t){return Fr.getStore(t,mr.store)}function zn(t){return jn.getStore(t,gr.store).get(gr.key).next(function(t){return g(null!==t,"Missing metadata row."),t})}function Kn(t){return zn(t).next(function(t){return t.highestListenSequenceNumber})}function Qn(t){return Fr.getStore(t,vr.store)}var Hn=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(a.isEqual(t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){O(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}})},t.prototype.isEmpty=function(){return C(this.inner)},t}(),Gn=function(){function t(){this.changes=Ae(),this.documentSizes=new Hn(function(t){return t.toString()})}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this,r=this.assertChanges().get(e);return r?An.resolve(r):this.getFromCache(t,e).next(function(t){return null===t?(n.documentSizes.set(e,0),null):(n.documentSizes.set(e,t.size),t.maybeDocument)})},t.prototype.getEntries=function(t,e){var n=this;return this.getAllFromCache(t,e).next(function(t){var e=t.maybeDocuments;return t.sizeMap.forEach(function(t,e){n.documentSizes.set(t,e)}),e})},t.prototype.apply=function(t){var e=this.applyChanges(t);return this.changes=null,e},t.prototype.assertChanges=function(){return g(null!==this.changes,"Changes have already been applied."),this.changes},t}(),Yn="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",Xn=function(){function t(t,e,n){this.serializer=t,this.indexManager=e,this.keepDocumentChangeLog=n,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(t.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),t.prototype.start=function(t){var e=jn.getStore(t,Er.store);return this.synchronizeLastDocumentChangeId(e)},t.prototype.addEntries=function(t,e,n){var r=[];if(e.length>0){for(var i=Zn(t),o=Ne(),a=0,s=e;a<s.length;a++){var u=s[a],c=u.key,l=u.doc;r.push(i.put(er(c),l)),o=o.add(c),r.push(this.indexManager.addToCollectionParentIndex(t,c.path.popLast()))}this.keepDocumentChangeLog&&r.push(tr(t).put({changes:this.serializer.toDbResourcePaths(o)})),r.push(this.updateSize(t,n))}return An.waitFor(r)},t.prototype.removeEntry=function(t,e){var n=Zn(t),r=er(e);return n.get(r).next(function(t){return t?n.delete(r).next(function(){return nr(t)}):An.resolve(0)})},t.prototype.getEntry=function(t,e){var n=this;return Zn(t).get(er(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getSizedEntry=function(t,e){var n=this;return Zn(t).get(er(e)).next(function(t){return t?{maybeDocument:n.serializer.fromDbRemoteDocument(t),size:nr(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Oe();return this.forEachDbEntry(t,e,function(t,e){r=e?r.insert(t,n.serializer.fromDbRemoteDocument(e)):r.insert(t,null)}).next(function(){return r})},t.prototype.getSizedEntries=function(t,e){var n=this,r=Oe(),i=new vt(ht.comparator);return this.forEachDbEntry(t,e,function(t,e){e?(r=r.insert(t,n.serializer.fromDbRemoteDocument(e)),i=i.insert(t,nr(e))):(r=r.insert(t,null),i=i.insert(t,0))}).next(function(){return{maybeDocuments:r,sizeMap:i}})},t.prototype.forEachDbEntry=function(t,e,n){if(e.isEmpty())return An.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Zn(t).iterate({range:r},function(t,e,r){for(var a=ht.fromSegments(t);o&&ht.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.skip(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this;g(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=xe(),i=e.path.length+1,o=e.path.toArray(),a=IDBKeyRange.lowerBound(o);return Zn(t).iterate({range:a},function(t,o,a){if(t.length===i){var s=n.serializer.fromDbRemoteDocument(o);e.path.isPrefixOf(s.key.path)?s instanceof dt&&e.matches(s)&&(r=r.insert(s.key,s)):a.done()}}).next(function(){return r})},t.prototype.getNewDocumentChanges=function(t){var e=this;g(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=Ne(),r=Ae(),i=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),o=!0,a=tr(t);return a.iterate({range:i},function(t,r){if(o&&(o=!1,e._lastProcessedDocumentChangeId+1!==r.id))return e.synchronizeLastDocumentChangeId(a).next(function(){return An.reject(new T(E.DATA_LOSS,Yn))});n=n.unionWith(e.serializer.fromDbResourcePaths(r.changes)),e._lastProcessedDocumentChangeId=r.id}).next(function(){var i=[];return n.forEach(function(n){i.push(e.getEntry(t,n).next(function(t){var e=t||new yt(n,ee.forDeletedDoc());r=r.insert(n,e)}))}),An.waitFor(i)}).next(function(){return r})},t.prototype.removeDocumentChangesThroughChangeId=function(t,e){var n=IDBKeyRange.upperBound(e);return tr(t).delete(n)},t.prototype.synchronizeLastDocumentChangeId=function(t){var e=this;return this._lastProcessedDocumentChangeId=0,t.iterate({keysOnly:!0,reverse:!0},function(t,n,r){e._lastProcessedDocumentChangeId=t,r.done()})},t.prototype.newChangeBuffer=function(){return new Jn(this)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return $n(t).get(yr.key).next(function(t){return g(!!t,"Missing document cache metadata"),t})},t.prototype.setMetadata=function(t,e){return $n(t).put(yr.key,e)},t.prototype.updateSize=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.setMetadata(t,r)})},t}();function $n(t){return Fr.getStore(t,yr.store)}var Jn=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n}return s.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=this.assertChanges(),r=0,i=[];return n.forEach(function(t,n){var o=e.documentCache.serializer.toDbRemoteDocument(n),a=e.documentSizes.get(t);g(void 0!==a,"Attempting to change document "+t.toString()+" without having read it first");var s=nr(o);r+=s-a,i.push({key:t,doc:o})}),this.documentCache.addEntries(t,i,r)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(Gn);function Zn(t){return Fr.getStore(t,dr.store)}function tr(t){return Fr.getStore(t,Er.store)}function er(t){return t.path.toArray()}function nr(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw v("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var rr=function(){function t(){this.collectionParentIndex=new ir}return t.prototype.addToCollectionParentIndex=function(t,e){return this.collectionParentIndex.add(e),An.resolve()},t.prototype.getCollectionParents=function(t,e){return An.resolve(this.collectionParentIndex.getEntries(e))},t}(),ir=function(){function t(){this.index={}}return t.prototype.add=function(t){g(t.length%2===1,"Expected a collection path.");var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new ie(ct.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.getEntries=function(t){return(this.index[t]||new ie(ct.comparator)).toArray()},t}(),or=8,ar=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;g(n<r&&n>=0&&r<=or,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&r>=1&&(function(t){t.createObjectStore(ur.store)}(t),function(t){t.createObjectStore(cr.store,{keyPath:cr.keyPath}),t.createObjectStore(lr.store,{keyPath:lr.keyPath,autoIncrement:!0}).createIndex(lr.userMutationsIndex,lr.userMutationsKeyPath,{unique:!0}),t.createObjectStore(fr.store)}(t),wr(t),function(t){t.createObjectStore(dr.store)}(t));var o=An.resolve();return n<3&&r>=3&&(0!==n&&(!function(t){t.deleteObjectStore(vr.store),t.deleteObjectStore(mr.store),t.deleteObjectStore(gr.store)}(t),wr(t)),o=o.next(function(){return function(t){var e=t.store(gr.store),n=new gr(0,0,ee.MIN.toTimestamp(),0);return e.put(gr.key,n)}(e)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(lr.store).loadAll().next(function(n){t.deleteObjectStore(lr.store);var r=t.createObjectStore(lr.store,{keyPath:lr.keyPath,autoIncrement:!0});r.createIndex(lr.userMutationsIndex,lr.userMutationsKeyPath,{unique:!0});var i=e.store(lr.store),o=n.map(function(t){return i.put(t)});return An.waitFor(o)})}(t,e)})),o=o.next(function(){!function(t){t.createObjectStore(Tr.store,{keyPath:Tr.keyPath})}(t),function(t){t.createObjectStore(Er.store,{keyPath:"id",autoIncrement:!0})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.removeAcknowledgedMutations(e)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(yr.store)}(t),i.addDocumentGlobal(e)})),n<7&&r>=7&&(o=o.next(function(){return i.ensureSequenceNumbers(e)})),n<8&&r>=8&&(o=o.next(function(){return i.createCollectionParentIndex(t,e)})),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(dr.store).iterate(function(t,n){e+=nr(n)}).next(function(){var n=new yr(e);return t.store(yr.store).put(yr.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(cr.store),r=t.store(lr.store);return n.loadAll().next(function(n){return An.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(lr.userMutationsIndex,i).next(function(r){return An.forEach(r,function(r){g(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.fromDbMutationBatch(r);return xn(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(vr.store),n=t.store(dr.store);return Kn(t).next(function(t){var r=[];return n.iterate(function(n,i){var o=new ct(n),a=function(t){return[0,wn(t)]}(o);r.push(e.get(a).next(function(n){return n?An.resolve():function(n){return e.put(new vr(0,wn(n),t))}(o)}))}).next(function(){return An.waitFor(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(br.store,{keyPath:br.keyPath});var n=e.store(br.store),r=new ir,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:wn(i)})}};return e.store(dr.store).iterate({keysOnly:!0},function(t,e){var n=new ct(t);return i(n.popLast())}).next(function(){return e.store(fr.store).iterate({keysOnly:!0},function(t,e){t[0];var n=t[1],r=(t[2],Sn(n));return i(r.popLast())})})},t}();var sr=function(){return function(t,e){this.seconds=t,this.nanoseconds=e}}(),ur=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}();var cr=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),lr=function(){function t(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}();var fr=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,wn(e)]},t.key=function(t,e,n){return[t,wn(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}();var hr=function(){return function(t,e){this.path=t,this.readTime=e}}(),pr=function(){return function(t,e){this.path=t,this.version=e}}(),dr=function(){function t(t,e,n,r){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r}return t.store="remoteDocuments",t}(),yr=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}();var mr=function(){function t(t,e,n,r,i,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),vr=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,g(0===t===(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),gr=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),br=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function wr(t){t.createObjectStore(vr.store,{keyPath:vr.keyPath}).createIndex(vr.documentTargetsIndex,vr.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(mr.store,{keyPath:mr.keyPath}).createIndex(mr.queryTargetsIndexName,mr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(gr.store)}var Er=function(){function t(t){this.changes=t}return t.store="remoteDocumentChanges",t.keyPath="id",t}();var Tr=function(){function t(t,e,n,r,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=i}return t.store="clientMetadata",t.keyPath="clientId",t}();var Sr=[cr.store,lr.store,fr.store,dr.store,mr.store,ur.store,gr.store,vr.store].concat([Tr.store,Er.store]).concat([yr.store]).concat([br.store]),_r=function(){function t(){this.collectionParentsCache=new ir}return t.prototype.addToCollectionParentIndex=function(t,e){if(g(e.length%2===1,"Expected a collection path."),this.collectionParentsCache.add(e)){g(e.length>=1,"Invalid collection path.");var n=e.lastSegment(),r=e.popLast();return Ir(t).put({collectionId:n,parent:wn(r)})}return An.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[X(e),""],!1,!0);return Ir(t).loadAll(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Sn(o.parent))}return n})},t}();function Ir(t){return Fr.getStore(t,br.store)}var Ar=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=ht.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new yt(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){e=ht.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version);return new mt(e,n)}return v("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof dt){var e=t.proto?t.proto:this.remoteSerializer.toDocument(t),n=t.hasCommittedMutations;return new dr(null,null,e,n)}if(t instanceof yt){var r=t.key.path.toArray(),i=this.toDbTimestamp(t.version);n=t.hasCommittedMutations;return new dr(null,new hr(r,i),null,n)}if(t instanceof mt){r=t.key.path.toArray(),i=this.toDbTimestamp(t.version);return new dr(new pr(r,i),null,null,!0)}return v("Unexpected MaybeDocumment")},t.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new sr(e.seconds,e.nanoseconds)},t.prototype.fromDbTimestamp=function(t){var e=new it(t.seconds,t.nanoseconds);return ee.fromTimestamp(e)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.baseMutations.map(function(t){return n.remoteSerializer.toMutation(t)}),i=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new lr(t,e.batchId,e.localWriteTime.toMillis(),r,i)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=(t.baseMutations||[]).map(function(t){return e.remoteSerializer.fromMutation(t)}),r=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),i=it.fromMillis(t.localWriteTimeMs);return new _n(t.batchId,i,n,r)},t.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach(function(t){e.push(wn(t.path))}),e},t.prototype.fromDbResourcePaths=function(t){for(var e=Ne(),n=0,r=t;n<r.length;n++){var i=r[n];e=e.add(new ht(Sn(i)))}return e},t.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime);return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new re(e,t.targetId,Wt.Listen,t.lastListenSequenceNumber,n,t.resumeToken)},t.prototype.toDbTarget=function(t){g(Wt.Listen===t.purpose,"Only queries with purpose "+Wt.Listen+" may be stored, got "+t.purpose);var e,n,r=this.toDbTimestamp(t.snapshotVersion);return e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),t.resumeToken instanceof Uint8Array?(g("YES"===Object({NODE_ENV:"production",PUBLIC_URL:""}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),n=t.resumeToken.toString()):n=t.resumeToken,new mr(t.targetId,t.query.canonicalId(),r,n,t.sequenceNumber,e)},t}();function Or(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=G(n,i);return 0===a?G(r,o):a}var Cr=function(){function t(t){this.maxElements=t,this.buffer=new ie(Or),this.previousIndex=0}return t.prototype.nextIndex=function(){return++this.previousIndex},t.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Or(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),xr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kr=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t.COLLECTION_DISABLED=-1,t.MINIMUM_CACHE_SIZE_BYTES=1048576,t.DEFAULT_CACHE_SIZE_BYTES=41943040,t.DEFAULT_COLLECTION_PERCENTILE=10,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,t.DEFAULT=new t(t.DEFAULT_CACHE_SIZE_BYTES,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),t.DISABLED=new t(t.COLLECTION_DISABLED,0,0),t}(),Pr=function(){function t(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.gcTask=null}return t.prototype.start=function(){g(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==kr.COLLECTION_DISABLED&&this.scheduleGC()},t.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),t.prototype.scheduleGC=function(){var t=this;g(null===this.gcTask,"Cannot schedule GC while a task is pending");var e=this.hasRun?3e5:6e4;d("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(fn.LruGarbageCollection,e,function(){return t.gcTask=null,t.hasRun=!0,t.localStore.collectGarbage(t.garbageCollector).then(function(){return t.scheduleGC()}).catch(Vr)})},t}(),Dr=function(){function t(t,e){this.delegate=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.delegate.getSequenceNumberCount(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return An.resolve(hn.INVALID);var r=new Cr(e);return this.delegate.forEachTarget(t,function(t){return r.addElement(t.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,function(t){return r.addElement(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return this.params.cacheSizeCollectionThreshold===kr.COLLECTION_DISABLED?(d("LruGarbageCollector","Garbage collection skipped; disabled"),An.resolve(xr)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(d("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),xr):n.runGarbageCollection(t,e)})},t.prototype.getCacheSize=function(t){return this.delegate.getCacheSize(t)},t.prototype.runGarbageCollection=function(t,e){var n,r,o,a,s,u,c,l,f=this;return a=Date.now(),this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>f.params.maximumSequenceNumbersToCollect?(d("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+f.params.maximumSequenceNumbersToCollect+" from "+e),r=f.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),f.nthSequenceNumber(t,r)}).next(function(r){return n=r,u=Date.now(),f.removeTargets(t,n,e)}).next(function(e){return o=e,c=Date.now(),f.removeOrphanedDocuments(t,n)}).next(function(t){(l=Date.now(),h()<=i.DEBUG)&&d("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-a)+"ms\n\tDetermined least recently used "+r+" in "+(u-s)+"ms\n\tRemoved "+o+" targets in "+(c-u)+"ms\n\tRemoved "+t+" documents in "+(l-c)+"ms\nTotal Duration: "+(l-a)+"ms");return An.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:t})})},t}(),Nr=function(){return function(){}}(),Rr="IndexedDbPersistence",Lr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Mr="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `experimentalTabSynchronization:true` in all tabs.",jr="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",Ur=function(t){function e(e,n){var r=t.call(this)||this;return r.simpleDbTransaction=e,r.currentSequenceNumber=n,r}return s.__extends(e,t),e}(Nr),Fr=function(){function t(e,n,r,i,o,a,s){if(this.persistenceKey=e,this.clientId=n,this.queue=i,this.multiClientParams=s,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.inForeground=!1,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},!t.isAvailable())throw new T(E.UNIMPLEMENTED,jr);if(this.referenceDelegate=new Wr(this,a),this.dbName=e+t.MAIN_DATABASE,this.serializer=new Ar(o),this.document=r.document,this.allowTabSynchronization=void 0!==s,this.queryCache=new Bn(this.referenceDelegate,this.serializer),this.indexManager=new _r,this.remoteDocumentCache=new Xn(this.serializer,this.indexManager,this.allowTabSynchronization),!r.window||!r.window.localStorage)throw new T(E.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}return t.getStore=function(t,e){if(t instanceof Ur)return jn.getStore(t.simpleDbTransaction,e);throw v("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.createIndexedDbPersistence=function(e,n,r,i,o,a){return s.__awaiter(this,void 0,void 0,function(){var u;return s.__generator(this,function(s){switch(s.label){case 0:return[4,(u=new t(e,n,r,i,o,a)).start()];case 1:return s.sent(),[2,u]}})})},t.createMultiClientIndexedDbPersistence=function(e,n,r,i,o,a,u){return s.__awaiter(this,void 0,void 0,function(){var c;return s.__generator(this,function(s){switch(s.label){case 0:return[4,(c=new t(e,n,r,i,o,a,u)).start()];case 1:return s.sent(),[2,c]}})})},t.prototype.start=function(){var t=this;return g(!this.started,"IndexedDbPersistence double-started!"),g(null!==this.window,"Expected 'window' to be defined"),jn.openOrCreate(this.dbName,or,new ar(this.serializer)).then(function(e){return t.simpleDb=e,t.updateClientMetadataAndTryBecomePrimary()}).then(function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.scheduleClientMetadataAndPrimaryLeaseRefreshes(),t.startRemoteDocumentCache()}).then(function(){return t.simpleDb.runTransaction("readonly",[gr.store],function(e){return Kn(e).next(function(e){var n=t.multiClientParams?t.multiClientParams.sequenceNumberSyncer:void 0;t.listenSequence=new hn(e,n)})})}).then(function(){t._started=!0}).catch(function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)})},t.prototype.startRemoteDocumentCache=function(){var t=this;return this.simpleDb.runTransaction("readonly",Sr,function(e){return t.remoteDocumentCache.start(e)})},t.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(n){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget(function(){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction("readwrite",Sr,function(e){return Br(e).put(new Tr(t.clientId,Date.now(),t.networkEnabled,t.inForeground,t.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next(function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget(function(){return t.primaryStateListener(!1)}))})}).next(function(){return t.canActAsPrimary(e)}).next(function(n){var r=t.isPrimary;return t.isPrimary=n,r!==t.isPrimary&&t.queue.enqueueAndForget(function(){return t.primaryStateListener(t.isPrimary)}),r&&!t.isPrimary?t.releasePrimaryLeaseIfHeld(e):t.isPrimary?t.acquireOrExtendPrimaryLease(e):void 0})})},t.prototype.verifyPrimaryLease=function(t){var e=this;return qr(t).get(ur.key).next(function(t){return An.resolve(e.isLocalClient(t))})},t.prototype.removeClientMetadata=function(t){return Br(t).delete(this.clientId)},t.prototype.maybeGarbageCollectMultiClientState=function(){return s.__awaiter(this,void 0,void 0,function(){var e,n,r=this;return s.__generator(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(i){var o=t.getStore(i,Tr.store);return o.loadAll().next(function(t){e=r.filterActiveClients(t,18e5),n=t.filter(function(t){return-1===e.indexOf(t)})}).next(function(){return An.forEach(n,function(t){return o.delete(t.clientId)})}).next(function(){if((e=e.filter(function(t){return t.clientId!==r.clientId})).length>0){var t=e.map(function(t){return t.lastProcessedDocumentChangeId||0}),n=Math.min.apply(Math,t);return r.remoteDocumentCache.removeDocumentChangesThroughChangeId(i,n)}})})]);case 1:i.sent(),n.forEach(function(t){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(t.clientId))}),i.label=2;case 2:return[2]}})})},t.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(fn.ClientMetadataRefresh,4e3,function(){return t.updateClientMetadataAndTryBecomePrimary().then(function(){return t.maybeGarbageCollectMultiClientState()}).then(function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},t.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.canActAsPrimary=function(t){var e=this;return qr(t).get(ur.key).next(function(n){if(null!==n&&e.isWithinAge(n.leaseTimestampMs,5e3)&&!e.isClientZombied(n.ownerId)){if(e.isLocalClient(n)&&e.networkEnabled)return!0;if(!e.isLocalClient(n)){if(!n.allowTabSynchronization)throw new T(E.FAILED_PRECONDITION,Mr);return!1}}return!(!e.networkEnabled||!e.inForeground)||Br(t).loadAll().next(function(t){return void 0===e.filterActiveClients(t,5e3).find(function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(t){return e.isPrimary!==t&&d(Rr,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(t){return s.__awaiter(this,void 0,void 0,function(){var e=this;return s.__generator(this,function(n){switch(n.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&this.clientMetadataRefresher.cancel(),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[ur.store,Tr.store],function(t){return e.releasePrimaryLeaseIfHeld(t).next(function(){return e.removeClientMetadata(t)})})];case 1:return n.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),t?[4,jn.delete(this.dbName)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.filterActiveClients=function(t,e){var n=this;return t.filter(function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)})},t.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction("readonly",[Tr.store],function(e){return Br(e).loadAll().next(function(e){return t.filterActiveClients(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return g(this.started,"Cannot initialize MutationQueue before persistence is started."),On.forUser(t,this.serializer,this.indexManager,this.referenceDelegate)},t.prototype.getQueryCache=function(){return g(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},t.prototype.getRemoteDocumentCache=function(){return g(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},t.prototype.getIndexManager=function(){return g(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},t.prototype.runTransaction=function(t,e,n){var r=this;return d(Rr,"Starting transaction:",t),this.simpleDb.runTransaction("readonly"===e?"readonly":"readwrite",Sr,function(i){return"readwrite-primary"===e?r.verifyPrimaryLease(i).next(function(e){if(!e)throw y("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}),new T(E.FAILED_PRECONDITION,Lr);return n(new Ur(i,r.listenSequence.next()))}).next(function(t){return r.acquireOrExtendPrimaryLease(i).next(function(){return t})}):r.verifyAllowTabSynchronization(i).next(function(){return n(new Ur(i,r.listenSequence.next()))})})},t.prototype.verifyAllowTabSynchronization=function(t){var e=this;return qr(t).get(ur.key).next(function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new T(E.FAILED_PRECONDITION,Mr)})},t.prototype.acquireOrExtendPrimaryLease=function(t){var e=new ur(this.clientId,this.allowTabSynchronization,Date.now());return qr(t).put(ur.key,e)},t.isAvailable=function(){return jn.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=qr(t);return n.get(ur.key).next(function(t){return e.isLocalClient(t)?(d(Rr,"Releasing primary lease."),n.delete(ur.key)):An.resolve()})},t.prototype.isWithinAge=function(t,e){var n=Date.now();return!(t<n-e)&&(!(t>n)||(y("Detected an update time that is in the future: "+t+" > "+n),!1))},t.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"===typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},t.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(g(null!==this.document&&"function"===typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"function"===typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(g("function"===typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return d(Rr,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(n){return y(Rr,"Failed to get zombied client id.",n),!1}},t.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){y("Failed to set zombie client id.",t)}},t.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},t.prototype.zombiedClientLocalStorageKey=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.MAIN_DATABASE="main",t}();function Vr(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){if(!function(t){return t.code===E.FAILED_PRECONDITION&&t.message===Lr}(t))throw t;return d(Rr,"Unexpectedly lost primary lease"),[2]})})}function qr(t){return t.store(ur.store)}function Br(t){return t.store(Tr.store)}var Wr=function(){function t(t,e){this.db=t,this.garbageCollector=new Dr(this,e)}return t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocmentCount(t);return this.db.getQueryCache().getQueryCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocmentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getQueryCache().forEachTarget(t,e)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,function(t,n){return e(n)})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return zr(t,e)},t.prototype.removeReference=function(t,e){return zr(t,e)},t.prototype.removeTargets=function(t,e,n){return this.db.getQueryCache().removeTargets(t,e,n)},t.prototype.removeMutationReference=function(t,e){return zr(t,e)},t.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?An.resolve(!0):function(t,e){var n=!1;return Nn(t).iterateSerial(function(r){return Cn(t,r,e).next(function(t){return t&&(n=!0),An.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=0,o=[];return this.forEachOrphanedDocument(t,function(a,s){if(s<=e){var u=n.isPinned(t,a).next(function(e){if(!e)return r++,n.removeOrphanedDocument(t,a).next(function(t){i+=t})});o.push(u)}}).next(function(){return An.waitFor(o)}).next(function(){return n.db.getRemoteDocumentCache().updateSize(t,-i)}).next(function(){return r})},t.prototype.removeOrphanedDocument=function(t,e){var n,r=0,i=this.db.getRemoteDocumentCache();return An.waitFor([Qn(t).delete((n=e,[0,wn(n.path)])),i.removeEntry(t,e).next(function(t){r+=t})]).next(function(){return r})},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.db.getQueryCache().updateQueryData(t,n)},t.prototype.updateLimboDocument=function(t,e){return zr(t,e)},t.prototype.forEachOrphanedDocument=function(t,e){var n,r=Qn(t),i=hn.INVALID;return r.iterate({index:vr.documentTargetsIndex},function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==hn.INVALID&&e(new ht(Sn(n)),i),i=s,n=a):i=hn.INVALID}).next(function(){i!==hn.INVALID&&e(new ht(Sn(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function zr(t,e){return Qn(t).put(function(t,e){return new vr(0,wn(t.path),e)}(e,t.currentSequenceNumber))}var Kr=function(){function t(t,e,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.indexManager=n}return t.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.getDocumentInternal(t,e,r)})},t.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++){t=i[r].applyToLocalView(e,t)}return t})},t.prototype.applyLocalMutationsToDocuments=function(t,e,n){var r=Oe();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++){e=o[i].applyToLocalView(t,e)}r=r.insert(t,e)}),r},t.prototype.getDocuments=function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next(function(e){return n.getLocalViewOfDocuments(t,e)})},t.prototype.getLocalViewOfDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=n.applyLocalMutationsToDocuments(t,e,r),o=Ae();return i.forEach(function(t,e){e||(e=new yt(t,ee.forDeletedDoc())),o=o.insert(t,e)}),o})},t.prototype.getDocumentsMatchingQuery=function(t,e){return e.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(t,e.path):e.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(t,e):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new ht(e)).next(function(t){var e=xe();return t instanceof dt&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionGroupQuery=function(t,e){var n=this;g(e.path.isEmpty(),"Currently we only support collection group queries at the root.");var r=e.collectionGroup,i=xe();return this.indexManager.getCollectionParents(t,r).next(function(o){return An.forEach(o,function(o){var a=e.asCollectionQueryAtPath(o.child(r));return n.getDocumentsMatchingCollectionQuery(t,a).next(function(t){t.forEach(function(t,e){i=i.insert(t,e)})})}).next(function(){return i})})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(i){return n=i,r.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(t){for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key;if(e.path.isImmediateParentOf(c.path)){var l=n.get(c),f=u.applyToLocalView(l,l,o.localWriteTime);n=f instanceof dt?n.insert(c,f):n.remove(c)}}}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t}(),Qr=function(){function t(){this.refsByKey=new ie(Hr.compareByKey),this.refsByTarget=new ie(Hr.compareByTargetId)}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new Hr(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new Hr(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=ht.EMPTY,r=new Hr(n,t),i=new Hr(n,t+1),o=[];return this.refsByTarget.forEachInRange([r,i],function(t){e.removeRef(t),o.push(t.key)}),o},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},t.prototype.referencesForId=function(t){var e=ht.EMPTY,n=new Hr(e,t),r=new Hr(e,t+1),i=Ne();return this.refsByTarget.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Hr(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Hr=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return ht.comparator(t.key,e.key)||G(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return G(t.targetOrBatchId,e.targetOrBatchId)||ht.comparator(t.key,e.key)},t}(),Gr=function(){function t(t,e){this.persistence=t,this.localViewReferences=new Qr,this.queryDataByTarget={},g(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new Kr(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}return t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change","readonly",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,e.mutationQueue=e.persistence.getMutationQueue(t),e.localDocuments=new Kr(e.remoteDocuments,e.mutationQueue,e.persistence.getIndexManager()),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var i=[],o=[],a=Ne(),s=0,u=r;s<u.length;s++){var c=u[s];i.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var p=0,d=t;p<d.length;p++){c=d[p];o.push(c.batchId);for(var y=0,m=c.mutations;y<m.length;y++){h=m[y];a=a.add(h.key)}}return e.localDocuments.getDocuments(n,a).next(function(t){return{affectedDocuments:t,removedBatchIds:i,addedBatchIds:o}})})})},t.prototype.localWrite=function(t){var e=this,n=it.now(),r=t.reduce(function(t,e){return t.add(e.key)},Ne());return this.persistence.runTransaction("Locally write mutations","readwrite",function(i){return e.localDocuments.getDocuments(i,r).next(function(r){for(var o=[],a=0,s=t;a<s.length;a++){var u=s[a],c=r.get(u.key);if(!u.isIdempotent){var l=u.fieldMask;if(l){var f=c instanceof dt?l.applyTo(c.data):Lt.EMPTY;o.push(new he(u.key,f,l,ce.exists(!0)))}}}return e.mutationQueue.addMutationBatch(i,n,o,t).next(function(t){var e=t.applyToLocalDocumentSet(r);return{batchId:t.batchId,changes:e}})})})},t.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(n){return e.mutationQueue.lookupMutationKeys(n,t).next(function(t){return t?e.localDocuments.getDocuments(n,t):An.resolve(null)})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(n){var r=t.batch.keys(),i=e.remoteDocuments.newChangeBuffer();return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){return e.applyWriteToRemoteDocuments(n,t,i)}).next(function(){return i.apply(n)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(n){var r;return e.mutationQueue.lookupMutationBatch(n,t).next(function(t){return g(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.mutationQueue.removeMutationBatch(n,t)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.queryCache.getLastRemoteSnapshotVersion(e)})},t.prototype.applyRemoteEvent=function(e){var n=this,r=this.remoteDocuments.newChangeBuffer();return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(i){var o=[],a=Ne();A(e.targetChanges,function(r,s){var u=n.queryDataByTarget[r];if(u){s.addedDocuments.forEach(function(t){a=a.add(t)}),s.modifiedDocuments.forEach(function(t){a=a.add(t)}),o.push(n.queryCache.removeMatchingKeys(i,s.removedDocuments,r).next(function(){return n.queryCache.addMatchingKeys(i,s.addedDocuments,r)}));var c=s.resumeToken;if(c.length>0){var l=u;u=u.copy({resumeToken:c,snapshotVersion:e.snapshotVersion}),n.queryDataByTarget[r]=u,t.shouldPersistQueryData(l,u,s)&&o.push(n.queryCache.updateQueryData(i,u))}}});var s=Ae(),u=Ne();e.documentUpdates.forEach(function(t,e){u=u.add(t)}),o.push(r.getEntries(i,u).next(function(t){e.documentUpdates.forEach(function(u,c){var l=t.get(u);null==l||c.version.isEqual(ee.MIN)||a.has(c.key)&&!l.hasPendingWrites||c.version.compareTo(l.version)>=0?(r.addEntry(c),s=s.insert(u,c)):d("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version),e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))})}));var c=e.snapshotVersion;if(!c.isEqual(ee.MIN)){var l=n.queryCache.getLastRemoteSnapshotVersion(i).next(function(t){return g(c.compareTo(t)>=0,"Watch stream reverted to previous snapshot?? "+c+" < "+t),n.queryCache.setTargetsMetadata(i,i.currentSequenceNumber,c)});o.push(l)}return An.waitFor(o).next(function(){return r.apply(i)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(i,s)})})},t.shouldPersistQueryData=function(t,e,n){return 0!==e.resumeToken.length&&(0===t.resumeToken.length||(e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0))},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return An.forEach(t,function(t){return e.localViewReferences.addReferences(t.addedKeys,t.targetId),e.localViewReferences.removeReferences(t.removedKeys,t.targetId),An.forEach(t.removedKeys,function(t){return e.persistence.referenceDelegate.removeReference(n,t)})})})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(n){return void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query","readwrite",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(i){return i?(r=i,An.resolve()):e.queryCache.allocateTargetId(n).next(function(i){return r=new re(t,i,Wt.Listen,n.currentSequenceNumber),e.queryCache.addQueryData(n,r)})}).next(function(){return g(!e.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+t),e.queryDataByTarget[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t,e){var n=this,r=e?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release query",r,function(r){return n.queryCache.getQueryData(r,t).next(function(i){g(null!=i,"Tried to release nonexistent query: "+t);var o=i.targetId,a=n.queryDataByTarget[o],s=n.localViewReferences.removeReferencesForId(o);return delete n.queryDataByTarget[o],e?An.resolve():An.forEach(s,function(t){return n.persistence.referenceDelegate.removeReference(r,t)}).next(function(){return n.persistence.referenceDelegate.removeTarget(r,a)})})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query","readonly",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},t.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},t.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=this,i=e.batch,o=i.keys(),a=An.resolve();return o.forEach(function(r){a=a.next(function(){return n.getEntry(t,r)}).next(function(t){var o=t,a=e.docVersions.get(r);g(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=i.applyToRemoteDocument(r,o,e))?n.addEntry(o):g(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))})}),a.next(function(){return r.mutationQueue.removeMutationBatch(t,i)})},t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.queryDataByTarget)})},t.prototype.getQueryForTarget=function(t){var e=this;return this.queryDataByTarget[t]?Promise.resolve(this.queryDataByTarget[t].query):this.persistence.runTransaction("Get query data","readonly",function(n){return e.queryCache.getQueryDataForTarget(n,t).next(function(t){return t?t.query:null})})},t.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",function(e){return t.remoteDocuments.getNewDocumentChanges(e)})},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),Yr=function(){function t(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=w(),this.batchesByDocumentKey=new ie(Hr.compareByKey)}return t.prototype.checkEmpty=function(t){return An.resolve(0===this.mutationQueue.length)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");g(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[i];return g(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,An.resolve()},t.prototype.getLastStreamToken=function(t){return An.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,An.resolve()},t.prototype.addMutationBatch=function(t,e,n,r){g(0!==r.length,"Mutation batches should not be empty");var i=this.nextBatchId;(this.nextBatchId++,this.mutationQueue.length>0)&&g(this.mutationQueue[this.mutationQueue.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var o=new _n(i,e,n,r);this.mutationQueue.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Hr(u.key,i)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast())}return An.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return An.resolve(this.findMutationBatch(e))},t.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return g(null!=n,"Failed to find local mutation batch."),An.resolve(n.keys())},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.indexOfBatchId(n),i=r<0?0:r;return An.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)},t.prototype.getAllMutationBatches=function(t){return An.resolve(this.mutationQueue.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Hr(e,0),i=new Hr(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(t){g(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);g(null!==r,"Batches in the index must exist in the main table"),o.push(r)}),An.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ie(G);return e.forEach(function(t){var e=new Hr(t,0),i=new Hr(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,i],function(e){g(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.targetOrBatchId)})}),An.resolve(this.findMutationBatches(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){g(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,r=n.length+1,i=n;ht.isDocumentKey(i)||(i=i.child(""));var o=new Hr(new ht(i),0),a=new ie(G);return this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.targetOrBatchId)),!0)},o),An.resolve(this.findMutationBatches(a))},t.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.findMutationBatch(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;g(0===this.indexOfExistingBatchId(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return An.forEach(e.mutations,function(i){var o=new Hr(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.removeMutationReference(t,i.key)}).next(function(){n.batchesByDocumentKey=r})},t.prototype.removeCachedMutationKeys=function(t){},t.prototype.containsKey=function(t,e){var n=new Hr(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return An.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&g(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),An.resolve()},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return g(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return g(n.batchId===t,"If found batch must match"),n},t}(),Xr=function(){function t(t){this.persistence=t,this.queries=new Hn(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=ee.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Qr,this.targetCount=0,this.targetIdGenerator=Mn.forQueryCache()}return t.prototype.getTargetCount=function(t){return An.resolve(this.targetCount)},t.prototype.forEachTarget=function(t,e){return this.queries.forEach(function(t,n){return e(n)}),An.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return An.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return An.resolve(this.highestSequenceNumber)},t.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,An.resolve(e)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),An.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},t.prototype.addQueryData=function(t,e){return g(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,An.resolve()},t.prototype.updateQueryData=function(t,e){return g(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),An.resolve()},t.prototype.removeQueryData=function(t,e){return g(this.targetCount>0,"Removing a target from an empty cache"),g(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,An.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.queries.forEach(function(a,s){s.sequenceNumber<=e&&!n[s.targetId]&&(r.queries.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),An.waitFor(o).next(function(){return i})},t.prototype.getQueryCount=function(t){return An.resolve(this.targetCount)},t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return An.resolve(n)},t.prototype.getQueryDataForTarget=function(t,e){return v("Not yet implemented.")},t.prototype.addMatchingKeys=function(t,e,n){this.references.addReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.addReference(t,e))}),An.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){this.references.removeReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.removeReference(t,e))}),An.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),An.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return An.resolve(n)},t.prototype.containsKey=function(t,e){return An.resolve(this.references.containsKey(e))},t}();var $r,Jr=function(){function t(t,e){this.indexManager=t,this.sizer=e,this.docs=new vt(ht.comparator),this.newDocumentChanges=Ne(),this.size=0}return t.prototype.addEntries=function(t,e,n){for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i],s=a.maybeDocument.key;this.docs=this.docs.insert(s,a),this.newDocumentChanges=this.newDocumentChanges.add(s),r.push(this.indexManager.addToCollectionParentIndex(t,s.path.popLast()))}return this.size+=n,An.waitFor(r)},t.prototype.removeEntry=function(t,e){var n=this.docs.get(e);return n?(this.docs=this.docs.remove(e),this.size-=n.size,An.resolve(n.size)):An.resolve(0)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return An.resolve(n?n.maybeDocument:null)},t.prototype.getSizedEntry=function(t,e){return An.resolve(this.docs.get(e))},t.prototype.getEntries=function(t,e){var n=this,r=Oe();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),An.resolve(r)},t.prototype.getSizedEntries=function(t,e){var n=this,r=Oe(),i=new vt(ht.comparator);return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null),i=i.insert(t,e?e.size:0)}),An.resolve({maybeDocuments:r,sizeMap:i})},t.prototype.getDocumentsMatchingQuery=function(t,e){g(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var n=xe(),r=new ht(e.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),a=o.key,s=o.value.maybeDocument;if(!e.path.isPrefixOf(a.path))break;s instanceof dt&&e.matches(s)&&(n=n.insert(s.key,s))}return An.resolve(n)},t.prototype.forEachDocumentKey=function(t,e){return An.forEach(this.docs,function(t){return e(t)})},t.prototype.getNewDocumentChanges=function(t){var e=this,n=Ae();return this.newDocumentChanges.forEach(function(t){var r=e.docs.get(t),i=r?r.maybeDocument:new yt(t,ee.forDeletedDoc());n=n.insert(t,i)}),this.newDocumentChanges=Ne(),An.resolve(n)},t.prototype.newChangeBuffer=function(){return new Zr(this.sizer,this)},t.prototype.getSize=function(t){return An.resolve(this.size)},t}(),Zr=function(t){function e(e,n){var r=t.call(this)||this;return r.sizer=e,r.documentCache=n,r}return s.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=this.assertChanges(),r=0,i=[];return n.forEach(function(t,n){var o=e.documentSizes.get(t);g(void 0!==o,"Attempting to change document "+t.toString()+" without having read it first");var a=e.sizer(n);r+=a-o,i.push({maybeDocument:n,size:a})}),this.documentCache.addEntries(t,i,r)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(Gn),ti=function(){function t(t,e){var n=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new hn(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.queryCache=new Xr(this);this.indexManager=new rr,this.remoteDocumentCache=new Jr(this.indexManager,function(t){return n.referenceDelegate.documentSize(t)})}return t.createLruPersistence=function(e,n,r){return new t(e,function(t){return new ri(t,new Ar(n),r)})},t.createEagerPersistence=function(e){return new t(e,function(t){return new ni(t)})},t.prototype.shutdown=function(t){return this._started=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getActiveClients=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return[2,[this.clientId]]})})},t.prototype.setPrimaryStateListener=function(t){return t(!0)},t.prototype.setNetworkEnabled=function(t){},t.prototype.getIndexManager=function(){return this.indexManager},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new Yr(this.indexManager,this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;d("MemoryPersistence","Starting transaction:",t);var i=new ei(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next(function(t){return r.referenceDelegate.onTransactionCommitted(i).next(function(){return t})}).toPromise()},t.prototype.mutationQueuesContainKey=function(t,e){return An.or(function(t){var e=[];return O(t,function(t,n){return e.push(n)}),e}(this.mutationQueues).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),ei=function(){return function(t){this.currentSequenceNumber=t}}(),ni=function(){function t(t){this.persistence=t}return t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),An.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),An.resolve()},t.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),An.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.orphanedDocuments.add(t)})}).next(function(){return r.removeQueryData(t,e)})},t.prototype.onTransactionStarted=function(){this.orphanedDocuments=new Set},t.prototype.onTransactionCommitted=function(t){var e=this,n=this.persistence.getRemoteDocumentCache();return An.forEach(this.orphanedDocuments,function(r){return e.isReferenced(t,r).next(function(e){return e?An.resolve():n.removeEntry(t,r).next(function(){})})})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next(function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)})},t.prototype.documentSize=function(t){return 0},t.prototype.isReferenced=function(t,e){var n=this;return An.or([function(){return n.persistence.getQueryCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return An.resolve(n.inMemoryPins.containsKey(e))}])},t}(),ri=function(){function t(t,e,n){this.persistence=t,this.serializer=e,this.orphanedSequenceNumbers=new Hn(function(t){return wn(t.path)}),this.garbageCollector=new Dr(this,n)}return t.prototype.onTransactionStarted=function(){},t.prototype.onTransactionCommitted=function(t){return An.resolve()},t.prototype.forEachTarget=function(t,e){return this.persistence.getQueryCache().forEachTarget(t,e)},t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocumentCount(t);return this.persistence.getQueryCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocumentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var n=this;return An.forEach(this.orphanedSequenceNumbers,function(r,i){return n.isPinned(t,r,i).next(function(t){return t?An.resolve():e(i)})})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.removeTargets=function(t,e,n){return this.persistence.getQueryCache().removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=this.persistence.getRemoteDocumentCache();return i.forEachDocumentKey(t,function(o){return n.isPinned(t,o,e).next(function(e){return e?An.resolve():(r++,i.removeEntry(t,o).next())})}).next(function(){return r})},t.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),An.resolve()},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.persistence.getQueryCache().updateQueryData(t,n)},t.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),An.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),An.resolve()},t.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),An.resolve()},t.prototype.documentSize=function(t){var e,n=this.serializer.toDbRemoteDocument(t);if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw v("Unknown remote document type");e=n.noDocument}return JSON.stringify(e).length},t.prototype.isPinned=function(t,e,n){var r=this;return An.or([function(){return r.persistence.mutationQueuesContainKey(t,e)},function(){return An.resolve(r.inMemoryPins.containsKey(e))},function(){return r.persistence.getQueryCache().containsKey(t,e)},function(){var t=r.orphanedSequenceNumbers.get(e);return An.resolve(void 0!==t&&t>n)}])},t.prototype.getCacheSize=function(t){return this.persistence.getRemoteDocumentCache().getSize(t)},t}(),ii=function(){function t(t,e,n,r,i){this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&d("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,function(){return e.lastAttemptTime=Date.now(),t()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}();!function(t){t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff"}($r||($r={}));var oi,ai,si=1e3,ui=6e4,ci=1.5,li=function(){function t(t,e,n,r,i,o){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=$r.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new ii(t,e,si,ci,ui)}return t.prototype.isStarted=function(){return this.state===$r.Starting||this.state===$r.Open||this.state===$r.Backoff},t.prototype.isOpen=function(){return this.state===$r.Open},t.prototype.start=function(){this.state!==$r.Error?(g(this.state===$r.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close($r.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.inhibitBackoff=function(){g(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=$r.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return this.isOpen()?[2,this.close($r.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(n){switch(n.label){case 0:return g(this.isStarted(),"Only started streams should be closed."),g(t===$r.Error||qt(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==$r.Error?this.backoff.reset():e&&e.code===E.RESOURCE_EXHAUSTED?(y(e.toString()),y("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===E.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;g(this.state===$r.Initial,"Must be in initial state to auth"),this.state=$r.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(e){t.closeCount===n&&t.startStream(e)},function(n){e(function(){var e=new T(E.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)})})},t.prototype.startStream=function(t){var e=this;g(this.state===$r.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen(function(){n(function(){return g(e.state===$r.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=$r.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.performBackoff=function(){var t=this;g(this.state===$r.Error,"Should only perform backoff when in Error state"),this.state=$r.Backoff,this.backoff.backoffAndRun(function(){return s.__awaiter(t,void 0,void 0,function(){return s.__generator(this,function(t){return g(this.state===$r.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=$r.Initial,this.start(),g(this.isStarted(),"PersistentStream should have started"),[2]})})})},t.prototype.handleStreamClose=function(t){return g(this.isStarted(),"Can't handle server close on non-started stream"),d("PersistentStream","close with error: "+t),this.stream=null,this.close($r.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueueAndForget(function(){return e.closeCount===t?n():(d("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),fi=function(t){function e(e,n,r,i,o){var a=t.call(this,e,fn.ListenStreamConnectionBackoff,fn.ListenStreamIdle,n,r,o)||this;return a.serializer=i,a}return s.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(li),hi=function(t){function e(e,n,r,i,o){var a=t.call(this,e,fn.WriteStreamConnectionBackoff,fn.WriteStreamIdle,n,r,o)||this;return a.serializer=i,a.handshakeComplete_=!1,a}return s.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(g(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return g(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){g(this.isOpen(),"Writing handshake requires an opened stream"),g(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;g(this.isOpen(),"Writing mutations requires an opened stream"),g(this.handshakeComplete_,"Handshake must be complete before writing mutations"),g(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(li),pi=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(t){return new hi(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new fi(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=Ae();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var i=[];return t.forEach(function(t){var e=r.get(t);g(!!e,"Missing entity in write response for "+t),i.push(e)}),i})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(t,e,r)}).catch(function(t){throw t.code===E.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(t,e,r)}).catch(function(t){throw t.code===E.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t}(),di=function(){function t(t){this.datastore=t,this.readVersions=Pe(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e;if(t instanceof dt)e=t.version;else{if(!(t instanceof yt))throw v("Document in a transaction was a "+t.constructor.name);e=ee.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new T(E.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(t).then(function(t){return t.forEach(function(t){t instanceof yt||t instanceof dt?e.recordVersion(t):v("Document in a transaction was a "+t.constructor.name)}),t})},t.prototype.write=function(t){if(this.committed)throw new T(E.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?ce.updateTime(e):ce.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.isEqual(ee.forDeletedDoc()))throw new T(E.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?ce.updateTime(e):ce.exists(!0)},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,e){this.write(e.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new de(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,ee.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach(function(t){e=e.remove(t.key)}),e.isEmpty()?this.datastore.commit(this.mutations).then(function(){t.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},t}();!function(t){t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline"}(oi||(oi={})),function(t){t[t.RemoteStore=0]="RemoteStore",t[t.SharedClientState=1]="SharedClientState"}(ai||(ai={}));var yi=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=oi.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(oi.Unknown),g(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(fn.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,g(t.state===oi.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(oi.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(t){this.state===oi.Online?(this.setAndBroadcast(oi.Unknown),g(0===this.watchStreamFailures,"watchStreamFailures must be 0"),g(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+t.toString()),this.setAndBroadcast(oi.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===oi.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(y(e),this.shouldWarnClientIsOffline=!1):d("OnlineStateTracker",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),mi=function(){function t(t,e,n,r){this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.onlineStateTracker=new yi(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return s.__awaiter(this,void 0,void 0,function(){var t;return s.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(oi.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.disableNetwork=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(oi.Offline),[2]}})})},t.prototype.disableNetworkInternal=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),this.writePipeline.length>0&&(d("RemoteStore","Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},t.prototype.shutdown=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return d("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(oi.Unknown),[2]}})})},t.prototype.listen=function(t){g(!_(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){g(_(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),C(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(oi.Unknown))},t.prototype.getQueryDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){g(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Ge(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!C(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return s.__awaiter(this,void 0,void 0,function(){var t=this;return s.__generator(this,function(e){return A(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){return void 0===t&&g(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(oi.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var n;return s.__generator(this,function(r){switch(r.label){case 0:return this.onlineStateTracker.set(oi.Online),t instanceof Qe&&t.state===Fe.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof ze?this.watchChangeAggregator.handleDocumentChange(t):t instanceof Ke?this.watchChangeAggregator.handleExistenceFilter(t):(g(t instanceof Qe,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual(ee.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),e.compareTo(n)>=0?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.raiseWatchSnapshot=function(t){var e=this;g(!t.isEqual(ee.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return A(n.targetChanges,function(n,r){if(r.resumeToken.length>0){var i=e.listenTargets[n];i&&(e.listenTargets[n]=i.copy({resumeToken:r.resumeToken,snapshotVersion:t}))}}),n.targetMismatches.forEach(function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.copy({resumeToken:w()}),e.sendUnwatchRequest(t);var r=new re(n.query,t,Wt.ExistenceFilterMismatch,n.sequenceNumber);e.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;g(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(e){return _(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),r},t.prototype.fillWritePipeline=function(){return s.__awaiter(this,void 0,void 0,function(){var t,e;return s.__generator(this,function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(t=this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1,[4,this.localStore.nextMutationBatch(t)]):[3,4];case 1:return null!==(e=n.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(e),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},t.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){g(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){g(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.writePipeline;e<n.length;e++){var r=n[e];t.writeStream.writeMutations(r.mutations)}}).catch(Vr)},t.prototype.onMutationResult=function(t,e){var n=this;g(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=In.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return s.__awaiter(this,void 0,void 0,function(){var e=this;return s.__generator(this,function(n){return void 0===t&&g(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&this.writePipeline.length>0?(void 0,[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]):[2]})})},t.prototype.handleHandshakeError=function(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){return Te(t.code)?(d("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=w(),[2,this.localStore.setLastStreamToken(w()).catch(Vr)]):[2]})})},t.prototype.handleWriteError=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n=this;return s.__generator(this,function(r){return Te(i=t.code)&&i!==E.ABORTED?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2];var i})})},t.prototype.createTransaction=function(){return new di(this.datastore)},t.prototype.handleCredentialChange=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(d("RemoteStore","RemoteStore restarting streams for new credential"),this.networkEnabled=!1,[4,this.disableNetworkInternal()]):[3,3];case 1:return t.sent(),this.onlineStateTracker.set(oi.Unknown),[4,this.enableNetwork()];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t.prototype.applyPrimaryState=function(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(oi.Unknown),e.label=4;case 4:return[2]}})})},t}(),vi=function(){return function(){this.listeners=[]}}(),gi=function(){function t(t){this.syncEngine=t,this.queries=new Hn(function(t){return t.canonicalId()}),this.onlineState=oi.Unknown,this.syncEngine.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new vi,this.queries.set(e,r)),r.listeners.push(t),t.applyOnlineStateChange(this.onlineState),r.viewSnap&&t.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return s.__generator(this,function(o){return e=t.query,n=!1,(r=this.queries.get(e))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onWatchChange=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=r.query,o=this.queries.get(i);if(o){for(var a=0,s=o.listeners;a<s.length;a++){s[a].onViewSnapshot(r)}o.viewSnap=r}}},t.prototype.onWatchError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++){i[r].onError(e)}this.queries.delete(t)},t.prototype.onOnlineStateChange=function(t){this.onlineState=t,this.queries.forEach(function(e,n){for(var r=0,i=n.listeners;r<i.length;r++){i[r].applyOnlineStateChange(t)}})},t}(),bi=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=oi.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(g(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==Me.Metadata&&e.push(i)}t=new qe(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){if(g(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache)return!0;var n=e!==oi.Offline;return this.options.waitForSyncWhenOnline&&n?(g(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===oi.Offline},t.prototype.shouldRaiseEvent=function(t){if(t.docChanges.length>0)return!0;var e=this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(t){g(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=qe.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},t}(),wi=function(){function t(t,e,n){this.targetId=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e,n){for(var r=Ne(),i=Ne(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case Me.Added:r=r.add(s.doc.key);break;case Me.Removed:i=i.add(s.doc.key)}}return new t(e,r,i)},t}(),Ei=function(){return function(t){this.key=t}}(),Ti=function(){return function(t){this.key=t}}(),Si=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=Ne(),this.mutatedKeys=Ne(),this.documentSet=new Ue(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new Ve,i=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(t.inorderTraversal(function(t,e){var c=i.get(t),l=e instanceof dt?e:null;l&&(g(t.isEqual(l.key),"Mismatching keys found in document changes: "+t+" != "+l.key),l=n.query.matches(l)?l:null);var f=!!c&&n.mutatedKeys.has(c.key),h=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),p=!1;c&&l?c.data.isEqual(l.data)?f!==h&&(r.track({type:Me.Metadata,doc:l}),p=!0):n.shouldWaitForSyncedDocument(c,l)||(r.track({type:Me.Modified,doc:l}),p=!0,u&&n.query.docComparator(l,u)>0&&(s=!0)):!c&&l?(r.track({type:Me.Added,doc:l}),p=!0):c&&!l&&(r.track({type:Me.Removed,doc:c}),p=!0,u&&(s=!0));p&&(l?(a=a.add(l),o=h?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),this.query.hasLimit())for(;a.size>this.query.limit;){var c=a.last();a=a.delete(c.key),o=o.delete(c.key),r.track({type:Me.Removed,doc:c})}return g(!s||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},t.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this;g(!t.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var o=t.changeSet.getChanges();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case Me.Added:return 1;case Me.Modified:case Me.Metadata:return 2;case Me.Removed:return 0;default:return v("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(n);var a=e?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current?je.Synced:je.Local,u=s!==this.syncState;return this.syncState=s,0!==o.length||u?{snapshot:new qe(this.query,t.documentSet,i,o,t.mutatedKeys,s===je.Local,u,!1),limboChanges:a}:{limboChanges:a}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===oi.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Ve,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&(!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations)},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.add(t)}),t.modifiedDocuments.forEach(function(t){return g(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")}),t.removedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)}),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=Ne(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new Ti(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new Ei(t))}),n},t.prototype.synchronizeWithPersistedState=function(t,e){this._syncedDocuments=e,this.limboDocuments=Ne();var n=this.computeDocChanges(t);return this.applyChanges(n,!0)},t.prototype.computeInitialSnapshot=function(){return qe.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===je.Local)},t}();var _i=function(){return function(t,e,n){this.query=t,this.targetId=e,this.view=n}}(),Ii=function(){return function(t){this.key=t}}(),Ai=function(){function t(t,e,n,r){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new Hn(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new vt(ht.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Qr,this.mutationUserCallbacks={},this.limboTargetIdGenerator=Mn.forSyncEngine(),this.isPrimary=void 0,this.onlineState=oi.Unknown}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){g(null!==t,"SyncEngine listener cannot be null"),g(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},t.prototype.listen=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o;return s.__generator(this,function(a){switch(a.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(t))?(e=r.targetId,this.sharedClientState.addLocalQueryTarget(e),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(t)];case 2:return i=a.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),e=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===o)];case 3:n=a.sent(),this.isPrimary&&this.remoteStore.listen(i),a.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}})})},t.prototype.initializeViewAndComputeSnapshot=function(t,e){var n=this,r=t.query;return this.localStore.executeQuery(r).then(function(i){return n.localStore.remoteDocumentKeys(t.targetId).then(function(o){var a=new Si(r,o),s=a.computeDocChanges(i),u=We.createSynthesizedTargetChangeForCurrentChange(t.targetId,e&&n.onlineState!==oi.Offline),c=a.applyChanges(s,!0===n.isPrimary,u);g(0===c.limboChanges.length,"View returned limbo docs before target ack from the server."),g(!!c.snapshot,"applyChanges for new view should always return a snapshot");var l=new _i(r,t.targetId,a);return n.queryViewsByQuery.set(r,l),n.queryViewsByTarget[t.targetId]=l,c.snapshot})})},t.prototype.synchronizeViewAndComputeSnapshot=function(t){var e=this;return this.localStore.executeQuery(t.query).then(function(n){return e.localStore.remoteDocumentKeys(t.targetId).then(function(r){return s.__awaiter(e,void 0,void 0,function(){var e;return s.__generator(this,function(i){return e=t.view.synchronizeWithPersistedState(n,r),this.isPrimary&&this.updateTrackedLimbos(t.targetId,e.limboChanges),[2,e]})})})})},t.prototype.unlisten=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n=this;return s.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),g(!!(e=this.queryViewsByQuery.get(t)),"Trying to unlisten on query not found:"+t),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseQuery(t,!1).then(function(){n.sharedClientState.clearQueryState(e.targetId),n.remoteStore.unlisten(e.targetId),n.removeAndCleanupQuery(e)}).catch(Vr)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(e),[4,this.localStore.releaseQuery(t,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then(function(t){return n.sharedClientState.addPendingMutation(t.batchId),n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),g(e>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var e=t(r);return!qt(e)&&e.catch&&e.then?e.catch(function(t){return Promise.reject(n.wrapUpdateFunctionError(t))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(i){return Promise.reject(n.wrapUpdateFunctionError(i))}}().then(function(i){return r.commit().then(function(){return i}).catch(function(r){return 0===e?Promise.reject(r):n.runTransaction(t,e-1)})})},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),this.localStore.applyRemoteEvent(t).then(function(n){return O(t.targetChanges,function(t,n){var r=e.limboResolutionsByTarget[t];r&&(g(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),n.addedDocuments.size>0?r.receivedDocument=!0:n.modifiedDocuments.size>0?g(r.receivedDocument,"Received change for limbo target document without add."):n.removedDocuments.size>0&&(g(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))}),e.emitNewSnapsAndNotifyLocalStore(n,t)}).catch(Vr)},t.prototype.applyOnlineStateChange=function(t,e){if(this.isPrimary&&e===ai.RemoteStore||!this.isPrimary&&e===ai.SharedClientState){var n=[];this.queryViewsByQuery.forEach(function(e,r){var i=r.view.applyOnlineStateChange(t);g(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)}),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(n),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},t.prototype.rejectListen=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var n,r,i,o,a,u,c=this;return s.__generator(this,function(s){switch(s.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(t,"rejected",e),n=this.limboResolutionsByTarget[t],(r=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[t],i=(i=new vt(ht.comparator)).insert(r,new yt(r,ee.forDeletedDoc())),o=Ne().add(r),a=new Be(ee.MIN,{},new ie(G),i,o),[2,this.applyRemoteEvent(a)]):[3,1];case 1:return g(!!(u=this.queryViewsByTarget[t]),"Unknown targetId: "+t),[4,this.localStore.releaseQuery(u.query,!1).then(function(){return c.removeAndCleanupQuery(u)}).catch(Vr)];case 2:s.sent(),this.syncEngineListener.onWatchError(u.query,e),s.label=3;case 3:return[2]}})})},t.prototype.applyBatchState=function(t,e,n){return s.__awaiter(this,void 0,void 0,function(){var r;return s.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return null===(r=i.sent())?(d("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(t,n||null),this.localStore.removeCachedMutationBatchMetadata(t)):v("Unknown batchState: "+e),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}})})},t.prototype.applySuccessfulWrite=function(t){var e=this;this.assertSubscribed("applySuccessfulWrite()");var n=t.batch.batchId;return this.processUserCallback(n,null),this.localStore.acknowledgeBatch(t).then(function(t){return e.sharedClientState.updateMutationState(n,"acknowledged"),e.emitNewSnapsAndNotifyLocalStore(t)}).catch(Vr)},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then(function(r){return n.sharedClientState.updateMutationState(t,"rejected",e),n.emitNewSnapsAndNotifyLocalStore(r)}).catch(Vr)},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new vt(G)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(g(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){var e=this;if(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(t.targetId);this.limboDocumentRefs.removeReferencesForId(t.targetId),n.forEach(function(t){e.limboDocumentRefs.containsKey(t)||e.removeLimboTarget(t)})}},t.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i instanceof Ei)this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i);else if(i instanceof Ti){d("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,t),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)}else v("Unknown limbo change: "+JSON.stringify(i))}},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){d("SyncEngine","New document in limbo: "+e);var n=this.limboTargetIdGenerator.next(),r=zt.atPath(e.path);this.limboResolutionsByTarget[n]=new Ii(e),this.remoteStore.listen(new re(r,n,Wt.LimboResolution,hn.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var n,r,i,o=this;return s.__generator(this,function(a){switch(a.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach(function(a,s){i.push(Promise.resolve().then(function(){var e=s.view.computeDocChanges(t);return e.needsRefill?o.localStore.executeQuery(s.query).then(function(t){return s.view.computeDocChanges(t,e)}):e}).then(function(t){var i=e&&e.targetChanges[s.targetId],a=s.view.applyChanges(t,!0===o.isPrimary,i);if(o.updateTrackedLimbos(s.targetId,a.limboChanges),a.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(s.targetId,a.snapshot.fromCache?"not-current":"current"),n.push(a.snapshot);var u=wi.fromSnapshot(s.targetId,a.snapshot);r.push(u)}}))}),[4,Promise.all(i)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return a.sent(),[2]}})})},t.prototype.assertSubscribed=function(t){g(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleCredentialChange=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n;return s.__generator(this,function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?[4,this.localStore.handleUserChange(t)]:[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}})})},t.prototype.applyPrimaryState=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o,a,u,c=this;return s.__generator(this,function(s){switch(s.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return s.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(n=s.sent(),r=0,i=n;r<i.length;r++)o=i[r],this.remoteStore.listen(o);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,a=[],u=Promise.resolve(),A(this.queryViewsByTarget,function(t,e){c.sharedClientState.isLocalQueryTarget(t)?a.push(t):u=u.then(function(){return c.unlisten(e.query)}),c.remoteStore.unlisten(e.targetId)}),[4,u]);case 4:return s.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)];case 5:return s.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:s.sent(),s.label=7;case 7:return[2]}})})},t.prototype.resetLimboDocuments=function(){var t=this;A(this.limboResolutionsByTarget,function(e){t.remoteStore.unlisten(e)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new vt(ht.comparator)},t.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){for(var e=this,n=Promise.resolve(),r=[],i=[],o=function(t){n=n.then(function(){return s.__awaiter(e,void 0,void 0,function(){var e,n,o,a;return s.__generator(this,function(s){switch(s.label){case 0:return(n=this.queryViewsByTarget[t])?[4,this.localStore.releaseQuery(n.query,!0)]:[3,4];case 1:return s.sent(),[4,this.localStore.allocateQuery(n.query)];case 2:return e=s.sent(),[4,this.synchronizeViewAndComputeSnapshot(n)];case 3:return(o=s.sent()).snapshot&&i.push(o.snapshot),[3,8];case 4:return g(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(t)];case 5:return g(!!(a=s.sent()),"Query data for target "+t+" not found"),[4,this.localStore.allocateQuery(a)];case 6:return e=s.sent(),[4,this.initializeViewAndComputeSnapshot(e,!1)];case 7:s.sent(),s.label=8;case 8:return r.push(e),[2]}})})})},a=0,u=t;a<u.length;a++){o(u[a])}return n.then(function(){return e.syncEngineListener.onWatchChange(i),r})},t.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},t.prototype.applyTargetState=function(t,e,n){return s.__awaiter(this,void 0,void 0,function(){var r,i=this;return s.__generator(this,function(o){switch(o.label){case 0:if(this.isPrimary)return d("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[t])return[3,5];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,2]}return[3,4];case 1:return[2,this.localStore.getNewDocumentChanges().then(function(n){return s.__awaiter(i,void 0,void 0,function(){var r;return s.__generator(this,function(i){switch(i.label){case 0:return r=Be.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(n,r)];case 1:return i.sent(),[2]}})})},function(t){return s.__awaiter(i,void 0,void 0,function(){var e;return s.__generator(this,function(n){switch(n.label){case 0:return function(t){return t.code===E.DATA_LOSS&&t.message===Yn}(t)?(e=[],A(this.queryViewsByTarget,function(t){return e.push(t)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e)]):[3,2];case 1:return n.sent(),[3,3];case 2:throw t;case 3:return[2]}})})})];case 2:return r=this.queryViewsByTarget[t],this.removeAndCleanupQuery(r),[4,this.localStore.releaseQuery(r.query,!0)];case 3:return o.sent(),this.syncEngineListener.onWatchError(r.query,n),[3,5];case 4:v("Unexpected target state: "+e),o.label=5;case 5:return[2]}})})},t.prototype.applyActiveTargetsChange=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var n,r,i,o,a,u,c,l,f,h=this;return s.__generator(this,function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,p.label=1;case 1:return n<r.length?(f=r[n],g(!this.queryViewsByTarget[f],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(f)]):[3,6];case 2:return g(!!(i=p.sent()),"Query data for active target "+f+" not found"),[4,this.localStore.allocateQuery(i)];case 3:return o=p.sent(),[4,this.initializeViewAndComputeSnapshot(o,!1)];case 4:p.sent(),this.remoteStore.listen(o),p.label=5;case 5:return n++,[3,1];case 6:a=function(t){var e;return s.__generator(this,function(n){switch(n.label){case 0:return(e=u.queryViewsByTarget[t])?[4,u.localStore.releaseQuery(e.query,!1).then(function(){h.remoteStore.unlisten(t),h.removeAndCleanupQuery(e)}).catch(Vr)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})},u=this,c=0,l=e,p.label=7;case 7:return c<l.length?(f=l[c],[5,a(f)]):[3,10];case 8:p.sent(),p.label=9;case 9:return c++,[3,7];case 10:return[2]}})})},t.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},t.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];return e&&e.receivedDocument?Ne().add(e.key):this.queryViewsByTarget[t]?this.queryViewsByTarget[t].view.syncedDocuments:Ne()},t}(),Oi=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),Ci="SharedClientState",xi="firestore_clients",ki="firestore_mutations",Pi="firestore_targets",Di="firestore_online_state",Ni="firestore_sequence_number",Ri=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,g(void 0!==r===("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n,r){var i=JSON.parse(r),o="object"===typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"===typeof i.error),a=void 0;return o&&i.error&&(o="string"===typeof i.error.message&&"string"===typeof i.error.code)&&(a=new T(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(y(Ci,"Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Li=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,g(void 0!==n===("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n){var r=JSON.parse(n),i="object"===typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"===typeof r.error),o=void 0;return i&&r.error&&(i="string"===typeof r.error.message&&"string"===typeof r.error.code)&&(o=new T(r.error.code,r.error.message)),i?new t(e,r.state,o):(y(Ci,"Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Mi=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.fromWebStorageEntry=function(e,n){for(var r=JSON.parse(n),i="object"===typeof r&&r.activeTargetIds instanceof Array,o=Le(),a=0;i&&a<r.activeTargetIds.length;++a)i=Bt(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(y(Ci,"Failed to parse client data for instance '"+e+"': "+n),null)},t}(),ji=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.fromWebStorageEntry=function(e){var n=JSON.parse(e);return"object"===typeof n&&void 0!==oi[n.onlineState]&&"string"===typeof n.clientId?new t(n.clientId,oi[n.onlineState]):(y(Ci,"Failed to parse online state: "+e),null)},t}(),Ui=function(){function t(){this.activeTargetIds=Le()}return t.prototype.addQueryTarget=function(t){g(!this.activeTargetIds.has(t),"Target with ID '"+t+"' already active."),this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.toWebStorageJSON=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Fi=function(){function t(e,n,r,i,o){if(this.queue=e,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!t.isAvailable(this.platform))throw new T(E.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=Ni+"_"+r,this.activeClients[this.localClientId]=new Ui,this.clientStateKeyRe=new RegExp("^"+xi+"_"+a+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+ki+"_"+a+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Pi+"_"+a+"_(\\d+)$"),this.onlineStateKey=Di+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return t.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return s.__awaiter(this,void 0,void 0,function(){var t,e,n,r,i,o,a,u,c,l,f,h=this;return s.__generator(this,function(s){switch(s.label){case 0:return g(!this.started,"WebStorageSharedClientState already started"),g(null!==this.syncEngine,"syncEngine property must be set before calling start()"),g(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(t=s.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(o=Mi.fromWebStorageEntry(r,i))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),(a=this.storage.getItem(this.onlineStateKey))&&(u=this.fromWebStorageOnlineState(a))&&this.handleOnlineStateEvent(u),c=0,l=this.earlyEvents;c<l.length;c++)f=l[c],this.handleWebStorageEvent(f);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return h.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){var t=Le();return O(this.activeClients,function(e,n){t=t.unionWith(n.activeTargetIds)}),t},t.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},t.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(t));if(n){var r=Li.fromWebStorageEntry(t,n);r&&(e=r.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},t.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},t.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(this.toWebStorageQueryTargetMetadataKey(t))},t.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.removeMutationState(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.persistOnlineState(t)},t.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return d(Ci,"READ",t,e),e},t.prototype.setItem=function(t,e){d(Ci,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){d(Ci,"REMOVE",t),this.storage.removeItem(t)},t.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(d(Ci,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey)return void y("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return s.__awaiter(e,void 0,void 0,function(){var e,n,r,i,o,a;return s.__generator(this,function(s){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return n=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(r=this.fromWebStorageMutationMetadata(t.key,t.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(i=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(o=this.fromWebStorageOnlineState(t.newValue)))return[2,this.handleOnlineStateEvent(o)]}else t.key===this.sequenceNumberKey&&(g(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(a=function(t){var e=hn.INVALID;if(null!=t)try{var n=JSON.parse(t);g("number"===typeof n,"Found non-numeric sequence number"),e=n}catch(r){y(Ci,"Failed to read sequence number from WebStorage",r)}return e}(t.newValue))!==hn.INVALID&&this.sequenceNumberHandler(a));return[2]})})})}},Object.defineProperty(t.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),t.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},t.prototype.persistMutationState=function(t,e,n){var r=new Ri(this.currentUser,t,e,n),i=this.toWebStorageMutationBatchKey(t);this.setItem(i,r.toWebStorageJSON())},t.prototype.removeMutationState=function(t){var e=this.toWebStorageMutationBatchKey(t);this.removeItem(e)},t.prototype.persistOnlineState=function(t){var e={clientId:this.localClientId,onlineState:oi[t]};this.storage.setItem(this.onlineStateKey,JSON.stringify(e))},t.prototype.persistQueryTargetState=function(t,e,n){var r=this.toWebStorageQueryTargetMetadataKey(t),i=new Li(t,e,n);this.setItem(r,i.toWebStorageJSON())},t.prototype.toWebStorageClientStateKey=function(t){return g(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),xi+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageQueryTargetMetadataKey=function(t){return Pi+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageMutationBatchKey=function(t){var e=ki+"_"+this.persistenceKey+"_"+t;return this.currentUser.isAuthenticated()&&(e+="_"+this.currentUser.uid),e},t.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},t.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return g(null!==n,"Cannot parse client state key '"+t+"'"),Mi.fromWebStorageEntry(n,e)},t.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);g(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Ri.fromWebStorageEntry(new Oi(i),r,e)},t.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);g(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return Li.fromWebStorageEntry(r,e)},t.prototype.fromWebStorageOnlineState=function(t){return ji.fromWebStorageEntry(t)},t.prototype.handleMutationBatchEvent=function(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){return t.user.uid!==this.currentUser.uid?(d(Ci,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]})})},t.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},t.prototype.handleClientStateEvent=function(t,e){var n=this,r=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var i=this.getAllActiveQueryTargets(),o=[],a=[];return i.forEach(function(t){return s.__awaiter(n,void 0,void 0,function(){return s.__generator(this,function(e){return r.has(t)||o.push(t),[2]})})}),r.forEach(function(t){return s.__awaiter(n,void 0,void 0,function(){return s.__generator(this,function(e){return i.has(t)||a.push(t),[2]})})}),this.syncEngine.applyActiveTargetsChange(o,a)},t.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},t}();var Vi=function(){function t(){this.localState=new Ui,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},t.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.queryState[t]},t.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.start=function(){return this.localState=new Ui,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t}(),qi=function(){function t(t,e){this.cacheSizeBytes=t,this.experimentalTabSynchronization=e}return t.prototype.lruParams=function(){return kr.withCacheSize(this.cacheSizeBytes)},t}(),Bi=function(){return function(){}}(),Wi=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r,this.clientId=H.newId()}return t.prototype.start=function(t){var e=this,n=new pn,r=new pn,i=!1;return this.credentials.setChangeListener(function(o){i?e.asyncQueue.enqueueAndForget(function(){return e.handleCredentialChange(o)}):(i=!0,e.initializePersistence(t,r,o).then(function(t){return e.initializeRest(o,t)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.syncEngine.enableNetwork()})},t.prototype.initializePersistence=function(t,e,n){var r=this;return t instanceof qi?this.startIndexedDbPersistence(n,t).then(function(t){return e.resolve(),t}).catch(function(t){if(e.reject(t),!r.canFallback(t))throw t;return console.warn("Error enabling offline storage. Falling back to storage disabled: "+t),r.startMemoryPersistence()}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof T?t.code===E.FAILED_PRECONDITION||t.code===E.UNIMPLEMENTED:!("undefined"!==typeof DOMException&&t instanceof DOMException)||(22===t.code||20===t.code)},t.prototype.startIndexedDbPersistence=function(t,e){var n=this,r=Fr.buildStoragePrefix(this.databaseInfo),i=new nn(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return s.__awaiter(n,void 0,void 0,function(){var n,o;return s.__generator(this,function(a){switch(a.label){case 0:if(e.experimentalTabSynchronization&&!Fi.isAvailable(this.platform))throw new T(E.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return o=e.lruParams(),e.experimentalTabSynchronization?(this.sharedClientState=new Fi(this.asyncQueue,this.platform,r,this.clientId,t),[4,Fr.createMultiClientIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,o,{sequenceNumberSyncer:this.sharedClientState})]):[3,2];case 1:return n=a.sent(),[3,4];case 2:return this.sharedClientState=new Vi,[4,Fr.createIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,o)];case 3:n=a.sent(),a.label=4;case 4:return this.persistence=n,[2,n.referenceDelegate.garbageCollector]}})})})},t.prototype.startMemoryPersistence=function(){return this.persistence=ti.createEagerPersistence(this.clientId),this.sharedClientState=new Vi,Promise.resolve(null)},t.prototype.initializeRest=function(t,e){var n=this;return d("FirestoreClient","Initializing. user=",t.uid),this.platform.loadConnection(this.databaseInfo).then(function(r){return s.__awaiter(n,void 0,void 0,function(){var n,i,o,a,u=this;return s.__generator(this,function(c){switch(c.label){case 0:return this.localStore=new Gr(this.persistence,t),e&&(this.lruScheduler=new Pr(e,this.asyncQueue,this.localStore)),n=this.platform.newSerializer(this.databaseInfo.databaseId),i=new pi(this.asyncQueue,r,this.credentials,n),o=function(t){return u.syncEngine.applyOnlineStateChange(t,ai.RemoteStore)},a=function(t){return u.syncEngine.applyOnlineStateChange(t,ai.SharedClientState)},this.remoteStore=new mi(this.localStore,i,this.asyncQueue,o),this.syncEngine=new Ai(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=a,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new gi(this.syncEngine),[4,this.sharedClientState.start()];case 1:return c.sent(),[4,this.remoteStore.start()];case 2:return c.sent(),[4,this.persistence.setPrimaryStateListener(function(t){return s.__awaiter(u,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return[4,this.syncEngine.applyPrimaryState(t)];case 1:return e.sent(),this.lruScheduler&&(t&&!this.lruScheduler.started?this.lruScheduler.start():t||this.lruScheduler.stop()),[2]}})})})];case 3:return c.sent(),[2]}})})})},t.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),d("FirestoreClient","Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.syncEngine.disableNetwork()})},t.prototype.shutdown=function(t){var e=this;return this.asyncQueue.enqueue(function(){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return e.sent(),[4,this.sharedClientState.shutdown()];case 2:return e.sent(),[4,this.persistence.shutdown(t&&t.purgePersistenceWithDataLoss)];case 3:return e.sent(),this.credentials.removeChangeListener(),[2]}})})})},t.prototype.listen=function(t,e,n){var r=this,i=new bi(t,e,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(i)}),i},t.prototype.unlisten=function(t){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.unlisten(t)})},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.localStore.readDocument(t)}).then(function(t){if(t instanceof dt)return t;if(t instanceof yt)return null;throw new T(E.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.localStore.executeQuery(t)}).then(function(e){var n=Ne(),r=new Si(t,n),i=r.computeDocChanges(e);return r.applyChanges(i,!1).snapshot})},t.prototype.write=function(t){var e=this,n=new pn;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.transaction=function(t){var e=this;return this.asyncQueue.enqueue(function(){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(t){return[2]})})}).then(function(){return e.syncEngine.runTransaction(t)})},t}(),zi=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Ki=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,r){if(!(e instanceof Array)||e.length<r)throw new T(E.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" argument to be an array with at least "+Q(r,"element")+".")}("FieldPath",t,"fieldNames",1);for(var n=0;n<t.length;++n)if(N("FieldPath","string",n,t[n]),0===t[n].length)throw new T(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(ft.keyField().canonicalString()),t}(),Qi=new RegExp("[~\\*/\\[\\]]");var Hi=function(){return function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}}(),Gi=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){g(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t(Oi.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){g(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},t}(),Yi=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.changeListener&&e.changeListener(e.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(){var t=this;g(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(t.tokenCounter!==e)throw new T(E.ABORTED,"getToken aborted due to token change.");return n?(g("string"===typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Hi(n.accessToken,t.currentUser)):null})},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){g(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){g(null!=this.tokenListener,"removeChangeListener() called twice"),g(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},t.prototype.getUser=function(){var t=this.app.INTERNAL.getUid();return g(null===t||"string"===typeof t,"Received invalid UID: "+t),new Oi(t)},t}(),Xi=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=Oi.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.sessionIndex},e=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),$i=function(){function t(t,e){this.gapi=t,this.sessionIndex=e}return t.prototype.getToken=function(){return Promise.resolve(new Xi(this.gapi,this.sessionIndex))},t.prototype.setChangeListener=function(t){t(Oi.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Ji(t){return function(t,e){if("object"!==typeof t||null===t)return!1;for(var n=t,r=0,i=e;r<i.length;r++){var o=i[r];if(o in n&&"function"===typeof n[o])return!0}return!1}(t,["next","error","complete"])}var Zi,to=function(){function t(t){this._methodName=t}return t.delete=function(){return x("FieldValue.delete",arguments),eo.instance},t.serverTimestamp=function(){return x("FieldValue.serverTimestamp",arguments),no.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return P("FieldValue.arrayUnion",arguments,1),new ro(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return P("FieldValue.arrayRemove",arguments,1),new io(t)},t.increment=function(t){return N("FieldValue.increment","number",1,t),k("FieldValue.increment",arguments,1),new oo(t)},t.prototype.isEqual=function(t){return this===t},t}(),eo=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return s.__extends(e,t),e.instance=new e,e}(to),no=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return s.__extends(e,t),e.instance=new e,e}(to),ro=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return s.__extends(e,t),e}(to),io=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return s.__extends(e,t),e}(to),oo=function(t){function e(e){var n=t.call(this,"FieldValue.increment")||this;return n._operand=e,n}return s.__extends(e,t),e}(to),ao=S(to,"Use FieldValue.<field>() instead."),so=/^__.*__$/,uo=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return null!==this.fieldMask?n.push(new he(t,this.data,this.fieldMask,e)):n.push(new fe(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new pe(t,this.fieldTransforms)),n},t}(),co=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new he(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new pe(t,this.fieldTransforms)),n},t}();function lo(t){switch(t){case Zi.Set:case Zi.MergeSet:case Zi.Update:return!0;case Zi.Argument:return!1;default:throw v("Unexpected case for UserDataSource: "+t)}}!function(t){t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument"}(Zi||(Zi={}));var fo=function(){function t(t,e,n,r,i,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new T(E.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(lo(this.dataSource)&&so.test(t))throw this.createError("Document fields cannot begin and end with __")},t}(),ho=function(){return function(t,e){this.databaseId=t,this.key=e}}(),po=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new fo(Zi.Set,t,ft.EMPTY_PATH);mo("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new uo(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var r=new fo(Zi.MergeSet,t,ft.EMPTY_PATH);mo("Data must be an object, but it was:",r,e);var i,o,a=this.parseData(e,r);if(n){for(var s=new ie(ft.comparator),u=0,c=n;u<c.length;u++){var l=c[u],f=void 0;if(l instanceof Ki)f=l._internalPath;else{if("string"!==typeof l)throw v("Expected stringOrFieldPath to be a string or a FieldPath");f=go(t,l)}if(!r.contains(f))throw new T(E.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");s=s.add(f)}i=ae.fromSet(s),o=r.fieldTransforms.filter(function(t){return i.covers(t.field)})}else i=ae.fromArray(r.fieldMask),o=r.fieldTransforms;return new uo(a,i,o)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new fo(Zi.Update,t,ft.EMPTY_PATH);mo("Data must be an object, but it was:",r,e);var i=new ie(ft.comparator),o=Lt.EMPTY;O(e,function(e,a){var s=go(t,e),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof eo)i=i.add(s);else{var c=n.parseData(a,u);null!=c&&(i=i.add(s),o=o.set(s,c))}});var a=ae.fromSet(i);return new co(o,a,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new fo(Zi.Update,t,ft.EMPTY_PATH),o=[vo(t,e)],a=[n];if(r.length%2!==0)throw new T(E.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(vo(t,r[s])),a.push(r[s+1]);var u=new ie(ft.comparator),c=Lt.EMPTY;for(s=0;s<o.length;++s){var l=o[s],f=i.childContextForFieldPath(l),h=this.runPreConverter(a[s],f);if(h instanceof eo)u=u.add(l);else{var p=this.parseData(h,f);null!=p&&(u=u.add(l),c=c.set(l,p))}}var d=ae.fromSet(u);return new co(c,d,i.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new fo(Zi.Argument,t,ft.EMPTY_PATH),r=this.parseData(e,n);return g(null!=r,"Parsed data should not be null."),g(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(r){var n=bo(r);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(yo(t=this.runPreConverter(t,e)))return mo("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof to)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,r=new vt(G);return C(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):O(t,function(t,i){var o=n.parseData(i,e.childContextForField(t));null!=o&&(r=r.insert(t,o))}),new Lt(r)},t.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=o[i],s=this.parseData(a,e.childContextForArray(r));null==s&&(s=St.INSTANCE),n.push(s),r++}return new Mt(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!lo(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof eo){if(e.dataSource!==Zi.MergeSet)throw e.dataSource===Zi.Update?(g(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof no)e.fieldTransforms.push(new se(e.path,ye.instance));else if(t instanceof ro){var n=this.parseArrayTransformElements(t._methodName,t._elements),r=new me(n);e.fieldTransforms.push(new se(e.path,r))}else if(t instanceof io){n=this.parseArrayTransformElements(t._methodName,t._elements);var i=new ve(n);e.fieldTransforms.push(new se(e.path,i))}else if(t instanceof oo){var o=this.parseQueryValue("FieldValue.increment",t._operand),a=new ge(o);e.fieldTransforms.push(new se(e.path,a))}else v("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return St.INSTANCE;if("number"===typeof t)return Bt(t)?new Ot(t):new Ct(t);if("boolean"===typeof t)return _t.of(t);if("string"===typeof t)return new xt(t);if(t instanceof Date)return new kt(it.fromDate(t));if(t instanceof it)return new kt(new it(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof rt)return new Rt(t);if(t instanceof et)return new Dt(t);if(t instanceof ho)return new Nt(t.databaseId,t.key);throw e.createError("Unsupported field value: "+q(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map(function(e,r){var i=new fo(Zi.Argument,t,ft.EMPTY_PATH);return n.parseData(e,i.childContextForArray(r))})},t}();function yo(t){return"object"===typeof t&&null!==t&&!(t instanceof Array)&&!(t instanceof Date)&&!(t instanceof it)&&!(t instanceof rt)&&!(t instanceof et)&&!(t instanceof ho)&&!(t instanceof to)}function mo(t,e,n){if(!yo(n)||!V(n)){var r=q(n);throw"an object"===r?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function vo(t,e){if(e instanceof Ki)return e._internalPath;if("string"===typeof e)return go(t,e);throw new T(E.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function go(t,e){try{return function(t){if(t.search(Qi)>=0)throw new T(E.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Ki.bind.apply(Ki,[void 0].concat(t.split("."))))}catch(e){throw new T(E.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(r){var n=bo(r);throw new T(E.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function bo(t){return t instanceof Error?t.message:t.toString()}var wo="firestore.googleapis.com",Eo=!0,To=!0,So=kr.COLLECTION_DISABLED,_o=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new T(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wo,this.ssl=Eo}else L("settings","non-empty string","host",t.host),this.host=t.host,M("settings","boolean","ssl",t.ssl),this.ssl=I(t.ssl,Eo);if(W("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes"]),M("settings","object","credentials",t.credentials),this.credentials=t.credentials,M("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?y("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&y("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=I(t.timestampsInSnapshots,To),M("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=kr.DEFAULT_CACHE_SIZE_BYTES;else{if(t.cacheSizeBytes!==So&&t.cacheSizeBytes<kr.MINIMUM_CACHE_SIZE_BYTES)throw new T(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+kr.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=t.cacheSizeBytes}}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes},t}(),Io=function(){return function(){}}(),Ao=function(){function t(e){var n=this;this._queue=new yn,this.INTERNAL={delete:function(t){return s.__awaiter(n,void 0,void 0,function(){return s.__generator(this,function(e){return this._firestoreClient?[2,this._firestoreClient.shutdown(t)]:[2]})})}};var r=new Io;if("object"===typeof e.options){var i=e;r.firebaseApp=i,r.databaseId=t.databaseIdFromApp(i),r.persistenceKey=r.firebaseApp.name,r.credentials=new Yi(i)}else{var o=e;if(!o.projectId)throw new T(E.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new st(o.projectId,o.database),r.persistenceKey="[DEFAULT]",r.credentials=new Gi}r.settings=new _o({}),this._config=r,this._databaseId=r.databaseId}return t.prototype.settings=function(t){if(k("Firestore.settings",arguments,1),N("Firestore.settings","object",1,t),_(t,"persistence"))throw new T(E.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new _o(t);if(this._firestoreClient&&!this._config.settings.isEqual(e))throw new T(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=function(t){if(!t)return new Gi;switch(t.type){case"gapi":var e=t.client;return g(!("object"!==typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new $i(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new T(E.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new T(E.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(new qi(this._config.settings.cacheSizeBytes,void 0!==t&&I(t.experimentalTabSynchronization,!1)))},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Bi),this._firestoreClient},t.prototype.configureClient=function(t){var e=this;g(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),g(!this._firestoreClient,"configureClient() called multiple times");var n=new ot(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl);return this._dataConverter=new po(function(t){if(t instanceof xo){var n=e._config.databaseId,r=t.firestore._config.databaseId;if(!r.isEqual(n))throw new T(E.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new ho(e._config.databaseId,t._key)}return t}),this._firestoreClient=new Wi(b.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!_(e,"projectId"))throw new T(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!==typeof n)throw new T(E.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new st(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new T(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return k("Firestore.collection",arguments,1),N("Firestore.collection","non-empty string",1,t),this.ensureClientConfigured(),new Lo(ct.fromString(t),this)},t.prototype.doc=function(t){return k("Firestore.doc",arguments,1),N("Firestore.doc","non-empty string",1,t),this.ensureClientConfigured(),xo.forPath(ct.fromString(t),this)},t.prototype._collectionGroup=function(t){if(k("Firestore.collectionGroup",arguments,1),N("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new T(E.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new No(new zt(ct.EMPTY_PATH,t),this)},t.prototype.runTransaction=function(t){var e=this;return k("Firestore.runTransaction",arguments,1),N("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new Oo(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new Co(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(h()){case i.DEBUG:return"debug";case i.ERROR:return"error";case i.SILENT:return"silent";default:return v("Unknown log level: "+h())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(k("Firestore.setLogLevel",arguments,1),N("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":p(i.DEBUG);break;case"error":p(i.ERROR);break;case"silent":p(i.SILENT);break;default:throw new T(E.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},t}(),Oo=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;k("Transaction.get",arguments,1);var n=Fo("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return v("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof yt)return new Po(e._firestore,n._key,null,!1,!1);if(r instanceof dt)return new Po(e._firestore,n._key,r,!1,!1);throw v("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)})},t.prototype.set=function(t,e,n){D("Transaction.set",arguments,2,3);var r=Fo("Transaction.set",t,this._firestore),i=(n=Mo("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,i),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"===typeof e||e instanceof Ki?(P("Transaction.update",arguments,3),r=Fo("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,o)):(k("Transaction.update",arguments,2),r=Fo("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,i),this},t.prototype.delete=function(t){k("Transaction.delete",arguments,1);var e=Fo("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),Co=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){D("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=Fo("WriteBatch.set",t,this._firestore),i=(n=Mo("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(i.toMutations(r._key,ce.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),"string"===typeof e||e instanceof Ki?(P("WriteBatch.update",arguments,3),r=Fo("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,o)):(k("WriteBatch.update",arguments,2),r=Fo("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(i.toMutations(r._key,ce.exists(!0))),this},t.prototype.delete=function(t){k("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=Fo("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new de(e._key,ce.NONE)),this},t.prototype.commit=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new T(E.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),xo=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!==0)throw new T(E.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new ht(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Lo(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(k("DocumentReference.collection",arguments,1),N("DocumentReference.collection","non-empty string",1,t),!t)throw new T(E.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=ct.fromString(t);return new Lo(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){D("DocumentReference.set",arguments,1,2);var n=(e=Mo("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,ce.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"===typeof t||t instanceof Ki?(P("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(k("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,ce.exists(!0)))},t.prototype.delete=function(){return k("DocumentReference.delete",arguments,0),this._firestoreClient.write([new de(this._key,ce.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];D("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!==typeof t[i]||Ji(t[i])||(W("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),M("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Ji(t[i])?n=t[i]:(N("DocumentReference.onSnapshot","function",i,t[i]),R("DocumentReference.onSnapshot","function",i+1,t[i+1]),R("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(o,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new zi({next:function(t){if(e.next){g(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new Po(n.firestore,n._key,r,t.fromCache,t.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen(zt.atPath(this._key.path),i,t);return function(){i.mute(),n._firestoreClient.unlisten(o)}},t.prototype.get=function(t){var e=this;return D("DocumentReference.get",arguments,0,1),Uo("DocumentReference.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then(function(t){n(new Po(e.firestore,e._key,t,!0,t instanceof dt&&t.hasLocalMutations))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new T(E.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new T(E.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t}(),ko=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Po=function(){function t(t,e,n,r,i){this._firestore=t,this._key=e,this._document=n,this._fromCache=r,this._hasPendingWrites=i}return t.prototype.data=function(t){return D("DocumentSnapshot.data",arguments,0,1),t=jo("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data,Et.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if(D("DocumentSnapshot.get",arguments,1,2),e=jo("DocumentSnapshot.get",e),this._document){var n=this._document.data.field(vo("DocumentSnapshot.get",t));if(void 0!==n)return this.convertValue(n,Et.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new xo(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new ko(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,r={};return t.forEach(function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertValue=function(t,e){if(t instanceof Lt)return this.convertObject(t,e);if(t instanceof Mt)return this.convertArray(t,e);if(t instanceof Nt){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||y("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new xo(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map(function(t){return n.convertValue(t,e)})},t}(),Do=function(t){function e(e,n,r,i,o){return t.call(this,e,n,r,i,o)||this}return s.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return g("object"===typeof n,"Document in a QueryDocumentSnapshot should exist"),n},e}(Po),No=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){var i;k("Query.where",arguments,3),N("Query.where","non-empty string",2,n),B("Query.where",3,r);var o=vo("Query.where",e),a=Qt.fromString(n);if(o.isKeyField()){if(a===Qt.ARRAY_CONTAINS)throw new T(E.INVALID_ARGUMENT,"Invalid Query. You can't perform array-contains queries on FieldPath.documentId() since document IDs are not arrays.");if("string"===typeof r){if(""===r)throw new T(E.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==r.indexOf("/"))throw new T(E.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection by FieldPath.documentId(), the value provided must be a plain document ID, but '"+r+"' contains a slash.");var s=this._query.path.child(ct.fromString(r));if(!ht.isDocumentKey(s))throw new T(E.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+s+"' is not because it has an odd number of segments ("+s.length+").");i=new Nt(this.firestore._databaseId,new ht(s))}else{if(!(r instanceof xo))throw new T(E.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+q(r)+".");var u=r;i=new Nt(this.firestore._databaseId,u._key)}}else i=this.firestore._dataConverter.parseQueryValue("Query.where",r);var c=Kt.create(o,a,i);return this.validateNewFilter(c),new t(this._query.addFilter(c),this.firestore)},t.prototype.orderBy=function(e,n){var r;if(D("Query.orderBy",arguments,1,2),R("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=Xt.ASCENDING;else{if("desc"!==n)throw new T(E.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Xt.DESCENDING}if(null!==this._query.startAt)throw new T(E.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new T(E.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=vo("Query.orderBy",e),o=new Jt(i,r);return this.validateNewOrderBy(o),new t(this._query.addOrderBy(o),this.firestore)},t.prototype.limit=function(e){if(k("Query.limit",arguments,1),N("Query.limit","number",1,e),e<=0)throw new T(E.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(B(t,1,e),e instanceof Po){if(n.length>0)throw new T(E.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new T(E.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i._document,r)}var o=[e].concat(n);return this.boundFromFields(t,o,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new Nt(this.firestore._databaseId,e.key));else{var s=e.field(a.field);if(s instanceof Pt)throw new T(E.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(void 0===s){var u=a.field.canonicalString();throw new T(E.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new $t(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new T(E.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var a=e[o];if(r[o].field.isKeyField()){if("string"!==typeof a)throw new T(E.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(!this._query.isCollectionGroupQuery()&&-1!==a.indexOf("/"))throw new T(E.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this._query.path.child(ct.fromString(a));if(!ht.isDocumentKey(s))throw new T(E.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var u=new ht(s);i.push(new Nt(this.firestore._databaseId,u))}else{var c=this.firestore._dataConverter.parseQueryValue(t,a);i.push(c)}}return new $t(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];D("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!==typeof t[i]||Ji(t[i])||(W("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),M("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Ji(t[i])?n=t[i]:(N("Query.onSnapshot","function",i,t[i]),R("Query.onSnapshot","function",i+1,t[i+1]),R("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new zi({next:function(t){e.next&&e.next(new Ro(n.firestore,n._query,t))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,t);return function(){i.mute(),o.unlisten(a)}},t.prototype.get=function(t){var e=this;return D("Query.get",arguments,0,1),Uo("Query.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then(function(t){n(new Ro(e.firestore,e._query,t))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new T(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.validateNewFilter=function(t){if(t instanceof Ht)if(t.isInequality()){var e=this._query.getInequalityFilterField();if(null!==e&&!e.isEqual(t.field))throw new T(E.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+e.toString()+"' and '"+t.field.toString()+"'");var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(t.field,n)}else if(t.op===Qt.ARRAY_CONTAINS&&this._query.hasArrayContainsFilter())throw new T(E.INVALID_ARGUMENT,"Invalid query. Queries only support a single array-contains filter.")},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new T(E.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Ro=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new ko(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;D("QuerySnapshot.forEach",arguments,1,2),N("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new No(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(W("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),M("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new T(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map(function(e){var o=new Do(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key));return g(e.type===Me.Added,"Invalid event type for first snapshot"),g(!r||n.query.docComparator(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}})}var o=n.oldDocs;return n.docChanges.filter(function(t){return e||t.type!==Me.Metadata}).map(function(e){var r=new Do(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key)),i=-1,a=-1;return e.type!==Me.Added&&(g((i=o.indexOf(e.doc.key))>=0,"Index for document not found"),o=o.delete(e.doc.key)),e.type!==Me.Removed&&(o=o.add(e.doc),a=o.indexOf(e.doc.key)),{type:Vo(e.type),doc:r,oldIndex:i,newIndex:a}})}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new Do(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key))},t}();["length","forEach","map"].concat("undefined"!==typeof Symbol?[Symbol.iterator]:[]).forEach(function(t){try{Object.defineProperty(Ro.prototype.docChanges,t,{get:function(){return function(){throw new T(E.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}});var Lo=function(t){function e(e,n){var r=t.call(this,zt.atPath(e),n)||this;if(e.length%2!==1)throw new T(E.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return s.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new xo(new ht(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(D("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=H.newId()),N("CollectionReference.doc","non-empty string",1,t),""===t)throw new T(E.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=ct.fromString(t);return xo.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){k("CollectionReference.add",arguments,1),N("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(No);function Mo(t,e){if(void 0===e)return{merge:!1};if(W(t,e,["merge","mergeFields"]),M(t,"boolean","merge",e.merge),j(t,"mergeFields","a string or a FieldPath",e.mergeFields,function(t){return"string"===typeof t||t instanceof Ki}),void 0!==e.mergeFields&&void 0!==e.merge)throw new T(E.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function jo(t,e){return void 0===e?{}:(W(t,e,["serverTimestamps"]),U(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Uo(t,e){R(t,"object",1,e),e&&(W(t,e,["source"]),U(t,0,"source",e.source,["default","server","cache"]))}function Fo(t,e,n){if(e instanceof xo){if(e.firestore!==n)throw new T(E.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw z(t,"DocumentReference",1,e)}function Vo(t){switch(t){case Me.Added:return"added";case Me.Modified:case Me.Metadata:return"modified";case Me.Removed:return"removed";default:return v("Unknown change type: "+t)}}var qo=S(Ao,"Use firebase.firestore() instead."),Bo=S(Oo,"Use firebase.firestore().runTransaction() instead."),Wo=S(Co,"Use firebase.firestore().batch() instead."),zo=S(xo,"Use firebase.firestore().doc() instead."),Ko=S(Po),Qo=S(Do),Ho=S(No),Go=S(Ro),Yo=S(Lo,"Use firebase.firestore().collection() instead."),Xo={Firestore:qo,GeoPoint:rt,Timestamp:it,Blob:nt,Transaction:Bo,WriteBatch:Wo,DocumentReference:zo,DocumentSnapshot:Ko,Query:Ho,QueryDocumentSnapshot:Qo,QuerySnapshot:Go,CollectionReference:Yo,FieldPath:Ki,FieldValue:ao,setLogLevel:Ao.setLogLevel,CACHE_SIZE_UNLIMITED:So};function $o(t){t.INTERNAL.registerService("firestore",function(t){return new Ao(t)},function(t){g(t&&"object"===typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(Xo))}function Jo(t){$o(t)}Jo(o),e.registerFirestore=Jo},function(t,e,n){"use strict";n.r(e),n.d(e,"LogLevel",function(){return r}),n.d(e,"Logger",function(){return s}),n.d(e,"setLogLevel",function(){return u});var r,i=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(r||(r={}));var o=r.INFO,a=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString();switch(e){case r.DEBUG:case r.VERBOSE:console.log.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case r.INFO:console.info.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case r.WARN:console.warn.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case r.ERROR:console.error.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},s=function(){function t(t){this.name=t,this._logLevel=o,this._logHandler=a,i.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in r))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.ERROR].concat(t))},t}();function u(t){i.forEach(function(e){e.logLevel=t})}},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return l}),n.d(e,"__generator",function(){return f}),n.d(e,"__exportStar",function(){return h}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return d}),n.d(e,"__spread",function(){return y}),n.d(e,"__await",function(){return m}),n.d(e,"__asyncGenerator",function(){return v}),n.d(e,"__asyncDelegator",function(){return g}),n.d(e,"__asyncValues",function(){return b}),n.d(e,"__makeTemplateObject",function(){return w}),n.d(e,"__importStar",function(){return E}),n.d(e,"__importDefault",function(){return T});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function f(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function h(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"===typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function g(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){(function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)})(r,i,(e=t[n](e)).done,e.value)})}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function T(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"ErrorCode",function(){return He}),n.d(e,"EventType",function(){return Ge}),n.d(e,"WebChannel",function(){return Ye}),n.d(e,"XhrIo",function(){return Xe}),n.d(e,"createWebChannelTransport",function(){return Qe});var r,i="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},o=o||{},a=i;function s(t){return"string"==typeof t}function u(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function c(){}function l(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function f(t){return"array"==l(t)}function h(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),y=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function g(t,e,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:v).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function E(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.re=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function T(){this.i=this.i,this.j=this.j}T.prototype.i=!1,T.prototype.La=function(){if(!this.i&&(this.i=!0,this.G(),0))this[d]||(this[d]=++y)},T.prototype.G=function(){if(this.j)for(;this.j.length;)this.j.shift()()};var S=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(s(t))return s(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},_=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=s(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function I(t){return Array.prototype.concat.apply([],arguments)}function A(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function O(t){return/^[\s\xa0]*$/.test(t)}var C,x=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function k(t,e){return-1!=t.indexOf(e)}function P(t,e){return t<e?-1:t>e?1:0}t:{var D=a.navigator;if(D){var N=D.userAgent;if(N){C=N;break t}}C=""}function R(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function L(t){var e,n={};for(e in t)n[e]=t[e];return n}var M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<M.length;o++)n=M[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function U(t){return U[" "](t),t}U[" "]=c;var F,V=k(C,"Opera"),q=k(C,"Trident")||k(C,"MSIE"),B=k(C,"Edge"),W=B||q,z=k(C,"Gecko")&&!(k(C.toLowerCase(),"webkit")&&!k(C,"Edge"))&&!(k(C,"Trident")||k(C,"MSIE"))&&!k(C,"Edge"),K=k(C.toLowerCase(),"webkit")&&!k(C,"Edge");function Q(){var t=a.document;return t?t.documentMode:void 0}t:{var H="",G=function(){var t=C;return z?/rv:([^\);]+)(\)|;)/.exec(t):B?/Edge\/([\d\.]+)/.exec(t):q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):K?/WebKit\/(\S+)/.exec(t):V?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(G&&(H=G?G[1]:""),q){var Y=Q();if(null!=Y&&Y>parseFloat(H)){F=String(Y);break t}}F=H}var X,$={};function J(t){return function(t,e){var n=$;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(){for(var e=0,n=x(String(F)).split("."),r=x(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=P(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||P(0==a[2].length,0==s[2].length)||P(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var Z=a.document;X=Z&&q?Q()||("CSS1Compat"==Z.compatMode?parseInt(F,10):5):void 0;var tt=!q||9<=Number(X),et=q&&!J("9"),nt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",c,e),a.removeEventListener("test",c,e)}catch(n){}return t}();function rt(t,e){this.type=t,this.a=this.target=e,this.b=!1,this.hc=!0}function it(t,e){rt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.f=null,t&&this.g(t,e)}rt.prototype.c=function(){this.hc=!1},E(it,rt);var ot={2:"touch",3:"pen",4:"mouse"};it.prototype.g=function(t,e){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(z){t:{try{U(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=s(t.pointerType)?t.pointerType:ot[t.pointerType]||"",this.f=t,t.defaultPrevented&&this.c()},it.prototype.c=function(){it.S.c.call(this);var t=this.f;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,et)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var at="closure_listenable_"+(1e6*Math.random()|0),st=0;function ut(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ya=i,this.key=++st,this.ja=this.oa=!1}function ct(t){this.src=t,this.a={},this.b=0}function lt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ja&&o.listener==e&&o.capture==!!n&&o.ya==r)return i}return-1}ut.prototype.a=function(){this.ja=!0,this.ya=this.src=this.proxy=this.listener=null},(r=ct.prototype).add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=lt(t,e,r,i);return-1<a?(e=t[a],n||(e.oa=!1)):((e=new ut(e,this.src,o,!!r,i)).oa=n,t.push(e)),e},r.Sc=function(t,e,n,r){if((t=t.toString())in this.a){var i=this.a[t];-1<(e=lt(i,e,n,r))&&(i[e].a(),Array.prototype.splice.call(i,e,1),0==i.length&&(delete this.a[t],this.b--))}},r.fc=function(t){var e=t.type;if(e in this.a){var n,r=this.a[e],i=S(r,t);(n=0<=i)&&Array.prototype.splice.call(r,i,1),n&&(t.a(),0==this.a[e].length&&(delete this.a[e],this.b--))}},r.Tc=function(){var t;for(t in this.a){for(var e=this.a[t],n=0;n<e.length;n++)e[n].a();delete this.a[t],this.b--}},r.Rc=function(t,e,n,r){var i=-1;return(t=this.a[t.toString()])&&(i=lt(t,e,n,r)),-1<i?t[i]:null};var ft="closure_lm_"+(1e6*Math.random()|0),ht={};function pt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(f(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}r=Et(r);return e&&e[at]?e.Mb(n,r,p(i)?!!i.capture:!!i,o):dt(e,n,r,!0,i,o)}(t,e,n,r,i);if(f(e)){for(var o=0;o<e.length;o++)pt(t,e[o],n,r,i);return null}return n=Et(n),t&&t[at]?t.Lb(e,n,p(r)?!!r.capture:!!r,i):dt(t,e,n,!1,r,i)}function dt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i;if(a&&!tt)return null;var s=bt(t);if(s||(t[ft]=s=new ct(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=gt,e=tt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)nt||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(mt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function yt(t){if("number"!=typeof t&&t&&!t.ja){var e=t.src;if(e&&e[at])e.nc(t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(mt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=bt(e))?(n.fc(t),0==n.b&&(n.src=null,e[ft]=null)):t.a()}}}function mt(t){return t in ht?ht[t]:ht[t]="on"+t}function vt(t,e){var n=t.listener,r=t.ya||t.src;return t.oa&&yt(t),n.call(r,e)}function gt(t,e){return!!t.ja||(tt?vt(t,new it(e,this)):vt(t,e=new it(e||u("window.event"),this)))}function bt(t){return(t=t[ft])instanceof ct?t:null}var wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(t){return"function"==l(t)?t:(t[wt]||(t[wt]=function(e){return t.handleEvent(e)}),t[wt])}function Tt(){T.call(this),this.c=new ct(this),this.K=this,this.F=null}E(Tt,T),Tt.prototype[at]=!0,(r=Tt.prototype).addEventListener=function(t,e,n,r){pt(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(f(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=p(i)?!!i.capture:!!i,r=Et(r),e&&e[at]?e.Qc(n,r,i,o):e&&(e=bt(e))&&(n=e.Rc(n,r,i,o))&&yt(n)}(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.F;if(n)for(e=[];n;n=n.F)e.push(n);n=this.K;var r=t.type||t;if(s(t))t=new rt(t,n);else if(t instanceof rt)t.target=t.target||n;else{var i=t;j(t=new rt(r,n),i)}if(i=!0,e)for(var o=e.length-1;!t.b&&0<=o;o--){var a=t.a=e[o];i=a.ua(r,!0,t)&&i}if(t.b||(i=(a=t.a=n).ua(r,!0,t)&&i,t.b||(i=a.ua(r,!1,t)&&i)),e)for(o=0;!t.b&&o<e.length;o++)i=(a=t.a=e[o]).ua(r,!1,t)&&i;return i},r.G=function(){Tt.S.G.call(this),this.Id(),this.F=null},r.Lb=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},r.Mb=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)},r.Qc=function(t,e,n,r){this.c.Sc(String(t),e,n,r)},r.nc=function(t){this.c.fc(t)},r.Id=function(){this.c&&this.c.Tc()},r.ua=function(t,e,n){if(!(t=this.c.a[String(t)]))return!0;t=t.concat();for(var r=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.ja&&o.capture==e){var a=o.listener,s=o.ya||o.src;o.oa&&this.nc(o),r=!1!==a.call(s,n)&&r}}return r&&0!=n.hc};var St=a.JSON.stringify;function _t(t,e){this.g=100,this.c=t,this.h=e,this.b=0,this.a=null}function It(){this.b=this.a=null}_t.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t},_t.prototype.f=function(t){this.h(t),this.b<this.g&&(this.b++,t.next=this.a,this.a=t)};var At,Ot=new _t(function(){return new Ct},function(t){t.reset()});function Ct(){this.next=this.b=this.a=null}function xt(t){a.setTimeout(function(){throw t},0)}It.prototype.add=function(t,e){var n=this.c();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},It.prototype.f=function(){var t=null;return this.a&&(t=this.a,this.a=this.a.next,this.a||(this.b=null),t.next=null),t},It.prototype.g=function(t){Ot.f(t)},It.prototype.c=function(){return Ot.get()},Ct.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ct.prototype.reset=function(){this.next=this.b=this.a=null};var kt=!1,Pt=new It;function Dt(){for(var t;t=Pt.f();){try{t.a.call(t.b)}catch(e){xt(e)}Pt.g(t)}kt=!1}function Nt(t,e){Tt.call(this),this.b=t||1,this.a=e||a,this.f=g(this.$d,this),this.g=w()}function Rt(t,e,n){if("function"==l(t))n&&(t=g(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=g(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Lt(t,e,n){T.call(this),this.f=null!=n?g(t,n):t,this.c=e,this.b=g(this.Cd,this),this.a=[]}function Mt(t){T.call(this),this.b=t,this.a={}}E(Nt,Tt),(r=Nt.prototype).wa=!1,r.P=null,r.$d=function(){if(this.wa){var t=w()-this.g;0<t&&t<.8*this.b?this.P=this.a.setTimeout(this.f,this.b-t):(this.P&&(this.a.clearTimeout(this.P),this.P=null),this.Gc(),this.wa&&(this.Na(),this.start()))}},r.Gc=function(){this.dispatchEvent("tick")},r.start=function(){this.wa=!0,this.P||(this.P=this.a.setTimeout(this.f,this.b),this.g=w())},r.Na=function(){this.wa=!1,this.P&&(this.a.clearTimeout(this.P),this.P=null)},r.G=function(){Nt.S.G.call(this),this.Na(),delete this.a},E(Lt,T),(r=Lt.prototype).Ca=!1,r.ec=0,r.ba=null,r.Hc=function(t){this.a=arguments,this.ba||this.ec?this.Ca=!0:this.yb()},r.Pc=function(){this.ba&&(a.clearTimeout(this.ba),this.ba=null,this.Ca=!1,this.a=[])},r.G=function(){Lt.S.G.call(this),this.Pc()},r.Cd=function(){this.ba=null,this.Ca&&!this.ec&&(this.Ca=!1,this.yb())},r.yb=function(){this.ba=Rt(this.b,this.c),this.f.apply(null,this.a)},E(Mt,T);var jt=[];function Ut(){}(r=Mt.prototype).Jb=function(t,e,n){this.wd(t,e,n)},r.wd=function(t,e,n){f(e)||(e&&(jt[0]=e.toString()),e=jt);for(var r=0;r<e.length;r++){var i=pt(t,e[r],n||this.handleEvent,!1,this.b||this);if(!i)break;this.a[i.key]=i}},r.Kb=function(){R(this.a,function(t,e){this.a.hasOwnProperty(e)&&yt(t)},this),this.a={}},r.G=function(){Mt.S.G.call(this),this.Kb()},r.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ft=new Tt;function Vt(t){rt.call(this,"serverreachability",t)}function qt(t){Ft.dispatchEvent(new Vt(Ft,t))}function Bt(t){rt.call(this,"statevent",t)}function Wt(t){Ft.dispatchEvent(new Bt(Ft,t))}function zt(t){rt.call(this,"timingevent",t)}function Kt(t,e){if("function"!=l(t))throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){t()},e)}E(Vt,rt),E(Bt,rt),E(zt,rt);var Qt={NO_ERROR:0,ae:1,he:2,ge:3,de:4,fe:5,ie:6,qc:7,TIMEOUT:8,le:9},Ht={ce:"complete",pe:"success",rc:"error",qc:"abort",ne:"ready",oe:"readystatechange",TIMEOUT:"timeout",je:"incrementaldata",me:"progress",ee:"downloadprogress",qe:"uploadprogress"};function Gt(){}function Yt(){}Gt.prototype.a=null,Gt.prototype.c=function(){return this.a||(this.a={})};var Xt,$t={OPEN:"a",be:"b",rc:"c",ke:"d"};function Jt(){rt.call(this,"d")}function Zt(){rt.call(this,"c")}function te(){}function ee(t,e,n){this.g=t,this.da=e,this.ca=n||1,this.I=new Mt(this),this.L=ne,t=W?125:void 0,this.T=new Nt(t),this.J=null,this.b=!1,this.i=this.C=this.f=this.F=this.u=this.U=this.h=null,this.j=[],this.a=null,this.A=0,this.c=this.v=null,this.o=-1,this.l=!1,this.K=0,this.B=null,this.s=this.Y=this.H=!1}E(Jt,rt),E(Zt,rt),E(te,Gt),te.prototype.b=function(){return new XMLHttpRequest},Xt=new te;var ne=45e3,re={},ie={};function oe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||s(t))_(t,e,void 0);else{if(t.O&&"function"==typeof t.O)var n=t.O();else if(t.D&&"function"==typeof t.D)n=void 0;else if(h(t)||s(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.D&&"function"==typeof t.D)return t.D();if(s(t))return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ae(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else t&&this.fd(t)}function se(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=ee.prototype).ha=function(t){this.J=t},r.setTimeout=function(t){this.L=t},r.Xc=function(t){this.K=t},r.Qd=function(t){this.j=t},r.cb=function(t,e){this.F=1,this.f=t.N().za(),this.i=e,this.H=!0,this.ic(null)},r.bb=function(t,e,n){this.F=1,this.f=t.N().za(),this.i=null,this.H=e,this.ic(n)},r.ic=function(t){this.u=w(),this.fa(),this.C=this.f.N(),this.C.Aa("t",this.ca),this.A=0,this.a=this.g.sa(this.g.Da()?t:null),0<this.K&&(this.B=new Lt(g(this.oc,this,this.a),this.K)),this.I.Jb(this.a,"readystatechange",this.Hd),t=this.J?L(this.J):{},this.i?(this.v||(this.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",this.a.xa(this.C,this.v,this.i,t)):(this.v="GET",this.a.xa(this.C,this.v,null,t)),qt(1)},r.Hd=function(t){t=t.target;var e=this.B;e&&3==t.W()?e.Hc():this.oc(t)},r.oc=function(t){try{t==this.a&&this.Ed()}catch(e){}},r.Ed=function(){var t=this.a.W(),e=this.a.Db(),n=this.a.aa();if(!(3>t||3==t&&!W&&!this.a.va()))if(this.l||4!=t||7==e||qt(8==e||0>=n?3:2),this.pa(),this.o=n=this.a.aa(),e=this.a.va(),this.b=200==n){if(this.Td()){if(!(n=this.Kc()))return this.b=!1,this.c=3,Wt(12),this.Z(),void this.ta();this.s=!0,this.Wa(n)}this.H?(this.vb(t,e),W&&this.b&&3==t&&this.Yd()):this.Wa(e),4==t&&this.Z(),this.b&&!this.l&&(4==t?this.g.Va(this):(this.b=!1,this.fa()))}else 400==n&&0<e.indexOf("Unknown SID")?(this.c=3,Wt(12)):(this.c=0,Wt(13)),this.Z(),this.ta()},r.Td=function(){return this.Y&&!this.s},r.Kc=function(){if(this.a){var t=this.a.ga("X-HTTP-Initial-Response");if(t&&!O(t))return t}return null},r.Md=function(){this.Y=!0},r.vb=function(t,e){for(var n=!0;!this.l&&this.A<e.length;){var r=this.Lc(e);if(r==ie){4==t&&(this.c=4,Wt(14),n=!1);break}if(r==re){this.c=4,Wt(15),n=!1;break}this.Wa(r)}4==t&&0==e.length&&(this.c=1,Wt(16),n=!1),this.b=this.b&&n,n||(this.Z(),this.ta())},r.Gd=function(){if(this.a){var t=this.a.W(),e=this.a.va();this.A<e.length&&(this.pa(),this.vb(t,e),this.b&&4!=t&&this.fa())}},r.Yd=function(){this.I.Jb(this.T,"tick",this.Gd),this.T.start()},r.Lc=function(t){var e=this.A,n=t.indexOf("\n",e);return-1==n?ie:(e=Number(t.substring(e,n)),isNaN(e)?re:(n+=1)+e>t.length?ie:(t=t.substr(n,e),this.A=n+e,t))},r.Ld=function(t){this.F=2,this.f=t.N().za(),t=!1,a.navigator&&a.navigator.sendBeacon&&(t=a.navigator.sendBeacon(this.f.toString(),"")),!t&&a.Image&&((new Image).src=this.f,t=!0),t||(this.a=this.g.sa(null),this.a.xa(this.f)),this.u=w(),this.fa()},r.cancel=function(){this.l=!0,this.Z()},r.Kd=function(t){t&&this.setTimeout(t),this.h&&(this.pa(),this.fa())},r.fa=function(){this.U=w()+this.L,this.mc(this.L)},r.mc=function(t){if(null!=this.h)throw Error("WatchDog timer not null");this.h=Kt(g(this.Dd,this),t)},r.pa=function(){this.h&&(a.clearTimeout(this.h),this.h=null)},r.Dd=function(){this.h=null;var t=w();0<=t-this.U?this.md():this.mc(this.U-t)},r.md=function(){2!=this.F&&(qt(3),Wt(17)),this.Z(),this.c=2,this.ta()},r.ta=function(){this.g.Tb()||this.l||this.g.Va(this)},r.Z=function(){this.pa();var t=this.B;t&&"function"==typeof t.La&&t.La(),this.B=null,this.T.Na(),this.I.Kb(),this.a&&(t=this.a,this.a=null,t.abort(),t.La())},r.Wa=function(t){try{this.g.bc(this,t),qt(4)}catch(e){}},(r=ae.prototype).D=function(){this.Ka();for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.O=function(){return this.Ka(),this.a.concat()},r.Ra=function(t){return se(this.b,t)},r.hd=function(){return 0==this.c},r.gd=function(){this.b={},this.c=this.a.length=0},r.Qb=function(t){se(this.b,t)&&(delete this.b[t],this.c--,this.a.length>2*this.c&&this.Ka())},r.Ka=function(){if(this.c!=this.a.length){for(var t=0,e=0;t<this.a.length;){var n=this.a[t];se(this.b,n)&&(this.a[e++]=n),t++}this.a.length=e}if(this.c!=this.a.length){var r={};for(e=t=0;t<this.a.length;)se(r,n=this.a[t])||(this.a[e++]=n,r[n]=1),t++;this.a.length=e}},r.get=function(t,e){return se(this.b,t)?this.b[t]:e},r.set=function(t,e){se(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.fd=function(t){if(t instanceof ae)for(var e=t.O(),n=0;n<e.length;n++)this.set(e[n],t.get(e[n]));else for(e in t)this.set(e,t[e])},r.forEach=function(t,e){for(var n=this.O(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}},r.Pb=function(){return new ae(this)};var ue=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ce(t,e){var n;this.c=this.i=this.b="",this.h=null,this.j=this.g="",this.f=this.l=!1,t instanceof ce?(this.f=void 0!==e?e:t.f,this.ma(t.b),this.$a(t.i),this.ka(t.c),this.la(t.h),this.Ba(t.g),this.Za(t.a.Gb()),this.Ya(t.j)):t&&(n=String(t).match(ue))?(this.f=!!e,this.ma(n[1]||"",!0),this.$a(n[2]||"",!0),this.ka(n[3]||"",!0),this.la(n[4]),this.Ba(n[5]||"",!0),this.Za(n[6]||"",!0),this.Ya(n[7]||"",!0)):(this.f=!!e,this.a=new ge(null,this.f))}function le(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function fe(t,e,n){return s(t)?(t=encodeURI(t).replace(e,he),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function he(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}(r=ce.prototype).toString=function(){var t=[],e=this.b;e&&t.push(fe(e,pe,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(fe(e,pe,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.Sa()&&"/"!=n.charAt(0)&&t.push("/"),t.push(fe(n,"/"==n.charAt(0)?ye:de,!0))),(n=this.Ic())&&t.push("?",n),(n=this.j)&&t.push("#",fe(n,ve)),t.join("")},r.resolve=function(t){var e=this.N(),n=t.qd();n?e.ma(t.b):n=t.rd(),n?e.$a(t.i):n=t.Sa(),n?e.ka(t.c):n=t.od();var r=t.g;if(n)e.la(t.h);else if(n=t.Sb()){if("/"!=r.charAt(0))if(this.Sa()&&!this.Sb())r="/"+r;else{var i=e.g.lastIndexOf("/");-1!=i&&(r=e.g.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(k(i,"./")||k(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.Ba(r):n=t.pd(),n?e.Za(t.a.Gb()):n=t.nd(),n&&e.Ya(t.j),e},r.N=function(){return new ce(this)},r.ma=function(t,e){this.M(),(this.b=e?le(t,!0):t)&&(this.b=this.b.replace(/:$/,""))},r.qd=function(){return!!this.b},r.$a=function(t,e){this.M(),this.i=e?le(t):t},r.rd=function(){return!!this.i},r.ka=function(t,e){this.M(),this.c=e?le(t,!0):t},r.Sa=function(){return!!this.c},r.la=function(t){if(this.M(),t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);this.h=t}else this.h=null},r.od=function(){return null!=this.h},r.Ba=function(t,e){this.M(),this.g=e?le(t,!0):t},r.Sb=function(){return!!this.g},r.pd=function(){return""!==this.a.toString()},r.Za=function(t,e){this.M(),t instanceof ge?(this.a=t,this.a.Oc(this.f)):(e||(t=fe(t,me)),this.a=new ge(t,this.f))},r.Ic=function(){return this.a.toString()},r.m=function(t,e){this.M(),this.a.set(t,e)},r.Aa=function(t,e){this.M(),f(e)||(e=[String(e)]),this.a.lc(t,e)},r.Ya=function(t,e){this.M(),this.j=e?le(t):t},r.nd=function(){return!!this.j},r.za=function(){return this.M(),this.m("zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),this},r.M=function(){if(this.l)throw Error("Tried to modify a read-only Uri")};var pe=/[#\/\?@]/g,de=/[#\?:]/g,ye=/[#\?]/g,me=/[#\?@]/g,ve=/#/g;function ge(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function be(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function we(){this.a=this.b=null}function Ee(){this.a=new ae}function Te(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[d]||(t[d]=++y)):e.charAt(0)+t}function Se(t,e){this.a=t,this.b=e}function _e(t){this.g=t||Ie,a.PerformanceNavigationTiming?t=0<(t=a.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(a.Ja&&a.Ja.Vb&&a.Ja.Vb()&&a.Ja.Vb().te),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Ee),this.b=null,this.c=[]}(r=ge.prototype).V=function(){if(!this.a&&(this.a=new ae,this.b=0,this.c)){var t=this;!function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(this.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})}},r.add=function(t,e){this.V(),this.ia(),t=this.$(t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.Ib=function(t){this.V(),t=this.$(t),this.a.Ra(t)&&(this.ia(),this.b-=this.a.get(t).length,this.a.Qb(t))},r.Hb=function(t){return this.V(),t=this.$(t),this.a.Ra(t)},r.forEach=function(t,e){this.V(),this.a.forEach(function(n,r){_(n,function(n){t.call(e,n,r,this)},this)},this)},r.O=function(){this.V();for(var t=this.a.D(),e=this.a.O(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},r.D=function(t){this.V();var e=[];if(s(t))this.Hb(t)&&(e=I(e,this.a.get(this.$(t))));else{t=this.a.D();for(var n=0;n<t.length;n++)e=I(e,t[n])}return e},r.set=function(t,e){return this.V(),this.ia(),t=this.$(t),this.Hb(t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.D(t)).length?String(t[0]):e},r.lc=function(t,e){this.Ib(t),0<e.length&&(this.ia(),this.a.set(this.$(t),A(e)),this.b+=e.length)},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.O(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.D(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")},r.ia=function(){this.c=null},r.Gb=function(){var t=new ge;return t.c=this.c,this.a&&(t.a=this.a.Pb(),t.b=this.b),t},r.$=function(t){return t=String(t),this.f&&(t=t.toLowerCase()),t},r.Oc=function(t){t&&!this.f&&(this.V(),this.ia(),this.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(this.Ib(e),this.lc(n,t))},this)),this.f=t},E(function(){},function(){}),(r=be.prototype).R=null,r.Wc=function(t){this.h=t},r.Vc=function(t){this.i=t,t=this.a.Cb(this.i),Wt(3);var e=this.a.H.b;null!=e?(this.f=this.a.Oa(e[0]),this.R=1,this.rb()):(t.Aa("MODE","init"),!this.a.o&&this.a.j&&t.Aa("X-HTTP-Session-Id",this.a.j),this.b=new ee(this,void 0,void 0),this.b.ha(this.h),this.b.bb(t,!1,null),this.R=0)},r.rb=function(){var t=this.a.H.a;if(null!=t)Wt(4),t?(Wt(10),this.a.na(this,!1)):(Wt(11),this.a.na(this,!0));else{this.b=new ee(this,void 0,void 0),this.b.ha(this.h),t=this.a.Bb(this.f,this.i),Wt(4),t.Aa("TYPE","xmlhttp");var e=this.a.j,n=this.a.Fa;e&&n&&t.m(e,n),this.b.bb(t,!1,this.f)}},r.sa=function(t){return this.a.sa(t)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Tb=function(){return!1},r.bc=function(t,e){if(this.c=t.o,0==this.R)if(this.Uc(t),e){try{var n=this.a.U.a(e)}catch(r){return void this.a.ab(this)}this.f=this.a.Oa(n[0])}else this.a.ab(this);else 1==this.R&&(this.g?Wt(6):"11111"==e?(Wt(5),this.g=!0,this.Ac()&&(this.c=200,this.b.cancel(),Wt(11),this.a.na(this,!0))):(Wt(7),this.g=!1))},r.Va=function(){this.c=this.b.o,this.b.b?0==this.R?(this.R=1,this.rb()):1==this.R&&(this.g?(Wt(11),this.a.na(this,!0)):(Wt(10),this.a.na(this,!1))):(0==this.R?Wt(8):1==this.R&&Wt(9),this.a.ab(this))},r.Uc=function(t){if(!this.a.o&&(t=t.a)){var e=t.ga("X-Client-Wire-Protocol");this.l=e||null,this.a.j&&(t=t.ga("X-HTTP-Session-Id"))&&this.a.kc(t)}},r.Da=function(){return this.a.Da()},r.Pa=function(){return this.a.Pa()},r.Ac=function(){return!q||10<=Number(X)},(r=Ee.prototype).add=function(t){this.a.set(Te(t),t)},r.ed=function(t){this.a.Qb(Te(t))},r.jd=function(){this.a.gd()},r.Rb=function(){return this.a.hd()},r.Ob=function(t){return this.a.Ra(Te(t))},r.D=function(){return this.a.D()};var Ie=10;function Ae(){this.b=this.a=void 0}function Oe(){this.f=new Ae}function Ce(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}(r=_e.prototype).kb=function(t){!this.a&&(k(t,"spdy")||k(t,"quic")||k(t,"h2"))&&(this.f=this.g,this.a=new Ee,this.b&&(this.Ha(this.b),this.b=null))},r.Ub=function(){return!!this.b||!!this.a&&this.a.a.c>=this.f},r.Mc=function(){return this.b?1:this.a?this.a.a.c:0},r.Ta=function(t){return this.b?this.b==t:!!this.a&&this.a.Ob(t)},r.Ha=function(t){this.a?this.a.add(t):this.b=t},r.gc=function(t){this.b&&this.b==t?this.b=null:this.a&&this.a.Ob(t)&&this.a.ed(t)},r.cancel=function(){this.c=this.Xb(),this.b?(this.b.cancel(),this.b=null):this.a&&!this.a.Rb()&&(_(this.a.D(),function(t){t.cancel()}),this.a.jd())},r.Xb=function(){if(null!=this.b)return this.c.concat(this.b.j);if(null!=this.a&&!this.a.Rb()){var t=this.c;return _(this.a.D(),function(e){t=t.concat(e.j)}),t}return A(this.c)},r.wc=function(t){this.c=this.c.concat(t)},r.Bc=function(){this.c.length=0},Ae.prototype.stringify=function(t){return a.JSON.stringify(t,this.a)},Ae.prototype.parse=function(t){return a.JSON.parse(t,this.b)},Oe.prototype.b=function(t,e,n){var r=n||"";try{oe(t,function(t,n){var i=t;p(t)&&(i=St(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}},Oe.prototype.c=function(t,e,n){for(var r=-1;;){var i=["count="+e];-1==r?0<e?(r=t[0].a,i.push("ofs="+r)):r=0:i.push("ofs="+r);for(var o=!0,a=0;a<e;a++){var s=t[a].a,u=t[a].b;if(0>(s-=r))r=Math.max(0,t[a].a-100),o=!1;else try{this.b(u,i,"req"+s+"_")}catch(c){n&&n(u)}}if(o)return i.join("&")}},Oe.prototype.a=function(t){return this.f.parse(t)};var xe=a.JSON.parse;function ke(t){Tt.call(this),this.headers=new ae,this.l=t||null,this.b=!1,this.v=this.a=null,this.C="",this.h=0,this.f="",this.g=this.B=this.o=this.A=!1,this.u=0,this.s=null,this.J=Pe,this.H=this.L=this.I=!1}E(ke,Tt);var Pe="",De=/^https?$/i,Ne=["POST","PUT"];function Re(t){return"content-type"==t.toLowerCase()}function Le(t,e){return{type:e,lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total}}function Me(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return R(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),s(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return t.m(e,n),t}function je(t){this.gb=22,this.g=[],this.H=new we,this.da=this.fb=this.C=this.Ea=this.a=this.Fa=this.j=this.ca=this.f=this.J=this.h=null,this.sc=!0,this.zc=this.L=0,this.uc=!!u("internalChannelParams.failFast",t),this.Ga=this.v=this.s=this.l=this.i=this.b=null,this.eb=!0,this.B=this.jb=this.K=-1,this.Y=this.u=this.A=0,this.tc=u("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Fc=u("internalChannelParams.retryDelaySeedMs",t)||1e4,this.pc=u("internalChannelParams.forwardChannelMaxRetries",t)||2,this.ib=u("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.xc=t&&t.ue||void 0,this.F=void 0,this.vc=0,this.T=t&&t.supportsCrossDomainXhr||!1,this.I="",this.c=new _e(t&&t.concurrentRequestLimit),this.U=new Oe,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.hb=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.se&&(this.eb=!1)}function Ue(){}function Fe(){if(q&&!(10<=Number(X)))throw Error("Environmental error: no available transport.")}function Ve(t,e){Tt.call(this),this.a=new je(e),this.g=t,this.o=e&&e.testUrl?e.testUrl:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?e=i:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.cd(t),t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.tb&&(t?t["X-WebChannel-Client-Profile"]=e.tb:t={"X-WebChannel-Client-Profile":e.tb}),this.a.Pd(t),(t=e&&e.httpHeadersOverwriteParam)&&!O(t)&&this.a.Nd(t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!O(e)&&(this.a.Od(e),null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new We(this)}function qe(t){Jt.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.f=t)?(t=this.f,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Be(){Zt.call(this),this.status=1}function We(t){this.a=t}(r=ke.prototype).Sd=function(t){this.I=t},r.xa=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+t);e=e?e.toUpperCase():"GET",this.C=t,this.f="",this.h=0,this.A=!1,this.b=!0,this.a=this.Ec(),this.v=this.l?this.l.c():Xt.c(),this.a.onreadystatechange=g(this.ac,this),this.L&&"onprogress"in this.a&&(this.a.onprogress=g(function(t){this.Zb(t,!0)},this),this.a.upload&&(this.a.upload.onprogress=g(this.Zb,this)));try{this.B=!0,this.a.open(e,String(t),!0),this.B=!1}catch(o){return void this.Ab(o)}t=n||"";var i=this.headers.Pb();r&&oe(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Re,n=t.length,r=s(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:s(t)?t.charAt(e):t[e]}(i.O()),n=a.FormData&&t instanceof a.FormData,!(0<=S(Ne,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.J&&(this.a.responseType=this.J),"withCredentials"in this.a&&this.a.withCredentials!==this.I&&(this.a.withCredentials=this.I);try{this.sb(),0<this.u&&((this.H=function(t){return q&&J(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.u,this.a.ontimeout=g(this.Nb,this)):this.s=Rt(this.Nb,this.u,this)),this.o=!0,this.a.send(t),this.o=!1}catch(o){this.Ab(o)}},r.Ec=function(){return this.l?this.l.b():Xt.b()},r.Nb=function(){"undefined"!=typeof o&&this.a&&(this.f="Timed out after "+this.u+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.Ab=function(t){this.b=!1,this.a&&(this.g=!0,this.a.abort(),this.g=!1),this.f=t,this.h=5,this.xb(),this.qa()},r.xb=function(){this.A||(this.A=!0,this.dispatchEvent("complete"),this.dispatchEvent("error"))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),this.qa())},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),this.qa(!0)),ke.S.G.call(this)},r.ac=function(){this.i||(this.B||this.o||this.g?this.$b():this.Bd())},r.Bd=function(){this.$b()},r.$b=function(){if(this.b&&"undefined"!=typeof o&&(!this.v[1]||4!=this.W()||2!=this.aa()))if(this.o&&4==this.W())Rt(this.ac,0,this);else if(this.dispatchEvent("readystatechange"),this.td()){this.b=!1;try{this.vd()?(this.dispatchEvent("complete"),this.dispatchEvent("success")):(this.h=6,this.f=this.Fb()+" ["+this.aa()+"]",this.xb())}finally{this.qa()}}},r.Zb=function(t,e){this.dispatchEvent(Le(t,"progress")),this.dispatchEvent(Le(t,e?"downloadprogress":"uploadprogress"))},r.qa=function(t){if(this.a){this.sb();var e=this.a,n=this.v[0]?c:null;this.v=this.a=null,t||this.dispatchEvent("ready");try{e.onreadystatechange=n}catch(r){}}},r.sb=function(){this.a&&this.H&&(this.a.ontimeout=null),this.s&&(a.clearTimeout(this.s),this.s=null)},r.td=function(){return 4==this.W()},r.vd=function(){var t=this.aa();t:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}return e||0===t&&!this.ud()},r.ud=function(){var t=String(this.C).match(ue)[1]||null;return!t&&a.self&&a.self.location&&(t=(t=a.self.location.protocol).substr(0,t.length-1)),De.test(t?t.toLowerCase():"")},r.W=function(){return this.a?this.a.readyState:0},r.aa=function(){try{return 2<this.W()?this.a.status:-1}catch(t){return-1}},r.Fb=function(){try{return 2<this.W()?this.a.statusText:""}catch(t){return""}},r.va=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},r.Nc=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),xe(e)}},r.ga=function(t){return this.a?this.a.getResponseHeader(t):null},r.Db=function(){return this.h},r.dd=function(){return s(this.f)?this.f:String(this.f)},(r=je.prototype).qb=8,r.w=1,r.bd=function(t,e,n){Wt(0),this.Ea=e,this.ca=n||{},this.o&&(this.H.b=[],this.H.a=!1),this.Dc(t)},r.Qa=function(){if(this.lb(),3==this.w){var t=this.L++,e=this.C.N();e.m("SID",this.I),e.m("RID",t),e.m("TYPE","terminate"),this.ea(e),new ee(this,t,void 0).Ld(e)}this.Yb()},r.Dc=function(t){this.v=new be(this),null===this.f&&this.v.Wc(this.h);var e=t;this.f&&this.h&&(e=Me(t,this.f,this.h)),this.v.Vc(e)},r.Cc=function(){this.C=this.Cb(this.Ea),this.Ma()},r.lb=function(){this.v&&(this.v.abort(),this.v=null),this.a&&(this.a.cancel(),this.a=null),this.l&&(a.clearTimeout(this.l),this.l=null),this.ra(),this.c.cancel(),this.i&&(a.clearTimeout(this.i),this.i=null)},r.cd=function(t){this.h=t},r.Pd=function(t){this.J=t},r.Nd=function(t){this.f=t},r.Od=function(t){this.j=t},r.kc=function(t){this.Fa=t},r.Rd=function(){this.T=!0},r.jc=function(t){this.b=t},r.sd=function(){return!this.Ga},r.Xa=function(t){this.g.push(new Se(this.zc++,t)),3==this.w&&this.Ma()},r.Jc=function(){return this.uc?0:this.pc},r.Tb=function(){return 0==this.w},r.Ma=function(){this.c.Ub()||this.i||(this.i=Kt(g(this.dc,this),0),this.A=0)},r.xd=function(t){return!(this.c.Mc()>=this.c.f-(this.i?1:0))&&(this.i?(this.g=t.j.concat(this.g),!0):!(1==this.w||2==this.w||this.A>=this.Jc())&&(this.i=Kt(g(this.dc,this,t),this.Eb(this.A)),this.A++,!0))},r.dc=function(t){this.i=null,this.Xd(t)},r.Xd=function(t){1==this.w?t||(this.Fd(),this.w=2):3==this.w&&(t?this.Wb(t):0==this.g.length||this.c.Ub()||this.Wb())},r.Fd=function(){this.L=Math.floor(1e5*Math.random());var t=this.L++,e=new ee(this,t,void 0),n=this.h;this.J&&(n?j(n=L(n),this.J):n=this.J),null===this.f&&e.ha(n);var r=this.wb(e),i=this.C.N();i.m("RID",t),0<this.gb&&i.m("CVER",this.gb),this.o&&this.j&&i.m("X-HTTP-Session-Id",this.j),this.ea(i),this.f&&n&&Me(i,this.f,n),this.c.Ha(e),this.hb?(i.m("$req",r),i.m("SID","null"),e.Md(),e.cb(i,null)):e.cb(i,r)},r.Wb=function(t){var e;e=t?t.da:this.L++;var n=this.C.N();n.m("SID",this.I),n.m("RID",e),n.m("AID",this.K),this.ea(n),this.f&&this.h&&Me(n,this.f,this.h),e=new ee(this,e,this.A+1),null===this.f&&e.ha(this.h),t&&this.Jd(t),t=this.wb(e),e.setTimeout(Math.round(.5*this.ib)+Math.round(.5*this.ib*Math.random())),this.c.Ha(e),e.cb(n,t)},r.ea=function(t){this.b&&oe({},function(e,n){t.m(n,e)})},r.wb=function(t){var e=Math.min(this.g.length,1e3),n=this.b?g(this.b.yc,this.b,this):null;return n=this.U.c(this.g,e,n),t.Qd(this.g.splice(0,e)),n},r.Jd=function(t){this.g=t.j.concat(this.g)},r.zb=function(){if(!this.a&&!this.l){this.Y=1;var t=this.cc;At||function(){var t=a.Promise.resolve(void 0);At=function(){t.then(Dt)}}(),kt||(At(),kt=!0),Pt.add(t,this),this.u=0}},r.Ua=function(){return!(this.a||this.l||3<=this.u)&&(this.Y++,this.l=Kt(g(this.cc,this),this.Eb(this.u)),this.u++,!0)},r.cc=function(){this.l=null,this.Vd()},r.Vd=function(){this.a=new ee(this,"rpc",this.Y),null===this.f&&this.a.ha(this.h),this.a.Xc(this.vc);var t=this.fb.N();t.m("RID","rpc"),t.m("SID",this.I),t.m("CI",this.Ga?"0":"1"),t.m("AID",this.K),this.ea(t),t.m("TYPE","xmlhttp"),this.f&&this.h&&Me(t,this.f,this.h),this.F&&this.a.setTimeout(this.F),this.a.bb(t,!0,this.da)},r.na=function(t,e){var n=t.l;n&&this.c.kb(n),this.Ga=this.eb&&e,this.B=t.c,this.Cc()},r.ab=function(t){this.B=t.c,this.X(2)},r.bc=function(t,e){if(0!=this.w&&(this.a==t||this.c.Ta(t)))if(this.B=t.o,!t.s&&this.c.Ta(t)&&3==this.w){try{var n=this.U.a(e)}catch(r){n=null}f(n)&&3==n.length?this.ld(n,t):this.X(11)}else(t.s||this.a==t)&&this.ra(),O(e)||(n=this.U.a(e),this.Ad(n,t))},r.ld=function(t,e){0==t[0]?this.kd(e):(this.jb=t[1],0<this.jb-this.K&&this.Ud(t[2])&&!this.s&&(this.s=Kt(g(this.yd,this),6e3)))},r.kd=function(t){if(!this.l){if(this.a){if(!(this.a.u+3e3<t.u))return;this.ra(),this.a.cancel(),this.a=null}this.Ua(),Wt(18)}},r.Ud=function(t){return 37500>t&&!this.sd()&&0==this.u},r.Oa=function(t){return this.sc?this.b?this.b.$c(t):t:null},r.yd=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,this.Ua(),Wt(19))},r.ra=function(){null!=this.s&&(a.clearTimeout(this.s),this.s=null)},r.Va=function(t){var e=null;if(this.a==t){this.ra(),this.a=null;var n=2}else{if(!this.c.Ta(t))return;e=t.j,this.c.gc(t),n=1}if(this.B=t.o,0!=this.w)if(t.b)1==n?(n=w()-t.u,Ft.dispatchEvent(new zt(Ft,t.i?t.i.length:0,n,this.A)),this.Ma()):this.zb();else{var r=t.c;if(3==r||0==r&&0<this.B||!(1==n&&this.xd(t)||2==n&&this.Ua()))switch(e&&0<e.length&&this.c.wc(e),r){case 1:this.X(5);break;case 4:this.X(10);break;case 3:this.X(6);break;default:this.X(2)}}},r.Eb=function(t){var e=this.tc+Math.floor(Math.random()*this.Fc);return this.Pa()||(e*=2),e*t},r.ad=function(t){if(this.o&&(t=t.a)){var e=t.ga("X-Client-Wire-Protocol");e&&this.c.kb(e),this.j&&(t=t.ga("X-HTTP-Session-Id"))&&(this.kc(t),this.C.m(this.j,t))}},r.Ad=function(t,e){for(var n=this.b&&this.b.Ia?[]:null,r=0;r<t.length;r++){var i=t[r];if(this.K=i[0],i=i[1],2==this.w)if("c"==i[0]){this.I=i[1],this.da=this.Oa(i[2]);var o=i[3];null!=o&&(this.qb=o),null!=(i=i[5])&&"number"==typeof i&&0<i&&(this.F=1.5*i),this.ad(e),this.w=3,this.b&&this.b.pb(),this.Wd(e)}else"stop"!=i[0]&&"close"!=i[0]||this.X(7);else 3==this.w&&("stop"==i[0]||"close"==i[0]?(n&&0!=n.length&&(this.b.Ia(this,n),n.length=0),"stop"==i[0]?this.X(7):this.Qa()):"noop"!=i[0]&&(n?n.push(i):this.b&&this.b.ob(i)),this.u=0)}n&&0!=n.length&&this.b.Ia(this,n)},r.Wd=function(t){this.fb=this.Bb(this.da,this.Ea),t.s?(this.c.gc(t),t.Kd(this.F),this.a=t):this.zb()},r.X=function(t){if(2==t){var e=null;this.b&&(e=null);var n=g(this.Zd,this);e||(e=new ce("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||e.ma("https"),e.za()),function(t,e){var n=new Ut;if(a.Image){var r=new Image;r.onload=b(Ce,n,r,"TestLoadImage: loaded",!0,e),r.onerror=b(Ce,n,r,"TestLoadImage: error",!1,e),r.onabort=b(Ce,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=b(Ce,n,r,"TestLoadImage: timeout",!1,e),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(e.toString(),n)}else Wt(2);this.zd(t)},r.Zd=function(t){Wt(t?2:1)},r.zd=function(t){this.w=0,this.b&&this.b.nb(t),this.Yb(),this.lb()},r.Yb=function(){this.w=0,this.B=-1,this.b&&(0==this.c.Xb().length&&0==this.g.length||(this.c.Bc(),A(this.g),this.g.length=0),this.b.mb())},r.Cb=function(t){return this.ub(null,t)},r.Bb=function(t,e){return this.ub(this.Da()?t:null,e)},r.ub=function(t,e){var n=function(t){return t instanceof ce?t.N():new ce(t,void 0)}(e);if(""!=n.c)t&&n.ka(t+"."+n.c),n.la(n.h);else{var r,i=a.location;r=t?t+"."+i.hostname:i.hostname,n=function(t,e,n,r){var i=new ce(null,void 0);return t&&i.ma(t),e&&i.ka(e),n&&i.la(n),r&&i.Ba(r),i}(i.protocol,r,+i.port,e)}return this.ca&&R(this.ca,function(t,e){n.m(e,t)}),t=this.j,e=this.Fa,t&&e&&n.m(t,e),n.m("VER",this.qb),this.ea(n),n},r.sa=function(t){if(t&&!this.T)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ke(this.xc)).Sd(this.T),t},r.Pa=function(){return!!this.b&&!0},r.Da=function(){return this.T},(r=Ue.prototype).Ia=null,r.pb=function(){},r.ob=function(){},r.nb=function(){},r.mb=function(){},r.yc=function(){},r.$c=function(t){return t},Fe.prototype.a=function(t,e){return new Ve(t,e)},E(Ve,Tt),(r=Ve.prototype).addEventListener=function(t,e,n,r){Ve.S.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){Ve.S.removeEventListener.call(this,t,e,n,r)},r.Yc=function(){this.a.jc(this.f),this.l&&this.a.Rd(),this.a.bd(this.o,this.g,this.b||void 0)},r.close=function(){this.a.Qa()},r.Zc=function(t){if(s(t)){var e={};e.__data__=t,this.a.Xa(e)}else this.h?((e={}).__data__=St(t),this.a.Xa(e)):this.a.Xa(t)},r.G=function(){this.a.jc(null),delete this.f,this.a.Qa(),delete this.a,Ve.S.G.call(this)},E(qe,Jt),E(Be,Zt),E(We,Ue),We.prototype.pb=function(){this.a.dispatchEvent("a")},We.prototype.ob=function(t){this.a.dispatchEvent(new qe(t))},We.prototype.nb=function(t){this.a.dispatchEvent(new Be(t))},We.prototype.mb=function(){this.a.dispatchEvent("b")};var ze=b(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},Fe);Fe.prototype.createWebChannel=Fe.prototype.a,Ve.prototype.send=Ve.prototype.Zc,Ve.prototype.open=Ve.prototype.Yc,Ve.prototype.close=Ve.prototype.close,Qt.NO_ERROR=0,Qt.TIMEOUT=8,Qt.HTTP_ERROR=6,Ht.COMPLETE="complete",Yt.EventType=$t,$t.OPEN="a",$t.CLOSE="b",$t.ERROR="c",$t.MESSAGE="d",Tt.prototype.listen=Tt.prototype.Lb,ke.prototype.listenOnce=ke.prototype.Mb,ke.prototype.getLastError=ke.prototype.dd,ke.prototype.getLastErrorCode=ke.prototype.Db,ke.prototype.getStatus=ke.prototype.aa,ke.prototype.getStatusText=ke.prototype.Fb,ke.prototype.getResponseJson=ke.prototype.Nc,ke.prototype.getResponseText=ke.prototype.va,ke.prototype.send=ke.prototype.xa;var Ke={createWebChannelTransport:ze,ErrorCode:Qt,EventType:Ht,WebChannel:Yt,XhrIo:ke},Qe=Ke.createWebChannelTransport,He=Ke.ErrorCode,Ge=Ke.EventType,Ye=Ke.WebChannel,Xe=Ke.XhrIo;e.default=Ke}.call(this,n(29))},function(t,e,n){"use strict";n(554)},function(t,e,n){"use strict";(function(t){var e=n(2),r=n.n(e);(function(){var t,e=e||{},n=this;function i(t){return"string"==typeof t}function o(t){return"boolean"==typeof t}var a=/^[\w+\/_-]+[=]{0,2}$/,s=null;function u(){}function c(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function l(t){return null===t}function f(t){return"array"==c(t)}function h(t){var e=c(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==c(t)}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var y="closure_uid_"+(1e9*Math.random()>>>0),m=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:g).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var E=Date.now||function(){return+new Date};function T(t,e){function n(){}n.prototype=e.prototype,t.pb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.gd=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function S(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function _(t){if(Error.captureStackTrace)Error.captureStackTrace(this,_);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function I(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");_.call(this,n+t[r])}function A(t,e){throw new I("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function O(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function C(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function x(){this.b=this.a=null}T(_,Error),_.prototype.name="CustomError",T(I,_),I.prototype.name="AssertionError",O.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var k=new O(function(){return new D},function(t){t.reset()});function P(){var t=dt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function D(){this.next=this.b=this.a=null}x.prototype.add=function(t,e){var n=k.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},D.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},D.prototype.reset=function(){this.next=this.b=this.a=null};var N=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(i(t))return i(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},R=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,o=i(t)?t.split(""):t,a=0;a<r;a++)a in o&&e.call(n,o[a],a,t)};var L=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),o=i(t)?t.split(""):t,a=0;a<n;a++)a in o&&(r[a]=e.call(void 0,o[a],a,t));return r},M=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=i(t)?t.split(""):t,o=0;o<n;o++)if(o in r&&e.call(void 0,r[o],o,t))return!0;return!1};function j(t,e){return 0<=N(t,e)}function U(t,e){var n;return(n=0<=(e=N(t,e)))&&Array.prototype.splice.call(t,e,1),n}function F(t,e){!function(t,e){var n=t.length,r=i(t)?t.split(""):t;for(--n;0<=n;--n)n in r&&e.call(void 0,r[n],n,t)}(t,function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0})}function V(t){return Array.prototype.concat.apply([],arguments)}function q(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var B,W=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},z=/&/g,K=/</g,Q=/>/g,H=/"/g,G=/'/g,Y=/\x00/g,X=/[\x00&<>"']/;function $(t,e){return-1!=t.indexOf(e)}function J(t,e){return t<e?-1:t>e?1:0}t:{var Z=n.navigator;if(Z){var tt=Z.userAgent;if(tt){B=tt;break t}}B=""}function et(t){return $(B,t)}function nt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function rt(t){for(var e in t)return!1;return!0}function it(t){var e,n={};for(e in t)n[e]=t[e];return n}var ot,at,st="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<st.length;o++)n=st[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ct(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function lt(t){return X.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(z,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(K,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(Q,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(H,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(G,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(Y,"&#0;"))),t}function ft(t){n.setTimeout(function(){throw t},0)}function ht(t,e){at||function(){if(n.Promise&&n.Promise.resolve){var t=n.Promise.resolve(void 0);at=function(){t.then(yt)}}else at=function(){var t=yt;!p(n.setImmediate)||n.Window&&n.Window.prototype&&!et("Edge")&&n.Window.prototype.setImmediate==n.setImmediate?(ot||(ot=function(){var t=n.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!et("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;t=e.document,t.open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!et("Trident")&&!et("MSIE")){var e=new t,r={},i=r;return e.port1.onmessage=function(){if(void 0!==r.next){var t=(r=r.next).xb;r.xb=null,t()}},function(t){i.next={xb:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){n.setTimeout(t,0)}}()),ot(t)):n.setImmediate(t)}}(),pt||(at(),pt=!0),dt.add(t,e)}var pt=!1,dt=new x;function yt(){for(var t;t=P();){try{t.a.call(t.b)}catch(e){ft(e)}C(k,t)}pt=!1}function mt(t,e){if(this.a=vt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=u)try{var n=this;t.call(e,function(t){xt(n,gt,t)},function(t){if(!(t instanceof Mt))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}xt(n,bt,t)})}catch(r){xt(this,bt,r)}}var vt=0,gt=2,bt=3;function wt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}wt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Et=new O(function(){return new wt},function(t){t.reset()});function Tt(t,e,n){var r=Et.get();return r.g=t,r.b=e,r.f=n,r}function St(t){if(t instanceof mt)return t;var e=new mt(u);return xt(e,gt,t),e}function _t(t){return new mt(function(e,n){n(t)})}function It(t,e,n){kt(t,e,n,null)||ht(w(e,t))}function At(t){return new mt(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Eb:!0,value:o}:{Eb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)It(t[o],w(i,o,!0),w(i,o,!1));else e(r)})}function Ot(t,e){t.b||t.a!=gt&&t.a!=bt||Pt(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ct(t,e,n,r){var i=Tt(null,null,null);return i.a=new mt(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Mt?o(e):t(i)}catch(a){o(a)}}:o}),i.a.c=t,Ot(t,i),i.a}function xt(t,e,n){t.a==vt&&(t===n&&(e=bt,n=new TypeError("Promise cannot resolve to itself")),t.a=1,kt(n,t.Pc,t.Qc,t)||(t.i=n,t.a=e,t.c=null,Pt(t),e!=bt||n instanceof Mt||function(t,e){t.g=!0,ht(function(){t.g&&Lt.call(null,e)})}(t,n)))}function kt(t,e,n,r){if(t instanceof mt)return Ot(t,Tt(e||u,n||null,r)),!0;if(S(t))return t.then(e,n,r),!0;if(d(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(i,t))},o)}catch(s){o(s)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Pt(t){t.h||(t.h=!0,ht(t.Yb,t))}function Dt(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Nt(t,e,n,r){if(n==bt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Rt(e,n,r);else try{e.c?e.g.call(e.f):Rt(e,n,r)}catch(i){Lt.call(null,i)}C(Et,e)}function Rt(t,e,n){e==gt?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}mt.prototype.then=function(t,e,n){return Ct(this,p(t)?t:null,p(e)?e:null,n)},mt.prototype.$goog_Thenable=!0,(t=mt.prototype).ia=function(t,e){return(t=Tt(t,t,e)).c=!0,Ot(this,t),this},t.s=function(t,e){return Ct(this,null,t,e)},t.cancel=function(t){this.a==vt&&ht(function(){!function t(e,n){if(e.a==vt)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==vt&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Dt(r),Nt(r,o,bt,n)))}e.c=null}else xt(e,bt,n)}(this,new Mt(t))},this)},t.Pc=function(t){this.a=vt,xt(this,gt,t)},t.Qc=function(t){this.a=vt,xt(this,bt,t)},t.Yb=function(){for(var t;t=Dt(this);)Nt(this,t,this.a,this.i);this.h=!1};var Lt=ft;function Mt(t){_.call(this,t)}function jt(){0!=Ut&&(Ft[this[y]||(this[y]=++m)]=this),this.qa=this.qa,this.ja=this.ja}T(Mt,_),Mt.prototype.name="cancel";var Ut=0,Ft={};function Vt(t){if(!t.qa&&(t.qa=!0,t.va(),0!=Ut)){var e=t[y]||(t[y]=++m);if(0!=Ut&&t.ja&&0<t.ja.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ft[e]}}function qt(t){return qt[" "](t),t}jt.prototype.qa=!1,jt.prototype.va=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},qt[" "]=u;var Bt,Wt=et("Opera"),zt=et("Trident")||et("MSIE"),Kt=et("Edge"),Qt=Kt||zt,Ht=et("Gecko")&&!($(B.toLowerCase(),"webkit")&&!et("Edge"))&&!(et("Trident")||et("MSIE"))&&!et("Edge"),Gt=$(B.toLowerCase(),"webkit")&&!et("Edge");function Yt(){var t=n.document;return t?t.documentMode:void 0}t:{var Xt="",$t=function(){var t=B;return Ht?/rv:([^\);]+)(\)|;)/.exec(t):Kt?/Edge\/([\d\.]+)/.exec(t):zt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Gt?/WebKit\/(\S+)/.exec(t):Wt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if($t&&(Xt=$t?$t[1]:""),zt){var Jt=Yt();if(null!=Jt&&Jt>parseFloat(Xt)){Bt=String(Jt);break t}}Bt=Xt}var Zt,te={};function ee(t){return function(t,e){var n=te;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(){for(var e=0,n=W(String(Bt)).split("."),r=W(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=J(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||J(0==a[2].length,0==s[2].length)||J(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var ne=n.document;Zt=ne&&zt?Yt()||("CSS1Compat"==ne.compatMode?parseInt(Bt,10):5):void 0;var re=Object.freeze||function(t){return t},ie=!zt||9<=Number(Zt),oe=zt&&!ee("9"),ae=function(){if(!n.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{n.addEventListener("test",u,e),n.removeEventListener("test",u,e)}catch(r){}return t}();function se(t,e){this.type=t,this.b=this.target=e,this.Kb=!0}function ue(t,e){if(se.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Ht){t:{try{qt(e.nodeName);var o=!0;break t}catch(a){}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=i(t.pointerType)?t.pointerType:ce[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}se.prototype.preventDefault=function(){this.Kb=!1},T(ue,se);var ce=re({2:"touch",3:"pen",4:"mouse"});ue.prototype.preventDefault=function(){ue.pb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,oe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},ue.prototype.f=function(){return this.a};var le="closure_listenable_"+(1e6*Math.random()|0),fe=0;function he(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ma=i,this.key=++fe,this.oa=this.Ia=!1}function pe(t){t.oa=!0,t.listener=null,t.proxy=null,t.src=null,t.Ma=null}function de(t){this.src=t,this.a={},this.b=0}function ye(t,e){var n=e.type;n in t.a&&U(t.a[n],e)&&(pe(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function me(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.oa&&o.listener==e&&o.capture==!!n&&o.Ma==r)return i}return-1}de.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=me(t,e,r,i);return-1<a?(e=t[a],n||(e.Ia=!1)):((e=new he(e,this.src,o,!!r,i)).Ia=n,t.push(e)),e};var ve="closure_lm_"+(1e6*Math.random()|0),ge={};function be(t,e,n,r,i){if(r&&r.once)Ee(t,e,n,r,i);else if(f(e))for(var o=0;o<e.length;o++)be(t,e[o],n,r,i);else n=ke(n),t&&t[le]?De(t,e,n,d(r)?!!r.capture:!!r,i):we(t,e,n,!1,r,i)}function we(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=d(i)?!!i.capture:!!i,s=Ce(t);if(s||(t[ve]=s=new de(t)),!(n=s.add(e,n,r,a,o)).proxy){if(r=function(){var t=Oe,e=ie?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ae||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_e(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function Ee(t,e,n,r,i){if(f(e))for(var o=0;o<e.length;o++)Ee(t,e[o],n,r,i);else n=ke(n),t&&t[le]?Ne(t,e,n,d(r)?!!r.capture:!!r,i):we(t,e,n,!0,r,i)}function Te(t,e,n,r,i){if(f(e))for(var o=0;o<e.length;o++)Te(t,e[o],n,r,i);else r=d(r)?!!r.capture:!!r,n=ke(n),t&&t[le]?(t=t.o,(e=String(e).toString())in t.a&&(-1<(n=me(o=t.a[e],n,r,i))&&(pe(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Ce(t))&&(e=t.a[e.toString()],t=-1,e&&(t=me(e,n,r,i)),(n=-1<t?e[t]:null)&&Se(n))}function Se(t){if("number"!=typeof t&&t&&!t.oa){var e=t.src;if(e&&e[le])ye(e.o,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_e(n),r):e.addListener&&e.removeListener&&e.removeListener(r),0,(n=Ce(e))?(ye(n,t),0==n.b&&(n.src=null,e[ve]=null)):pe(t)}}}function _e(t){return t in ge?ge[t]:ge[t]="on"+t}function Ie(t,e,n,r){var i=!0;if((t=Ce(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.oa&&(o=Ae(o,r),i=i&&!1!==o)}return i}function Ae(t,e){var n=t.listener,r=t.Ma||t.src;return t.Ia&&Se(t),n.call(r,e)}function Oe(t,e){if(t.oa)return!0;if(!ie){if(!e)t:{e=["window","event"];for(var r=n,i=0;i<e.length;i++)if(null==(r=r[e[i]])){e=null;break t}e=r}if(e=new ue(i=e,this),r=!0,!(0>i.keyCode||void 0!=i.returnValue)){t:{var o=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(s){o=!0}(o||void 0==i.returnValue)&&(i.returnValue=!0)}for(i=[],o=e.b;o;o=o.parentNode)i.push(o);for(t=t.type,o=i.length-1;0<=o;o--){e.b=i[o];var a=Ie(i[o],t,!0,e);r=r&&a}for(o=0;o<i.length;o++)e.b=i[o],a=Ie(i[o],t,!1,e),r=r&&a}return r}return Ae(t,new ue(e,this))}function Ce(t){return(t=t[ve])instanceof de?t:null}var xe="__closure_events_fn_"+(1e9*Math.random()>>>0);function ke(t){return p(t)?t:(t[xe]||(t[xe]=function(e){return t.handleEvent(e)}),t[xe])}function Pe(){jt.call(this),this.o=new de(this),this.Rb=this,this.Wa=null}function De(t,e,n,r,i){t.o.add(String(e),n,!1,r,i)}function Ne(t,e,n,r,i){t.o.add(String(e),n,!0,r,i)}function Re(t,e,n,r){if(!(e=t.o.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.oa&&a.capture==n){var s=a.listener,u=a.Ma||a.src;a.Ia&&ye(t.o,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Kb}function Le(t,e,r){if(p(t))r&&(t=b(t,r));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:n.setTimeout(t,e||0)}function Me(t){var e=null;return new mt(function(n,r){-1==(e=Le(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).s(function(t){throw n.clearTimeout(e),t})}function je(t){if(t.S&&"function"==typeof t.S)return t.S();if(i(t))return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Ue(t){if(t.U&&"function"==typeof t.U)return t.U();if(!t.S||"function"!=typeof t.S){if(h(t)||i(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Fe(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Fe)for(n=t.U(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ve(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];qe(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)qe(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function qe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}T(Pe,jt),Pe.prototype[le]=!0,Pe.prototype.addEventListener=function(t,e,n,r){be(this,t,e,n,r)},Pe.prototype.removeEventListener=function(t,e,n,r){Te(this,t,e,n,r)},Pe.prototype.dispatchEvent=function(t){var e,n=this.Wa;if(n)for(e=[];n;n=n.Wa)e.push(n);n=this.Rb;var r=t.type||t;if(i(t))t=new se(t,n);else if(t instanceof se)t.target=t.target||n;else{var o=t;ut(t=new se(r,n),o)}if(o=!0,e)for(var a=e.length-1;0<=a;a--){var s=t.b=e[a];o=Re(s,r,!0,t)&&o}if(o=Re(s=t.b=n,r,!0,t)&&o,o=Re(s,r,!1,t)&&o,e)for(a=0;a<e.length;a++)o=Re(s=t.b=e[a],r,!1,t)&&o;return o},Pe.prototype.va=function(){if(Pe.pb.va.call(this),this.o){var t,e=this.o;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)0,pe(n[r]);delete e.a[t],e.b--}}this.Wa=null},(t=Fe.prototype).S=function(){Ve(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.U=function(){return Ve(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return qe(this.b,t)?this.b[t]:e},t.set=function(t,e){qe(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.U(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Be=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function We(t,e){if(this.b=this.o=this.c="",this.i=null,this.h=this.g="",this.f=!1,t instanceof We){this.f=void 0!==e?e:t.f,ze(this,t.c),this.o=t.o,this.b=t.b,Ke(this,t.i),this.g=t.g,e=t.a;var n=new an;n.c=e.c,e.a&&(n.a=new Fe(e.a),n.b=e.b),Qe(this,n),this.h=t.h}else t&&(n=String(t).match(Be))?(this.f=!!e,ze(this,n[1]||"",!0),this.o=$e(n[2]||""),this.b=$e(n[3]||"",!0),Ke(this,n[4]),this.g=$e(n[5]||"",!0),Qe(this,n[6]||"",!0),this.h=$e(n[7]||"")):(this.f=!!e,this.a=new an(null,this.f))}function ze(t,e,n){t.c=n?$e(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Ke(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Qe(t,e,n){e instanceof an?(t.a=e,function(t,e){e&&!t.f&&(sn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(cn(this,e),fn(this,n,t))},t)),t.f=e}(t.a,t.f)):(n||(e=Je(e,rn)),t.a=new an(e,t.f))}function He(t,e,n){t.a.set(e,n)}function Ge(t,e){return t.a.get(e)}function Ye(t){return t instanceof We?new We(t):new We(t,void 0)}function Xe(t,e){var n=new We(null,void 0);return ze(n,"https"),t&&(n.b=t),e&&(n.g=e),n}function $e(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Je(t,e,n){return i(t)?(t=encodeURI(t).replace(e,Ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}We.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Je(e,tn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.o)&&t.push(Je(e,tn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Je(n,"/"==n.charAt(0)?nn:en,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Je(n,on)),t.join("")};var tn=/[#\/\?@]/g,en=/[#\?:]/g,nn=/[#\?]/g,rn=/[#\?@]/g,on=/#/g;function an(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function sn(t){t.a||(t.a=new Fe,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function un(t){var e=Ue(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new an(null,void 0);t=je(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];f(o)?fn(n,i,o):n.add(i,o)}return n}function cn(t,e){sn(t),e=hn(t,e),qe(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,qe((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ve(t)))}function ln(t,e){return sn(t),e=hn(t,e),qe(t.a.b,e)}function fn(t,e,n){cn(t,e),0<n.length&&(t.c=null,t.a.set(hn(t,e),q(n)),t.b+=n.length)}function hn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(t=an.prototype).add=function(t,e){sn(this),this.c=null,t=hn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){sn(this),this.a.forEach(function(n,r){R(n,function(n){t.call(e,n,r,this)},this)},this)},t.U=function(){sn(this);for(var t=this.a.S(),e=this.a.U(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.S=function(t){sn(this);var e=[];if(i(t))ln(this,t)&&(e=V(e,this.a.get(hn(this,t))));else{t=this.a.S();for(var n=0;n<t.length;n++)e=V(e,t[n])}return e},t.set=function(t,e){return sn(this),this.c=null,ln(this,t=hn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.S(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.U(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.S(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var pn=!zt||9<=Number(Zt);function dn(t,e){this.a=t===vn&&e||"",this.b=mn}function yn(t){return t instanceof dn&&t.constructor===dn&&t.b===mn?t.a:(A("expected object of type Const, got '"+t+"'"),"type_error:Const")}dn.prototype.na=!0,dn.prototype.ma=function(){return this.a},dn.prototype.toString=function(){return"Const{"+this.a+"}"};var mn={},vn={};function gn(){this.a="",this.b=Sn}function bn(t){return t instanceof gn&&t.constructor===gn&&t.b===Sn?t.a:(A("expected object of type TrustedResourceUrl, got '"+t+"' of type "+c(t)),"type_error:TrustedResourceUrl")}function wn(t,e){var n=yn(t);if(!Tn.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=new gn;return e.a=t,e}(t=n.replace(En,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof dn?yn(t):encodeURIComponent(String(t))}))}gn.prototype.na=!0,gn.prototype.ma=function(){return this.a},gn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var En=/%{(\w+)}/g,Tn=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^\/\\]|[^:\/\\%]+\/|[^:\/\\%]*[?#]|about:blank#)/i,Sn={};function _n(){this.a="",this.b=Cn}function In(t){return t instanceof _n&&t.constructor===_n&&t.b===Cn?t.a:(A("expected object of type SafeUrl, got '"+t+"' of type "+c(t)),"type_error:SafeUrl")}_n.prototype.na=!0,_n.prototype.ma=function(){return this.a},_n.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var An=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i;function On(t){return t instanceof _n?t:(t="object"==typeof t&&t.na?t.ma():String(t),An.test(t)||(t="about:invalid#zClosurez"),xn(t))}var Cn={};function xn(t){var e=new _n;return e.a=t,e}function kn(){this.a="",this.b=Pn}xn("about:blank"),kn.prototype.na=!0,kn.prototype.ma=function(){return this.a},kn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Pn={};function Dn(t){var e=new kn;return e.a=t,e}function Nn(t){var e=document;return i(t)?e.getElementById(t):t}function Rn(t,e){nt(e,function(e,n){e&&"object"==typeof e&&e.na&&(e=e.ma()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Ln.hasOwnProperty(n)?t.setAttribute(Ln[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}Dn("<!DOCTYPE html>"),Dn(""),Dn("<br>");var Ln={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Mn(t,e,n){var r=arguments,o=document,a=String(r[0]),s=r[1];if(!pn&&s&&(s.name||s.type)){if(a=["<",a],s.name&&a.push(' name="',lt(s.name),'"'),s.type){a.push(' type="',lt(s.type),'"');var u={};ut(u,s),delete u.type,s=u}a.push(">"),a=a.join("")}return a=o.createElement(a),s&&(i(s)?a.className=s:f(s)?a.className=s.join(" "):Rn(a,s)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild(i(n)?t.createTextNode(n):n)}for(var o=2;o<n.length;o++){var a=n[o];!h(a)||d(a)&&0<a.nodeType?r(a):R(jn(a)?q(a):a,r)}}(o,a,r),a}function jn(t){if(t&&"number"==typeof t.length){if(d(t))return"function"==typeof t.item||"string"==typeof t.item;if(p(t))return"function"==typeof t.item}return!1}function Un(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(f(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(a=n[i])&&(r.push(o),Bn(i,r),r.push(":"),t(e,a,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Bn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Fn,t,e),e.join("")}function Fn(){}var Vn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},qn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Bn(t,e){e.push('"',t.replace(qn,function(t){var e=Vn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Vn[t]=e),e}),'"')}function Wn(){var t=ur();return zt&&!!Zt&&11==Zt||/Edge\/\d+/.test(t)}function zn(){return n.window&&n.window.location.href||self&&self.location&&self.location.href||""}function Kn(t,e){e=e||n.window;var r="about:blank";t&&(r=In(On(t))),e.location.href=r}function Qn(t){return!!((t=(t||ur()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function Hn(t){t=t||n.window;try{t.close()}catch(e){}}function Gn(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=ur().toLowerCase(),r&&(e.target=r,$(n,"crios/")&&(e.target="_blank")),or(ur())==rr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof _n?n:On("undefined"!=typeof n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((et("iPhone")&&!et("iPod")&&!et("iPad")||et("iPad")||et("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(a=r.document.createElement("A"),e instanceof _n||e instanceof _n||(e="object"==typeof e&&e.na?e.ma():String(e),An.test(e)||(e="about:invalid#zClosurez"),e=xn(e)),a.href=In(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=In(e),a&&(Qt&&$(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t=Dn('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+lt(t)+'">'),a.document.write(function(t){return t instanceof kn&&t.constructor===kn&&t.b===Pn?t.a:(A("expected object of type SafeHtml, got '"+t+"' of type "+c(t)),"type_error:SafeHtml")}(t)),a.document.close())):(a=r.open(In(e),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var Yn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xn=/^[^@]+@[^@]+$/;function $n(){var t=null;return new mt(function(e){"complete"==n.document.readyState?e():(t=function(){e()},Ee(window,"load",t))}).s(function(e){throw Te(window,"load",t),e})}function Jn(t){return t=t||ur(),!("file:"!==pr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zn(){var t=n.window;try{return!(!t||t==t.top)}catch(e){return!1}}function tr(){return"object"!==typeof n.window&&"function"===typeof n.importScripts}function er(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":tr()?"Worker":"Browser"}function nr(){var t=er();return"ReactNative"===t||"Node"===t}var rr="Firefox",ir="Chrome";function or(t){var e=t.toLowerCase();return $(e,"opera/")||$(e,"opr/")||$(e,"opios/")?"Opera":$(e,"iemobile")?"IEMobile":$(e,"msie")||$(e,"trident/")?"IE":$(e,"edge/")?"Edge":$(e,"firefox/")?rr:$(e,"silk/")?"Silk":$(e,"blackberry")?"Blackberry":$(e,"webos")?"Webos":!$(e,"safari/")||$(e,"chrome/")||$(e,"crios/")||$(e,"android")?!$(e,"chrome/")&&!$(e,"crios/")||$(e,"edge/")?$(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":ir:"Safari"}var ar={Wc:"FirebaseCore-web",Yc:"FirebaseUI-web"};function sr(t,e){e=e||[];var n,r=[],i={};for(n in ar)i[ar[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=er())?r=or(i=ur()):"Worker"===r&&(r=or(i=ur())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function ur(){return n.navigator&&n.navigator.userAgent||""}function cr(t,e){t=t.split("."),e=e||n;for(var r=0;r<t.length&&"object"==typeof e&&null!=e;r++)e=e[t[r]];return r!=t.length&&(e=void 0),e}function lr(){try{var t=n.localStorage,e=gr();if(t)return t.setItem(e,"1"),t.removeItem(e),!Wn()||!!n.indexedDB}catch(r){return tr()&&!!n.indexedDB}return!1}function fr(){return(hr()||"chrome-extension:"===pr()||Jn())&&!nr()&&lr()&&!tr()}function hr(){return"http:"===pr()||"https:"===pr()}function pr(){return n.location&&n.location.protocol||null}function dr(t){return!Qn(t=t||ur())&&or(t)!=rr}function yr(t){return"undefined"===typeof t?null:Un(t)}function mr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function vr(t){if(null!==t)return JSON.parse(t)}function gr(t){return t||Math.floor(1e9*Math.random()).toString()}function br(t){return"Safari"!=or(t=t||ur())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function wr(){var t=n.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var r=0;r<t.CP.length;r++)t.CP[r]=null}function Er(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=ur(),e=er(),this.b=Qn(t)||"ReactNative"===e}function Tr(){var t=n.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function Sr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function _r(){return!(!cr("fireauth.oauthhelper",n)&&!cr("fireauth.iframe",n))}Er.prototype.get=function(){var t=n.navigator;return!t||"boolean"!==typeof t.onLine||!hr()&&"chrome-extension:"!==pr()&&"undefined"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Ir,Ar={};function Or(t){Ar[t]||(Ar[t]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t))}try{var Cr={};Object.defineProperty(Cr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Cr,"abcd",{configurable:!0,enumerable:!0,value:2}),Ir=2==Cr.abcd}catch(To){Ir=!1}function xr(t,e,n){Ir?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function kr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&xr(t,n,e[n])}function Pr(t){var e={};return kr(e,t),e}function Dr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)xr(e,n,Dr(t[n]));return e}function Nr(t){var e={},n=t[Lr],r=t[Mr];if(!(t=t[jr])||t!=Rr&&!n)throw Error("Invalid provider user info!");e[Fr]=r||null,e[Ur]=n||null,xr(this,qr,t),xr(this,Vr,Dr(e))}var Rr="EMAIL_SIGNIN",Lr="email",Mr="newEmail",jr="requestType",Ur="email",Fr="fromEmail",Vr="data",qr="operation";function Br(t,e){this.code=zr+t,this.message=e||Kr[t]||""}function Wr(t){var e=t&&t.code;return e?new Br(e.substring(zr.length),t.message):null}T(Br,Error),Br.prototype.C=function(){return{code:this.code,message:this.message}},Br.prototype.toJSON=function(){return this.C()};var zr="auth/",Kr={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function Qr(t){var e=t[$r];if("undefined"===typeof e)throw new Br("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new Br("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Hr];if(n&&"object"===typeof n){e=n[ti];var r=n[Jr];if(n=n[Zr],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof r&&"boolean"!==typeof r)throw new Br("argument-error",Jr+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new Br("argument-error",Zr+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new Br("argument-error",ti+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new Br("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new Br("argument-error",Hr+" property must be a non null object when specified.");if(this.f=null,(e=t[Xr])&&"object"===typeof e){if("string"===typeof(e=e[ei])&&e.length)this.f=e;else if("undefined"!==typeof e)throw new Br("argument-error",ei+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new Br("argument-error",Xr+" property must be a non null object when specified.");if("undefined"!==typeof(e=t[Yr])&&"boolean"!==typeof e)throw new Br("argument-error",Yr+" property must be a boolean when specified.");if(this.c=!!e,"undefined"!==typeof(t=t[Gr])&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new Br("argument-error",Gr+" property must be a non empty string when specified.");this.i=t||null}var Hr="android",Gr="dynamicLinkDomain",Yr="handleCodeInApp",Xr="iOS",$r="url",Jr="installApp",Zr="minimumVersion",ti="packageName",ei="bundleId";function ni(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var ri=null,ii=null;function oi(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=ii[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!ri){ri={},ii={};for(var t=0;65>t;t++)ri[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),ii[ri[t]]=t,62<=t&&(ii["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,function(t){e+=String.fromCharCode(t)}),e}function ai(t){this.c=t.sub,E(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function si(t){return(t=ui(t))&&t.sub&&t.iss&&t.aud&&t.exp?new ai(t):null}function ui(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(oi(t))}catch(r){}return null}ai.prototype.f=function(){return this.b};var ci,li={bd:{bb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",jb:"https://securetoken.googleapis.com/v1/token",id:"p"},dd:{bb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",jb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ed:{bb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",jb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function fi(t){for(var e in li)if(li[e].id===t)return{firebaseEndpoint:(t=li[e]).bb,secureTokenEndpoint:t.jb};return null}ci=fi("__EID__")?"__EID__":void 0;var hi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),pi=["client_id","response_type","scope","redirect_uri","state"],di={Xc:{Na:"locale",Ba:500,Aa:600,Oa:"facebook.com",ib:pi},Zc:{Na:null,Ba:500,Aa:620,Oa:"github.com",ib:pi},$c:{Na:"hl",Ba:515,Aa:680,Oa:"google.com",ib:pi},fd:{Na:"lang",Ba:485,Aa:705,Oa:"twitter.com",ib:hi}};function yi(t){for(var e in di)if(di[e].Oa==t)return di[e];return null}function mi(t){var e={};e["facebook.com"]=Ei,e["google.com"]=Si,e["github.com"]=Ti,e["twitter.com"]=_i;var n=t&&t[gi];try{if(n)return e[n]?new e[n](t):new wi(t);if("undefined"!==typeof t[vi])return new bi(t)}catch(r){}return null}var vi="idToken",gi="providerId";function bi(t){var e=t[gi];if(!e&&t[vi]){var n=si(t[vi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),xr(this,"providerId",e),xr(this,"isNewUser",n)}function wi(t){bi.call(this,t),xr(this,"profile",Dr((t=vr(t.rawUserInfo||"{}"))||{}))}function Ei(t){if(wi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ti(t){if(wi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");xr(this,"username",this.profile&&this.profile.login||null)}function Si(t){if(wi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function _i(t){if(wi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");xr(this,"username",t.screenName||null)}function Ii(t){this.a=Ye(t)}function Ai(t){var e=Ye(t),n=Ge(e,"link"),r=Ge(Ye(n),"link");return e=Ge(e,"deep_link_id"),Ge(Ye(e),"link")||e||r||n||t}function Oi(t,e){return t.then(function(t){if(t[ha]){var n=si(t[ha]);if(!n||e!=n.c)throw new Br("user-mismatch");return t}throw new Br("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==zr+"user-not-found"?new Br("user-mismatch"):t})}function Ci(t,e){if(!e)throw new Br("internal-error","failed to construct a credential");this.a=e,xr(this,"providerId",t),xr(this,"signInMethod",t)}function xi(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function ki(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&xr(this,"idToken",e.idToken),e.accessToken&&xr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&xr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Br("internal-error","failed to construct a credential");xr(this,"accessToken",e.oauthToken),xr(this,"secret",e.oauthTokenSecret)}xr(this,"providerId",t),xr(this,"signInMethod",n)}function Pi(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:un(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function Di(t,e){this.Fc=e||[],kr(this,{providerId:t,isOAuthProvider:!0}),this.zb={},this.eb=(yi(t)||{}).Na||null,this.ab=null}function Ni(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new Br("argument-error",'SAML provider IDs must be prefixed with "saml."');Di.call(this,t,[])}function Ri(t){Di.call(this,t,pi),this.a=[]}function Li(){Ri.call(this,"facebook.com")}function Mi(t){if(!t)throw new Br("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new Li).credential(null,e)}function ji(){Ri.call(this,"github.com")}function Ui(t){if(!t)throw new Br("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new ji).credential(null,e)}function Fi(){Ri.call(this,"google.com"),this.ua("profile")}function Vi(t,e){var n=t;return d(t)&&(n=t.idToken,e=t.accessToken),(new Fi).credential(n,e)}function qi(){Di.call(this,"twitter.com",hi)}function Bi(t,e){var n=t;if(d(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Br("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ki("twitter.com",n,"twitter.com")}function Wi(t,e,n){this.a=t,this.c=e,xr(this,"providerId","password"),xr(this,"signInMethod",n===zi.EMAIL_LINK_SIGN_IN_METHOD?zi.EMAIL_LINK_SIGN_IN_METHOD:zi.EMAIL_PASSWORD_SIGN_IN_METHOD)}function zi(){kr(this,{providerId:"password",isOAuthProvider:!1})}function Ki(t,e){if(!(e=Qi(e)))throw new Br("argument-error","Invalid email link!");return new Wi(t,e,zi.EMAIL_LINK_SIGN_IN_METHOD)}function Qi(t){var e=Ge((t=new Ii(t=Ai(t))).a,"oobCode")||null;return"signIn"===(Ge(t.a,"mode")||null)&&e?e:null}function Hi(t){if(!(t.Ua&&t.Ta||t.Fa&&t.$))throw new Br("internal-error");this.a=t,xr(this,"providerId","phone"),xr(this,"signInMethod","phone")}function Gi(t){return t.a.Fa&&t.a.$?{temporaryProof:t.a.Fa,phoneNumber:t.a.$}:{sessionInfo:t.a.Ua,code:t.a.Ta}}function Yi(t){try{this.a=t||r.a.auth()}catch(e){throw new Br("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}kr(this,{providerId:"phone",isOAuthProvider:!1})}function Xi(t,e){if(!t)throw new Br("missing-verification-id");if(!e)throw new Br("missing-verification-code");return new Hi({Ua:t,Ta:e})}function $i(t){if(t.temporaryProof&&t.phoneNumber)return new Hi({Fa:t.temporaryProof,$:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return Vi(o,n);case"facebook.com":return Mi(n);case"github.com":return Ui(n);case"twitter.com":return Bi(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new Ci(e,a):new ki(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Ri(e).credential(o,n,i):null}}catch(s){return null}}function Ji(t){if(!t.isOAuthProvider)throw new Br("invalid-oauth-provider")}function Zi(t,e,n,r,i,o){if(this.b=t,this.c=e||null,this.f=n||null,this.g=r||null,this.h=o||null,this.a=i||null,!this.f&&!this.a)throw new Br("invalid-auth-event");if(this.f&&this.a)throw new Br("invalid-auth-event");if(this.f&&!this.g)throw new Br("invalid-auth-event")}function to(t){return(t=t||{}).type?new Zi(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Wr(t.error),t.postBody):null}function eo(){this.b=null,this.a=[]}T(wi,bi),T(Ei,wi),T(Ti,wi),T(Si,wi),T(_i,wi),Ci.prototype.la=function(t){return ka(t,xi(this))},Ci.prototype.b=function(t,e){var n=xi(this);return n.idToken=e,Pa(t,n)},Ci.prototype.f=function(t,e){return Oi(Da(t,xi(this)),e)},Ci.prototype.C=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ki.prototype.la=function(t){return ka(t,Pi(this))},ki.prototype.b=function(t,e){var n=Pi(this);return n.idToken=e,Pa(t,n)},ki.prototype.f=function(t,e){return Oi(Da(t,Pi(this)),e)},ki.prototype.C=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},Di.prototype.Da=function(t){return this.zb=it(t),this},T(Ni,Di),T(Ri,Di),Ri.prototype.ua=function(t){return j(this.a,t)||this.a.push(t),this},Ri.prototype.Fb=function(){return q(this.a)},Ri.prototype.credential=function(t,e,n){if(!t&&!e)throw new Br("argument-error","credential failed: must provide the ID token and/or the access token.");return new ki(this.providerId,{idToken:t||null,accessToken:e||null,nonce:n||null},this.providerId)},T(Li,Ri),xr(Li,"PROVIDER_ID","facebook.com"),xr(Li,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(ji,Ri),xr(ji,"PROVIDER_ID","github.com"),xr(ji,"GITHUB_SIGN_IN_METHOD","github.com"),T(Fi,Ri),xr(Fi,"PROVIDER_ID","google.com"),xr(Fi,"GOOGLE_SIGN_IN_METHOD","google.com"),T(qi,Di),xr(qi,"PROVIDER_ID","twitter.com"),xr(qi,"TWITTER_SIGN_IN_METHOD","twitter.com"),Wi.prototype.la=function(t){return this.signInMethod==zi.EMAIL_LINK_SIGN_IN_METHOD?ss(t,Va,{email:this.a,oobCode:this.c}):ss(t,rs,{email:this.a,password:this.c})},Wi.prototype.b=function(t,e){return this.signInMethod==zi.EMAIL_LINK_SIGN_IN_METHOD?ss(t,qa,{idToken:e,email:this.a,oobCode:this.c}):ss(t,$a,{idToken:e,email:this.a,password:this.c})},Wi.prototype.f=function(t,e){return Oi(this.la(t),e)},Wi.prototype.C=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},kr(zi,{PROVIDER_ID:"password"}),kr(zi,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),kr(zi,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Hi.prototype.la=function(t){return t.Va(Gi(this))},Hi.prototype.b=function(t,e){var n=Gi(this);return n.idToken=e,ss(t,os,n)},Hi.prototype.f=function(t,e){var n=Gi(this);return n.operation="REAUTH",Oi(t=ss(t,as,n),e)},Hi.prototype.C=function(){var t={providerId:"phone"};return this.a.Ua&&(t.verificationId=this.a.Ua),this.a.Ta&&(t.verificationCode=this.a.Ta),this.a.Fa&&(t.temporaryProof=this.a.Fa),this.a.$&&(t.phoneNumber=this.a.$),t},Yi.prototype.Va=function(t,e){var n=this.a.b;return St(e.verify()).then(function(r){if(!i(r))throw new Br("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return ss(t,Ya,e)}(n,{phoneNumber:t,recaptchaToken:r}).then(function(t){return"function"===typeof e.reset&&e.reset(),t},function(t){throw"function"===typeof e.reset&&e.reset(),t});default:throw new Br("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},kr(Yi,{PROVIDER_ID:"phone"}),kr(Yi,{PHONE_SIGN_IN_METHOD:"phone"}),Zi.prototype.C=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,postBody:this.h,error:this.a&&this.a.C()}};var no,ro=null;function io(t){var e="unauthorized-domain",n=void 0,r=Ye(t);t=r.b,"chrome-extension"==(r=r.c)?n=ct("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=ct("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Br.call(this,e,n)}function oo(t,e,n){Br.call(this,t,n),(t=e||{}).Ab&&xr(this,"email",t.Ab),t.$&&xr(this,"phoneNumber",t.$),t.credential&&xr(this,"credential",t.credential)}function ao(t){if(t.code){var e=t.code||"";0==e.indexOf(zr)&&(e=e.substring(zr.length));var n={credential:$i(t)};if(t.email)n.Ab=t.email;else if(t.phoneNumber)n.$=t.phoneNumber;else if(!n.credential)return new Br(e,t.message||void 0);return new oo(e,n,t.message)}return null}function so(){}function uo(t){return t.c||(t.c=t.b())}function co(){}function lo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function fo(){}function ho(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.fc,this),this.a.onerror=b(this.Gb,this),this.a.onprogress=b(this.gc,this),this.a.ontimeout=b(this.kc,this)}function po(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function yo(t,e,n){this.reset(t,e,n,void 0,void 0)}eo.prototype.subscribe=function(t){var e=this;this.a.push(t),this.b||(this.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"===typeof(t=cr("universalLinks.subscribe",n))&&t(null,this.b))},eo.prototype.unsubscribe=function(t){F(this.a,function(e){return e==t})},T(io,Br),T(oo,Br),oo.prototype.C=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.C();return e&&ut(t,e),t},oo.prototype.toJSON=function(){return this.C()},so.prototype.c=null,T(co,so),co.prototype.a=function(){var t=lo(this);return t?new ActiveXObject(t):new XMLHttpRequest},co.prototype.b=function(){var t={};return lo(this)&&(t[0]=!0,t[1]=!0),t},no=new co,T(fo,so),fo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new ho;throw Error("Unsupported browser")},fo.prototype.b=function(){return{}},(t=ho.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,po(this,4)},t.Gb=function(){this.status=500,this.response=this.responseText="",po(this,4)},t.kc=function(){this.Gb()},t.gc=function(){this.status=200,po(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},yo.prototype.a=null;function mo(t){this.f=t,this.b=this.c=this.a=null}function vo(t,e){this.name=t,this.value=e}yo.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||E(),delete this.a},vo.prototype.toString=function(){return this.name};var go=new vo("SEVERE",1e3),bo=new vo("WARNING",900),wo=new vo("CONFIG",700),Eo=new vo("FINE",500);mo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(A("Root logger has no level set."),null)}(this).value)for(p(e)&&(e=e()),t=new yo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var To,So={},_o=null;function Io(t){var e;if(_o||(_o=new mo(""),So[""]=_o,_o.c=wo),!(e=So[t])){e=new mo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=Io(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,So[t]=e}return e}function Ao(t,e){t&&t.log(Eo,e,void 0)}function Oo(t){this.f=t}function Co(t){Pe.call(this),this.u=t,this.readyState=xo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=Io("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}T(Oo,so),Oo.prototype.a=function(){return new Co(this.f)},Oo.prototype.b=(To={},function(){return To}),T(Co,Pe);var xo=0;function ko(t){t.c.read().then(t.ec.bind(t)).catch(t.La.bind(t))}function Po(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,Do(t)}function Do(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function No(t){Pe.call(this),this.headers=new Fe,this.D=t||null,this.c=!1,this.w=this.a=null,this.h=this.N=this.l="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.m=Ro,this.v=this.O=!1}(t=Co.prototype).open=function(t,e){if(this.readyState!=xo)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,Do(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.g,e)).then(this.jc.bind(this),this.La.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Po(this,!1)),this.readyState=xo},t.jc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,Do(this)),this.a&&(this.readyState=3,Do(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.hc.bind(this),this.La.bind(this)):"undefined"!==typeof n.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,ko(this)):t.text().then(this.ic.bind(this),this.La.bind(this)))))},t.ec=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?Po(this,!0):Do(this),3==this.readyState&&ko(this)}},t.ic=function(t){this.a&&(this.response=this.responseText=t,Po(this,!0))},t.hc=function(t){this.a&&(this.response=t,Po(this,!0))},t.La=function(t){var e=this.h;e&&e.log(bo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&Po(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(bo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(bo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},T(No,Pe);var Ro="";No.prototype.b=Io("goog.net.XhrIo");var Lo=/^https?$/i,Mo=["POST","PUT"];function jo(t,e,r,o,a){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);r=r?r.toUpperCase():"GET",t.l=e,t.h="",t.N=r,t.G=!1,t.c=!0,t.a=t.D?t.D.a():no.a(),t.w=t.D?uo(t.D):uo(no),t.a.onreadystatechange=b(t.Jb,t);try{Ao(t.b,Qo(t,"Opening Xhr")),t.I=!0,t.a.open(r,String(e),!0),t.I=!1}catch(u){return Ao(t.b,Qo(t,"Error opening Xhr: "+u.message)),void Fo(t,u)}e=o||"";var s=new Fe(t.headers);a&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||i(t))R(t,e,void 0);else for(var n=Ue(t),r=je(t),o=r.length,a=0;a<o;a++)e.call(void 0,r[a],n&&n[a],t)}(a,function(t,e){s.set(e,t)}),a=function(t){t:{for(var e=Uo,n=t.length,r=i(t)?t.split(""):t,o=0;o<n;o++)if(o in r&&e.call(void 0,r[o],o,t)){e=o;break t}e=-1}return 0>e?null:i(t)?t.charAt(e):t[e]}(s.U()),o=n.FormData&&e instanceof n.FormData,!j(Mo,r)||a||o||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.O&&(t.a.withCredentials=t.O);try{Wo(t),0<t.g&&(t.v=function(t){return zt&&ee(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),Ao(t.b,Qo(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ga,t)):t.u=Le(t.Ga,t.g,t)),Ao(t.b,Qo(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(u){Ao(t.b,Qo(t,"Send error: "+u.message)),Fo(t,u)}}function Uo(t){return"content-type"==t.toLowerCase()}function Fo(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Vo(t),Bo(t)}function Vo(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function qo(t){if(t.c&&"undefined"!=typeof e)if(t.w[1]&&4==zo(t)&&2==Ko(t))Ao(t.b,Qo(t,"Local request error detected and ignored"));else if(t.i&&4==zo(t))Le(t.Jb,0,t);else if(t.dispatchEvent("readystatechange"),4==zo(t)){Ao(t.b,Qo(t,"Request complete")),t.c=!1;try{var r,i=Ko(t);t:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break t;default:o=!1}if(!(r=o)){var a;if(a=0===i){var s=String(t.l).match(Be)[1]||null;if(!s&&n.self&&n.self.location){var u=n.self.location.protocol;s=u.substr(0,u.length-1)}a=!Lo.test(s?s.toLowerCase():"")}r=a}if(r)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<zo(t)?t.a.statusText:""}catch(l){Ao(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Ko(t)+"]",Vo(t)}}finally{Bo(t)}}}function Bo(t,e){if(t.a){Wo(t);var n=t.a,r=t.w[0]?u:null;t.a=null,t.w=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(go,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Wo(t){t.a&&t.v&&(t.a.ontimeout=null),t.u&&(n.clearTimeout(t.u),t.u=null)}function zo(t){return t.a?t.a.readyState:0}function Ko(t){try{return 2<zo(t)?t.a.status:-1}catch(e){return-1}}function Qo(t,e){return e+" ["+t.N+" "+t.l+" "+Ko(t)+"]"}function Ho(t){var e=ia;this.g=[],this.v=e,this.u=t||null,this.f=this.a=!1,this.c=void 0,this.l=this.w=this.i=!1,this.h=0,this.b=null,this.o=0}function Go(t,e,n){t.a=!0,t.c=n,t.f=!e,Jo(t)}function Yo(t){if(t.a){if(!t.l)throw new Zo(t);t.l=!1}}function Xo(t,e,n,r){t.g.push([e,n,r]),t.a&&Jo(t)}function $o(t){return M(t.g,function(t){return p(t[1])})}function Jo(t){if(t.h&&t.a&&$o(t)){var e=t.h,r=na[e];r&&(n.clearTimeout(r.a),delete na[e]),t.h=0}t.b&&(t.b.o--,delete t.b),e=t.c;for(var i=r=!1;t.g.length&&!t.i;){var o=t.g.shift(),a=o[0],s=o[1];if(o=o[2],a=t.f?s:a)try{var u=a.call(o||t.u,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(S(e)||"function"===typeof n.Promise&&e instanceof n.Promise)&&(i=!0,t.i=!0)}catch(c){e=c,t.f=!0,$o(t)||(r=!0)}}t.c=e,i&&(u=b(t.m,t,!0),i=b(t.m,t,!1),e instanceof Ho?(Xo(e,u,i),e.w=!0):e.then(u,i)),r&&(e=new ea(e),na[e.a]=e,t.h=e.a)}function Zo(){_.call(this)}function ta(){_.call(this)}function ea(t){this.a=n.setTimeout(b(this.c,this),0),this.b=t}(t=No.prototype).Ga=function(){"undefined"!=typeof e&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Ao(this.b,Qo(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(Ao(this.b,Qo(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Bo(this))},t.va=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Bo(this,!0)),No.pb.va.call(this)},t.Jb=function(){this.qa||(this.I||this.i||this.f?qo(this):this.yc())},t.yc=function(){qo(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ro:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(go,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return Ao(this.b,"Can not get response: "+e.message),null}},Ho.prototype.cancel=function(t){if(this.a)this.c instanceof Ho&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.o--,0>=e.o&&e.cancel())}this.v?this.v.call(this.u,this):this.l=!0,this.a||(t=new ta(this),Yo(this),Go(this,!1,t))}},Ho.prototype.m=function(t,e){this.i=!1,Go(this,t,e)},Ho.prototype.then=function(t,e,n){var r,i,o=new mt(function(t,e){r=t,i=e});return Xo(this,r,function(t){t instanceof ta?o.cancel():i(t)}),o.then(t,e,n)},Ho.prototype.$goog_Thenable=!0,T(Zo,_),Zo.prototype.message="Deferred has already fired",Zo.prototype.name="AlreadyCalledError",T(ta,_),ta.prototype.message="Deferred was canceled",ta.prototype.name="CanceledError",ea.prototype.c=function(){throw delete na[this.a],this.b};var na={};function ra(t){var e={},r=e.document||document,i=bn(t),o=document.createElement("SCRIPT"),u={Lb:o,Ga:void 0},c=new Ho(u),l=null,f=null!=e.timeout?e.timeout:5e3;return 0<f&&(l=window.setTimeout(function(){oa(o,!0);var t=new ua(sa,"Timeout reached for loading script "+i);Yo(c),Go(c,!1,t)},f),u.Ga=l),o.onload=o.onreadystatechange=function(){o.readyState&&"loaded"!=o.readyState&&"complete"!=o.readyState||(oa(o,e.hd||!1,l),Yo(c),Go(c,!0,null))},o.onerror=function(){oa(o,!0,l);var t=new ua(aa,"Error while loading script "+i);Yo(c),Go(c,!1,t)},ut(u=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Rn(o,u),function(t,e){t.src=bn(e),null===s&&(s=(e=(e=n.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&a.test(e)?e:""),(e=s)&&t.setAttribute("nonce",e)}(o,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(r).appendChild(o),c}function ia(){if(this&&this.Lb){var t=this.Lb;t&&"SCRIPT"==t.tagName&&oa(t,!0,this.Ga)}}function oa(t,e,r){null!=r&&n.clearTimeout(r),t.onload=u,t.onerror=u,t.onreadystatechange=u,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var aa=0,sa=1;function ua(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),_.call(this,n),this.code=t}function ca(t){this.f=t}function la(t,e,i){if(this.b=t,t=e||{},this.i=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.o=t.secureTokenTimeout||pa,this.f=it(t.secureTokenHeaders||da),this.g=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.firebaseTimeout||ya,this.a=it(t.firebaseHeaders||ma),i&&(this.a["X-Client-Version"]=i,this.f["X-Client-Version"]=i),i="Node"==er(),!(i=n.XMLHttpRequest||i&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!tr())throw new Br("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,tr()?this.c=new Oo(self):nr()?this.c=new ca(i):this.c=new fo}T(ua,_),T(ca,so),ca.prototype.a=function(){return new this.f},ca.prototype.b=function(){return{}};var fa,ha="idToken",pa=new Er(3e4,6e4),da={"Content-Type":"application/x-www-form-urlencoded"},ya=new Er(3e4,6e4),ma={"Content-Type":"application/json"};function va(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ga(t,e){e?(t.a["X-Client-Version"]=e,t.f["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.f["X-Client-Version"])}function ba(t,e,r,i,o,a,s){(function(){var t=ur();return!((t=or(t)!=ir?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!zt||!Zt||9<Zt)})()||tr()?t=b(t.m,t):(fa||(fa=new mt(function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{n[Ea]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var r=wn(wa,{onload:Ea});!function(t,e){Xo(t,null,e,void 0)}(ra(r),function(){e(Error("CORS_UNSUPPORTED"))})}}(t,e)})),t=b(t.l,t)),t(e,r,i,o,a,s)}la.prototype.m=function(t,e,r,i,o,a){if(tr()&&("undefined"===typeof n.fetch||"undefined"===typeof n.Headers||"undefined"===typeof n.Request))throw new Br("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new No(this.c);if(a){s.g=Math.max(0,a);var u=setTimeout(function(){s.dispatchEvent("timeout")},a)}De(s,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return Ao(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),Ne(s,"ready",function(){u&&clearTimeout(u),Vt(this)}),Ne(s,"timeout",function(){u&&clearTimeout(u),Vt(this),e&&e(null)}),jo(s,t,r,i,o)};var wa=new dn(vn,"https://apis.google.com/js/client.js?onload=%{onload}"),Ea="__fcb"+Math.floor(1e6*Math.random()).toString();function Ta(t){if(!i(t=t.email)||!Xn.test(t))throw new Br("invalid-email")}function Sa(t){"email"in t&&Ta(t)}function _a(t){if(!t[ha])throw new Br("internal-error")}function Ia(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Br("internal-error")}else{if(!t.sessionInfo)throw new Br("missing-verification-id");if(!t.code)throw new Br("missing-verification-code")}}la.prototype.l=function(t,e,n,r,i){var o=this;fa.then(function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},la.prototype.Ra=function(){return ss(this,Ja,{})},la.prototype.qb=function(t,e){return ss(this,Xa,{idToken:t,email:e})},la.prototype.rb=function(t,e){return ss(this,$a,{idToken:t,password:e})};var Aa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Oa(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new Br("internal-error")}function Ca(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(ln(t=new an(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function xa(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=ao(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=ao(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=ao(t)):t.errorMessage&&(e=us(t.errorMessage)),e)throw e;if(!t[ha])throw new Br("internal-error")}function ka(t,e){return e.returnIdpCredential=!0,ss(t,Za,e)}function Pa(t,e){return e.returnIdpCredential=!0,ss(t,es,e)}function Da(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ss(t,ts,e)}function Na(t){if(!t.oobCode)throw new Br("invalid-action-code")}(t=la.prototype).sb=function(t,e){var n={idToken:t},r=[];return nt(Aa,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),ss(this,Xa,n)},t.lb=function(t,e){return ut(t={requestType:"PASSWORD_RESET",email:t},e),ss(this,Ka,t)},t.mb=function(t,e){return ut(t={requestType:"EMAIL_SIGNIN",email:t},e),ss(this,Wa,t)},t.kb=function(t,e){return ut(t={requestType:"VERIFY_EMAIL",idToken:t},e),ss(this,za,t)},t.Va=function(t){return ss(this,is,t)},t.$a=function(t,e){return ss(this,Ga,{oobCode:t,newPassword:e})},t.Ja=function(t){return ss(this,La,{oobCode:t})},t.Xa=function(t){return ss(this,Ra,{oobCode:t})};var Ra={endpoint:"setAccountInfo",B:Na,da:"email"},La={endpoint:"resetPassword",B:Na,J:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new Br("internal-error")}},Ma={endpoint:"signupNewUser",B:function(t){if(Ta(t),!t.password)throw new Br("weak-password")},J:_a,R:!0},ja={endpoint:"createAuthUri"},Ua={endpoint:"deleteAccount",T:["idToken"]},Fa={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],B:function(t){if(!f(t.deleteProvider))throw new Br("internal-error")}},Va={endpoint:"emailLinkSignin",T:["email","oobCode"],B:Ta,J:_a,R:!0},qa={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],B:Ta,J:_a,R:!0},Ba={endpoint:"getAccountInfo"},Wa={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Br("internal-error");Ta(t)},da:"email"},za={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Br("internal-error")},da:"email"},Ka={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Br("internal-error");Ta(t)},da:"email"},Qa={vb:!0,endpoint:"getProjectConfig",Ib:"GET"},Ha={vb:!0,endpoint:"getRecaptchaParam",Ib:"GET",J:function(t){if(!t.recaptchaSiteKey)throw new Br("internal-error")}},Ga={endpoint:"resetPassword",B:Na,da:"email"},Ya={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},Xa={endpoint:"setAccountInfo",T:["idToken"],B:Sa,R:!0},$a={endpoint:"setAccountInfo",T:["idToken"],B:function(t){if(Sa(t),!t.password)throw new Br("weak-password")},J:_a,R:!0},Ja={endpoint:"signupNewUser",J:_a,R:!0},Za={endpoint:"verifyAssertion",B:Oa,Pa:Ca,J:xa,R:!0},ts={endpoint:"verifyAssertion",B:Oa,Pa:Ca,J:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Br("user-not-found");if(t.errorMessage)throw us(t.errorMessage);if(!t[ha])throw new Br("internal-error")},R:!0},es={endpoint:"verifyAssertion",B:function(t){if(Oa(t),!t.idToken)throw new Br("internal-error")},Pa:Ca,J:xa,R:!0},ns={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new Br("invalid-custom-token")},J:_a,R:!0},rs={endpoint:"verifyPassword",B:function(t){if(Ta(t),!t.password)throw new Br("wrong-password")},J:_a,R:!0},is={endpoint:"verifyPhoneNumber",B:Ia,J:_a},os={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new Br("internal-error");Ia(t)},J:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",ao(t);_a(t)}},as={Xb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:Ia,J:_a};function ss(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,e.T))return _t(new Br("internal-error"));var r,i=e.Ib||"POST";return St(n).then(e.B).then(function(){return e.R&&(n.returnSecureToken=!0),function(t,e,n,r,i,o){var a=Ye(t.g+e);He(a,"key",t.b),o&&He(a,"cb",E().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&He(a,u,r[u]);return new mt(function(e,o){ba(t,a.toString(),function(t){t?t.error?o(cs(t,i||{})):e(t):o(new Br("network-request-failed"))},n,s?void 0:Un(mr(r)),t.a,t.h.get())})}(t,e.endpoint,i,n,e.Xb,e.vb||!1)}).then(function(t){return r=t,e.Pa?e.Pa(n,r):r}).then(e.J).then(function(){if(!e.da)return r;if(!(e.da in r))throw new Br("internal-error");return r[e.da]})}function us(t){return cs({error:{errors:[{message:t}],code:400,message:t}})}function cs(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Br(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",ut(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new Br(r[i],e);return!e&&t&&(e=yr(t)),new Br("internal-error",e)}function ls(t){this.b=t,this.a=null,this.gb=function(t){return(ds||(ds=new mt(function(t,e){function r(){wr(),cr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){wr(),e(Error("Network Error"))},timeout:hs.get()})}if(cr("gapi.iframes.Iframe"))t();else if(cr("gapi.load"))r();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();n[i]=function(){cr("gapi.load")?r():e(Error("Network Error"))},St(ra(i=wn(fs,{onload:i}))).s(function(){e(Error("Network Error"))})}}).s(function(t){throw ds=null,t}))).then(function(){return new mt(function(e,n){cr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},ps.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var fs=new dn(vn,"https://apis.google.com/js/api.js?onload=%{onload}"),hs=new Er(3e4,6e4),ps=new Er(5e3,15e3),ds=null;function ys(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Xe(this.i,"/__/auth/iframe"),He(this.a,"apiKey",this.g),He(this.a,"appName",this.h),this.b=null,this.c=[]}function ms(t,e,n,r,i){this.m=t,this.l=e,this.c=n,this.o=r,this.h=this.g=this.i=null,this.a=i,this.f=null}function vs(t){try{return r.a.app(t).auth().ya()}catch(e){return[]}}function gs(t,e,n,r,i){this.l=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.u=this.v=null,this.g=[],this.o=this.a=null}function bs(t){var e=zn();return function(t){return ss(t,Qa,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Ye(e),r=n.c;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Ye(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:Yn.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new io(zn())})}function ws(t){return t.o?t.o:(t.o=$n().then(function(){if(!t.u){var e=t.c,n=t.h,r=vs(t.b),i=new ys(t.l,t.f,t.b);i.f=e,i.b=n,i.c=q(r||[]),t.u=i.toString()}t.i=new ls(t.u),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.gb.then(function(){t.a.register("authEvent",e,cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.i,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=to(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",St(n)}return n.status="ERROR",St(n)})}(t)}),t.o)}function Es(t){return t.m||(t.v=t.c?sr(t.c,vs(t.b)):null,t.m=new la(t.f,fi(t.h),t.v)),t.m}function Ts(t,e,n,r,i,o,a,s,u,c){return(t=new ms(t,e,n,r,i)).i=o,t.g=a,t.h=s,t.b=it(u||null),t.f=c,t.toString()}function Ss(t){if(this.a=t||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Br("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function _s(t){this.b=t,this.a={},this.c=b(this.f,this)}ys.prototype.toString=function(){return this.f?He(this.a,"v",this.f):cn(this.a.a,"v"),this.b?He(this.a,"eid",this.b):cn(this.a.a,"eid"),this.c.length?He(this.a,"fw",this.c.join(",")):cn(this.a.a,"fw"),this.a.toString()},ms.prototype.toString=function(){var t=Xe(this.m,"/__/auth/handler");if(He(t,"apiKey",this.l),He(t,"appName",this.c),He(t,"authType",this.o),this.a.isOAuthProvider){var e=this.a;try{var n=r.a.app(this.c).auth().ea()}catch(u){n=null}for(var i in e.ab=n,He(t,"providerId",this.a.providerId),n=mr((e=this.a).zb))n[i]=n[i].toString();i=e.Fc,n=it(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}e.eb&&e.ab&&!n[e.eb]&&(n[e.eb]=e.ab),rt(n)||He(t,"customParameters",yr(n))}if("function"===typeof this.a.Fb&&((e=this.a.Fb()).length&&He(t,"scopes",e.join(","))),this.i?He(t,"redirectUrl",this.i):cn(t.a,"redirectUrl"),this.g?He(t,"eventId",this.g):cn(t.a,"eventId"),this.h?He(t,"v",this.h):cn(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Ge(t,s)&&He(t,s,this.b[s]);return this.f?He(t,"eid",this.f):cn(t.a,"eid"),(s=vs(this.c)).length&&He(t,"fw",s.join(",")),t.toString()},(t=gs.prototype).Ea=function(t,e,n){var r=new Br("popup-closed-by-user"),i=new Br("web-storage-unsupported"),o=this,a=!1;return this.ga().then(function(){(function(t){var e={type:"webStorageSupport"};return ws(t).then(function(){return function(t,e){return t.gb.then(function(){return new mt(function(n){t.a.send(e.type,e,n,cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.i,e)}).then(function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&Hn(t),e(i),a=!0)})}).s(function(){}).then(function(){if(!a)return function(t){return new mt(function(e){return function n(){Me(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!a)return Me(n).then(function(){e(r)})})},t.Mb=function(){var t=ur();return!dr(t)&&!br(t)},t.Hb=function(){return!1},t.Db=function(t,e,n,r,i,o,a){if(!t)return _t(new Br("popup-blocked"));if(a&&!dr())return this.ga().s(function(e){Hn(t),i(e)}),r(),St();this.a||(this.a=bs(Es(this)));var s=this;return this.a.then(function(){var e=s.ga().s(function(e){throw Hn(t),i(e),e});return r(),e}).then(function(){(Ji(n),a)||Kn(Ts(s.l,s.f,s.b,e,n,null,o,s.c,void 0,s.h),t)}).s(function(t){throw"auth/network-request-failed"==t.code&&(s.a=null),t})},t.Ca=function(t,e,n){this.a||(this.a=bs(Es(this)));var r=this;return this.a.then(function(){Ji(e),Kn(Ts(r.l,r.f,r.b,t,e,zn(),n,r.c,void 0,r.h))}).s(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},t.ga=function(){var t=this;return ws(this).then(function(){return t.i.gb}).s(function(){throw t.a=null,new Br("network-request-failed")})},t.Qb=function(){return!0},t.wa=function(t){this.g.push(t)},t.Ka=function(t){F(this.g,function(e){return e==t})},(t=Ss.prototype).get=function(t){return St(this.a.getItem(t)).then(function(t){return t&&vr(t)})},t.set=function(t,e){return St(this.a.setItem(t,yr(e)))},t.P=function(t){return St(this.a.removeItem(t))},t.Y=function(){},t.ca=function(){};var Is,As=[];function Os(t){this.a=t}function Cs(t){this.c=t,this.b=!1,this.a=[]}function xs(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return _t(Error("connection_unavailable"));var l=r?800:50,f="undefined"!==typeof MessageChannel?new MessageChannel:null;return new mt(function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},l),c={messageChannel:f,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(s),"undefined"!==typeof t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),f.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))}).then(function(e){return ks(t,c),e}).s(function(e){throw ks(t,c),e})}function ks(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),F(t.a,function(t){return t==e})}}function Ps(){if(!Rs())throw new Br("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.l=n.indexedDB,this.type="indexedDB",this.g=this.o=this.f=this.i=null,this.u=!1,this.h=null;var t=this;tr()&&self?(this.o=function(){var t=tr()?self:null;if(R(As,function(n){n.b==t&&(e=n)}),!e){var e=new _s(t);As.push(e)}return e}(),this.o.subscribe("keyChanged",function(e,n){return Fs(t).then(function(e){return 0<e.length&&R(t.a,function(t){t(e)}),{keyProcessed:j(e,n.key)}})}),this.o.subscribe("ping",function(){return St(["keyChanged"])})):function(){var t=n.navigator;return t&&t.serviceWorker?St().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).s(function(){return null}):St(null)}().then(function(e){(t.h=e)&&(t.g=new Cs(new Os(e)),xs(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&j(e[0].value,"keyChanged")&&(t.u=!0)}).s(function(){}))})}function Ds(t){return new mt(function(e,n){var r=t.l.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new mt(function(e,n){var r=t.l.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return Ds(t)}).then(function(t){e(t)}).s(function(t){n(t)})}})}function Ns(t){return t.m||(t.m=Ds(t)),t.m}function Rs(){try{return!!n.indexedDB}catch(To){return!1}}function Ls(t){return t.objectStore("firebaseLocalStorage")}function Ms(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function js(t){return new mt(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Us(t,e){return t.g&&t.h&&function(){var t=n.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?xs(t.g,"keyChanged",{key:e},t.u).then(function(){}).s(function(){}):St()}function Fs(t){return Ns(t).then(function(t){var e=Ls(Ms(t,!1));return e.getAll?js(e.getAll()):new mt(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r})}function Vs(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function qs(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=St().then(function(){if(Rs()){var t=gr(),r="__sak"+t;return Is||(Is=new Ps),(n=Is).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.P(r)}).then(function(){return n}).s(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.Y(function(t){R(e.a,function(e){e(t)})}),t})}function Bs(){this.a={},this.type="inMemory"}function Ws(){if(!function(){var t="Node"==er();if(!(t=zs()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==er())throw new Br("internal-error","The LocalStorage compatibility library was not found.");throw new Br("web-storage-unsupported")}this.a=zs()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function zs(){try{var t=n.localStorage,e=gr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(r){return null}}function Ks(){this.type="nullStorage"}function Qs(){if(!function(){var t="Node"==er();if(!(t=Hs()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==er())throw new Br("internal-error","The SessionStorage compatibility library was not found.");throw new Br("web-storage-unsupported")}this.a=Hs()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Hs(){try{var t=n.sessionStorage,e=gr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(r){return null}}function Gs(){var t={};t.Browser=$s,t.Node=Js,t.ReactNative=Zs,t.Worker=tu,this.a=t[er()]}_s.prototype.f=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];R(r,function(e){i.push(St().then(function(){return e(t.origin,t.data.data)}))}),At(i).then(function(r){var i=[];R(r,function(t){i.push({fulfilled:t.Eb,value:t.value,reason:t.reason?t.reason.message:void 0})}),R(i,function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},_s.prototype.subscribe=function(t,e){rt(this.a)&&this.b.addEventListener("message",this.c),"undefined"===typeof this.a[t]&&(this.a[t]=[]),this.a[t].push(e)},_s.prototype.unsubscribe=function(t,e){"undefined"!==typeof this.a[t]&&e?(F(this.a[t],function(t){return t==e}),0==this.a[t].length&&delete this.a[t]):e||delete this.a[t],rt(this.a)&&this.b.removeEventListener("message",this.c)},Os.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Cs.prototype.close=function(){for(;0<this.a.length;)ks(this,this.a[0]);this.b=!0},(t=Ps.prototype).set=function(t,e){var n,r=!1,i=this;return Ns(this).then(function(e){return js((e=Ls(Ms(n=e,!0))).get(t))}).then(function(o){var a=Ls(Ms(n,!0));return o?(o.value=e,js(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,js(a.add(o)))}).then(function(){return i.c[t]=e,Us(i,t)}).ia(function(){r&&i.b--})},t.get=function(t){return Ns(this).then(function(e){return js(Ls(Ms(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.P=function(t){var e=!1,n=this;return Ns(this).then(function(r){return e=!0,n.b++,js(Ls(Ms(r,!0)).delete(t))}).then(function(){return delete n.c[t],Us(n,t)}).ia(function(){e&&n.b--})},t.Y=function(t){0==this.a.length&&function(t){Vs(t),function e(){t.f=setTimeout(function(){t.i=Fs(t).then(function(e){0<e.length&&R(t.a,function(t){t(e)})}).then(function(){e()}).s(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ca=function(t){F(this.a,function(e){return e==t}),0==this.a.length&&Vs(this)},(t=qs.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.P=function(t){return this.b.then(function(e){return e.P(t)})},t.Y=function(t){this.a.push(t)},t.ca=function(t){F(this.a,function(e){return e==t})},(t=Bs.prototype).get=function(t){return St(this.a[t])},t.set=function(t,e){return this.a[t]=e,St()},t.P=function(t){return delete this.a[t],St()},t.Y=function(){},t.ca=function(){},(t=Ws.prototype).get=function(t){var e=this;return St().then(function(){return vr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return St().then(function(){var r=yr(e);null===r?n.P(t):n.a.setItem(t,r)})},t.P=function(t){var e=this;return St().then(function(){e.a.removeItem(t)})},t.Y=function(t){n.window&&be(n.window,"storage",t)},t.ca=function(t){n.window&&Te(n.window,"storage",t)},(t=Ks.prototype).get=function(){return St(null)},t.set=function(){return St()},t.P=function(){return St()},t.Y=function(){},t.ca=function(){},(t=Qs.prototype).get=function(t){var e=this;return St().then(function(){return vr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return St().then(function(){var r=yr(e);null===r?n.P(t):n.a.setItem(t,r)})},t.P=function(t){var e=this;return St().then(function(){e.a.removeItem(t)})},t.Y=function(){},t.ca=function(){};var Ys,Xs,$s={A:Ws,Sa:Qs},Js={A:Ws,Sa:Qs},Zs={A:Ss,Sa:Ks},tu={A:Ws,Sa:Ks},eu={ad:"local",NONE:"none",cd:"session"};function nu(){var t=!(br(ur())||!Zn()),e=dr(),r=lr();this.m=t,this.h=e,this.o=r,this.a={},Ys||(Ys=new Gs),t=Ys;try{this.g=!Wn()&&_r()||!n.indexedDB?new t.a.A:new qs(tr()?new Bs:new t.a.A)}catch(i){this.g=new Bs,this.h=!0}try{this.i=new t.a.Sa}catch(i){this.i=new Bs}this.l=new Bs,this.f=b(this.Pb,this),this.b={}}function ru(){return Xs||(Xs=new nu),Xs}function iu(t,e){switch(e){case"session":return t.i;case"none":return t.l;default:return t.g}}function ou(t,e){return"firebase:"+t.name+(e?":"+e:"")}function au(t,e,n){return n=ou(e,n),"local"==e.A&&(t.b[n]=null),iu(t,e.A).P(n)}function su(t){t.c&&(clearInterval(t.c),t.c=null)}function uu(t){this.a=t,this.b=ru()}(t=nu.prototype).get=function(t,e){return iu(this,t.A).get(ou(t,e))},t.set=function(t,e,n){var r=ou(t,n),i=this,o=iu(this,t.A);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.A&&(i.b[r]=e)})},t.addListener=function(t,e,r){t=ou(t,e),this.o&&(this.b[t]=n.localStorage.getItem(t)),rt(this.a)&&(iu(this,"local").Y(this.f),this.h||(Wn()||!_r())&&n.indexedDB||!this.o||function(t){su(t),t.c=setInterval(function(){for(var e in t.a){var r=n.localStorage.getItem(e),i=t.b[e];r!=i&&(t.b[e]=r,r=new ue({type:"storage",key:e,target:window,oldValue:i,newValue:r,a:!0}),t.Pb(r))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(r)},t.removeListener=function(t,e,n){t=ou(t,e),this.a[t]&&(F(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),rt(this.a)&&(iu(this,"local").ca(this.f),su(this))},t.Pb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var r in this.a){var i=this.b[r];"undefined"===typeof i&&(i=null);var o=n.localStorage.getItem(r);o!==i&&(this.b[r]=o,this.Ya(r))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?iu(this,"local").ca(this.f):su(this),this.m)if(r=n.localStorage.getItem(e),(i=t.a.newValue)!==r)null!==i?n.localStorage.setItem(e,i):n.localStorage.removeItem(e);else if(this.b[e]===i&&"undefined"===typeof t.a.a)return;var a=this;r=function(){"undefined"===typeof t.a.a&&a.b[e]===n.localStorage.getItem(e)||(a.b[e]=n.localStorage.getItem(e),a.Ya(e))},zt&&Zt&&10==Zt&&n.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(r,10):r()}}else R(t,b(this.Ya,this))},t.Ya=function(t){this.a[t]&&R(this.a[t],function(t){t()})};var cu,lu={name:"authEvent",A:"local"};function fu(){this.a=ru()}function hu(t,e){this.b=pu,this.f=n.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.o=n.Int32Array?new Int32Array(64):Array(64),void 0!==cu||(cu=n.Int32Array?new Int32Array(wu):wu),this.reset()}T(hu,function(){this.b=-1});for(var pu=64,du=pu-1,yu=[],mu=0;mu<du;mu++)yu[mu]=0;var vu=V(128,yu);function gu(t){for(var e=t.f,n=t.o,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],f=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&f)+(0|cu[e])|0)+(0|n[e])|0)|0,o=f,f=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+h|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+f|0,t.a[7]=t.a[7]+o|0}function bu(t,e,n){void 0===n&&(n=e.length);var r=0,o=t.c;if(i(e))for(;r<n;)t.f[o++]=e.charCodeAt(r++),o==t.b&&(gu(t),o=0);else{if(!h(e))throw Error("message must be string or array");for(;r<n;){var a=e[r++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");t.f[o++]=a,o==t.b&&(gu(t),o=0)}}t.c=o,t.g+=n}hu.prototype.reset=function(){this.g=this.c=0,this.a=n.Int32Array?new Int32Array(this.h):q(this.h)};var wu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Eu(){hu.call(this,8,Tu)}T(Eu,hu);var Tu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Su(t,e,n,r,i){this.l=t,this.i=e,this.o=n,this.m=r||null,this.u=i||null,this.h=e+":"+n,this.v=new fu,this.g=new uu(this.h),this.f=null,this.b=[],this.a=this.c=null}function _u(t){return new Br("invalid-cordova-configuration",t)}function Iu(t){var e=new Eu;bu(e,t),t=[];var n=8*e.g;56>e.c?bu(e,vu,56-e.c):bu(e,vu,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(gu(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return L(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}function Au(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Ou(t){return t.f||(t.f=t.ga().then(function(){return new mt(function(e){t.wa(function n(r){return e(r),t.Ka(n),!1}),function(t){function e(e){i=!0,o&&o.cancel(),Cu(t).then(function(n){var i=r;if(n&&e&&e.url){var o=null;-1!=(i=Ai(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=vr(Ge(o=Ye(i),"firebaseError")||null))?Wr(o):null)?new Zi(n.b,n.c,null,null,o):new Zi(n.b,n.c,i,n.g)),i=o||r}Au(t,i)})}var r=new Zi("unknown",null,null,null,new Br("no-auth-event")),i=!1,o=Me(500).then(function(){return Cu(t).then(function(){i||Au(t,r)})}),a=n.handleOpenURL;n.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(cr("BuildInfo.packageName",n).toLowerCase()+"://")&&e({url:t}),"function"===typeof a)try{a(t)}catch(r){console.error(r)}},ro||(ro=new eo),ro.subscribe(e)}(t)})})),t.f}function Cu(t){var e=null;return function(t){return t.b.get(lu,t.a).then(function(t){return to(t)})}(t.g).then(function(n){return e=n,au((n=t.g).b,lu,n.a)}).then(function(){return e})}function xu(t){this.a=t,this.b=ru()}(t=Su.prototype).ga=function(){return this.za?this.za:this.za=(Jn(void 0)?$n().then(function(){return new mt(function(t,e){var r=n.document,i=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);r.addEventListener("deviceready",function(){clearTimeout(i),t()},!1)})}):_t(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!==typeof cr("universalLinks.subscribe",n))throw _u("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof cr("BuildInfo.packageName",n))throw _u("cordova-plugin-buildinfo is not installed");if("function"!==typeof cr("cordova.plugins.browsertab.openUrl",n))throw _u("cordova-plugin-browsertab is not installed");if("function"!==typeof cr("cordova.InAppBrowser.open",n))throw _u("cordova-plugin-inappbrowser is not installed")},function(){throw new Br("cordova-not-ready")})},t.Ea=function(t,e){return e(new Br("operation-not-supported-in-this-environment")),St()},t.Db=function(){return _t(new Br("operation-not-supported-in-this-environment"))},t.Qb=function(){return!1},t.Mb=function(){return!0},t.Hb=function(){return!0},t.Ca=function(t,e,r){if(this.c)return _t(new Br("redirect-operation-pending"));var i=this,o=n.document,a=null,s=null,u=null,c=null;return this.c=St().then(function(){return Ji(e),Ou(i)}).then(function(){return function(t,e,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Zi(e,i,null,o,new Br("no-auth-event")),s=cr("BuildInfo.packageName",n);if("string"!==typeof s)throw new Br("invalid-cordova-configuration");var u=cr("BuildInfo.displayName",n),c={};if(ur().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!ur().toLowerCase().match(/android/))return _t(new Br("operation-not-supported-in-this-environment"));c.apn=s}u&&(c.appDisplayName=u),o=Iu(o),c.sessionId=o;var l=Ts(t.l,t.i,t.o,e,r,null,i,t.m,c,t.u);return t.ga().then(function(){var e=t.h;return t.v.a.set(lu,a.C(),e)}).then(function(){var e=cr("cordova.plugins.browsertab.isAvailable",n);if("function"!==typeof e)throw new Br("invalid-cordova-configuration");var r=null;e(function(e){if(e){if("function"!==typeof(r=cr("cordova.plugins.browsertab.openUrl",n)))throw new Br("invalid-cordova-configuration");r(l)}else{if("function"!==typeof(r=cr("cordova.InAppBrowser.open",n)))throw new Br("invalid-cordova-configuration");e=!(!(e=ur()).match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),t.a=r(l,e?"_blank":"_system","location=yes")}})})}(i,t,e,r)}).then(function(){return new mt(function(t,e){s=function(){var e=cr("cordova.plugins.browsertab.close",n);return t(),"function"===typeof e&&e(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.wa(s),u=function(){a||(a=Me(2e3).then(function(){e(new Br("redirect-cancelled-by-user"))}))},c=function(){Tr()&&u()},o.addEventListener("resume",u,!1),ur().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)}).s(function(t){return Cu(i).then(function(){throw t})})}).ia(function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&i.Ka(s),i.c=null})},t.wa=function(t){this.b.push(t),Ou(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Zi("unknown",null,null,null,new Br("no-auth-event")),t(e))})},t.Ka=function(t){F(this.b,function(e){return e==t})};var ku={name:"pendingRedirect",A:"session"};function Pu(t){return au(t.b,ku,t.a)}function Du(t,e,n){this.u=t,this.o=e,this.l=n,this.h=[],this.f=!1,this.i=b(this.cb,this),this.b=new Bu,this.m=new Qu,this.g=new xu(this.o+":"+this.l),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.m,this.c.linkViaPopup=this.m,this.c.reauthViaPopup=this.m,this.a=Nu(this.u,this.o,this.l,ci)}function Nu(t,e,n,i){var o=r.a.SDK_VERSION||null;return Jn()?new Su(t,e,n,o,i):new gs(t,e,n,o,i)}function Ru(t){t.f||(t.f=!0,t.a.wa(t.i));var e=t.a;return t.a.ga().s(function(n){throw t.a==e&&t.reset(),n})}function Lu(t){t.a.Mb()&&Ru(t).s(function(e){var n=new Zi("unknown",null,null,null,new Br("operation-not-supported-in-this-environment"));Fu(e)&&t.cb(n)}),t.a.Hb()||Wu(t.b)}(t=Du.prototype).reset=function(){this.f=!1,this.a.Ka(this.i),this.a=Nu(this.u,this.o,this.l)},t.Za=function(){this.b.Za()},t.subscribe=function(t){if(j(this.h,t)||this.h.push(t),!this.f){var e=this;(function(t){return t.b.get(ku,t.a).then(function(t){return"pending"==t})})(this.g).then(function(t){t?Pu(e.g).then(function(){Ru(e).s(function(t){var n=new Zi("unknown",null,null,null,new Br("operation-not-supported-in-this-environment"));Fu(t)&&e.cb(n)})}):Lu(e)}).s(function(){Lu(e)})}},t.unsubscribe=function(t){F(this.h,function(e){return e==t})},t.cb=function(t){if(!t)throw new Br("invalid-auth-event");for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.wb(t.b,t.c)){(e=this.c[t.b])&&e.h(t,r),e=!0;break}}return Wu(this.b),e};var Mu=new Er(2e3,1e4),ju=new Er(3e4,6e4);function Uu(t,e,n,r,i,o){return t.a.Db(e,n,r,function(){t.f||(t.f=!0,t.a.wa(t.i))},function(){t.reset()},i,o)}function Fu(t){return!(!t||"auth/cordova-not-ready"!=t.code)}Du.prototype.fa=function(){return this.b.fa()},Du.prototype.Ca=function(t,e,n){var r,i=this;return function(t){return t.b.set(ku,"pending",t.a)}(this.g).then(function(){return i.a.Ca(t,e,n).s(function(t){if(Fu(t))throw new Br("operation-not-supported-in-this-environment");return r=t,Pu(i.g).then(function(){throw r})}).then(function(){return i.a.Qb()?new mt(function(){}):Pu(i.g).then(function(){return i.fa()}).then(function(){}).s(function(){})})})},Du.prototype.Ea=function(t,e,n,r){return this.a.Ea(n,function(n){t.ha(e,null,n,r)},Mu.get())};var Vu={};function qu(t,e,n){var r=e+":"+n;return Vu[r]||(Vu[r]=new Du(t,e,n)),Vu[r]}function Bu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Wu(t){t.g||(t.g=!0,Ku(t,!1,null,null))}function zu(t,e){if(t.b=function(){return St(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Ku(t,e,n,r){e?r?function(t,e){if(t.b=function(){return _t(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):zu(t,n):zu(t,{user:null}),t.f=[],t.c=[]}function Qu(){}function Hu(){this.tb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.tb},set:function(t){this.tb=t},enumerable:!1})}function Gu(t,e){this.a=e,xr(this,"verificationId",t)}function Yu(t,e,n,r){return new Yi(t).Va(e,n).then(function(t){return new Gu(t,r)})}function Xu(t){var e=ui(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new Br("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");kr(this,{token:t,expirationTime:Sr(1e3*e.exp),authTime:Sr(1e3*e.auth_time),issuedAtTime:Sr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function $u(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Ju(t){this.f=t,this.b=this.a=null,this.c=0}function Zu(t,e){var n=e[ha],r=e.refreshToken;e=tc(e.expiresIn),t.b=n,t.c=e,t.a=r}function tc(t){return E()+1e3*parseInt(t,10)}function ec(t,e){return function(t,e){return new mt(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ba(t,t.i+"?key="+encodeURIComponent(t.b),function(t){t?t.error?r(cs(t)):t.access_token&&t.refresh_token?n(t):r(new Br("internal-error")):r(new Br("network-request-failed"))},"POST",un(e).toString(),t.f,t.o.get()):r(new Br("internal-error"))})}(t.f,e).then(function(e){return t.b=e.access_token,t.c=tc(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).s(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}function nc(t,e){this.a=t||null,this.b=e||null,kr(this,{lastSignInTime:Sr(e||null),creationTime:Sr(t||null)})}function rc(t,e,n,r,i,o){kr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function ic(t,e){for(var n in se.call(this,t),e)this[n]=e[n]}function oc(t,e,n){this.G=[],this.l=t.apiKey,this.m=t.appName,this.u=t.authDomain||null,t=r.a.SDK_VERSION?sr(r.a.SDK_VERSION):null,this.b=new la(this.l,fi(ci),t),this.h=new Ju(this.b),hc(this,e[ha]),Zu(this.h,e),xr(this,"refreshToken",this.h.a),yc(this,n||{}),Pe.call(this),this.I=!1,this.u&&fr()&&(this.a=qu(this.u,this.l,this.m)),this.N=[],this.i=null,this.w=function(t){return new $u(function(){return t.F(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-E()-3e5;return 0<e?e:0})}(this),this.V=b(this.Ha,this);var i=this;this.ka=null,this.ta=function(t){i.pa(t.g)},this.X=null,this.O=[],this.sa=function(t){sc(i,t.c)},this.W=null}function ac(t,e){t.X&&Te(t.X,"languageCodeChanged",t.ta),(t.X=e)&&be(e,"languageCodeChanged",t.ta)}function sc(t,e){t.O=e,ga(t.b,r.a.SDK_VERSION?sr(r.a.SDK_VERSION,t.O):null)}function uc(t,e){t.W&&Te(t.W,"frameworkChanged",t.sa),(t.W=e)&&be(e,"frameworkChanged",t.sa)}function cc(t){try{return r.a.app(t.m).auth()}catch(e){throw new Br("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function lc(t){t.D||t.w.b||(t.w.start(),Te(t,"tokenChanged",t.V),be(t,"tokenChanged",t.V))}function fc(t){Te(t,"tokenChanged",t.V),t.w.stop()}function hc(t,e){t.ra=e,xr(t,"_lat",e)}function pc(t){for(var e=[],n=0;n<t.N.length;n++)e.push(t.N[n](t));return At(e).then(function(){return t})}function dc(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function yc(t,e){kr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new nc(e.createdAt,e.lastLoginAt),providerData:[]})}function mc(){}function vc(t){return St().then(function(){if(t.D)throw new Br("app-deleted")})}function gc(t){return L(t.providerData,function(t){return t.providerId})}function bc(t,e){e&&(wc(t,e.providerId),t.providerData.push(e))}function wc(t,e){F(t.providerData,function(t){return t.providerId==e})}function Ec(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&xr(t,e,n)}function Tc(t,e){t!=e&&(kr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),e.metadata?xr(t,"metadata",function(t){return new nc(t.a,t.b)}(e.metadata)):xr(t,"metadata",new nc),R(e.providerData,function(e){bc(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),xr(t,"refreshToken",t.h.a))}function Sc(t){return t.F().then(function(e){var n=t.isAnonymous;return function(t,e){return ss(t.b,Ba,{idToken:e}).then(b(t.zc,t))}(t,e).then(function(){return n||Ec(t,"isAnonymous",!1),e})})}function _c(t,e){e[ha]&&t.ra!=e[ha]&&(Zu(t.h,e),t.dispatchEvent(new ic("tokenChanged")),hc(t,e[ha]),Ec(t,"refreshToken",t.h.a))}function Ic(t,e){return Sc(t).then(function(){if(j(gc(t),e))return pc(t).then(function(){throw new Br("provider-already-linked")})})}function Ac(t,e,n){return Pr({user:t,credential:$i(e),additionalUserInfo:e=mi(e),operationType:n})}function Oc(t,e){return _c(t,e),t.reload().then(function(){return t})}function Cc(t,e,n,i,o){if(!fr())return _t(new Br("operation-not-supported-in-this-environment"));if(t.i&&!o)return _t(t.i);var a=yi(n.providerId),s=gr(t.uid+":::"),u=null;(!dr()||Zn())&&t.u&&n.isOAuthProvider&&(u=Ts(t.u,t.l,t.m,e,n,null,s,r.a.SDK_VERSION||null));var c=Gn(u,a&&a.Ba,a&&a.Aa);return i=i().then(function(){if(kc(t),!o)return t.F().then(function(){})}).then(function(){return Uu(t.a,c,e,n,s,!!u)}).then(function(){return new mt(function(n,r){t.ha(e,null,new Br("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=s,t.c=t.a.Ea(t,e,c,s)})}).then(function(t){return c&&Hn(c),t?Pr(t):null}).s(function(t){throw c&&Hn(c),t}),Pc(t,i,o)}function xc(t,e,n,r,i){if(!fr())return _t(new Br("operation-not-supported-in-this-environment"));if(t.i&&!i)return _t(t.i);var o=null,a=gr(t.uid+":::");return r=r().then(function(){if(kc(t),!i)return t.F().then(function(){})}).then(function(){return t.aa=a,pc(t)}).then(function(e){return t.ba&&(e=(e=t.ba).b.set(Rc,t.C(),e.a)),e}).then(function(){return t.a.Ca(e,n,a)}).s(function(e){if(o=e,t.ba)return Lc(t.ba);throw o}).then(function(){if(o)throw o}),Pc(t,r,i)}function kc(t){if(!t.a||!t.I){if(t.a&&!t.I)throw new Br("internal-error");throw new Br("auth-domain-config-required")}}function Pc(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),_t(t.i)):e.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new ic("userInvalidated")),t.i=e),e})}(t,e,n);return t.G.push(r),r.ia(function(){U(t.G,r)}),r}function Dc(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[ha]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-E())/1e3;var r=new oc(e,n,t);return t.providerData&&R(t.providerData,function(t){t&&bc(r,Pr(t))}),t.redirectEventId&&(r.aa=t.redirectEventId),r}function Nc(t){this.a=t,this.b=ru()}Bu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Bu.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.b,r=t.c,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Ku(this,!0,null,t.a),St()):e.xa(n,r)?function(t,e,n){n=n.xa(e.b,e.c);var r=e.f,i=e.g,o=e.h,a=!!e.b.match(/Redirect$/);n(r,i,o).then(function(e){Ku(t,a,e,null)}).s(function(e){Ku(t,a,null,e)})}(this,t,e):_t(new Br("invalid-auth-event")):(Ku(this,!1,null,null),St())}else _t(new Br("invalid-auth-event"))},Bu.prototype.Za=function(){this.g&&!this.i&&Ku(this,!1,null,null)},Bu.prototype.fa=function(){var t=this;return new mt(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new Br("timeout");t.a&&t.a.cancel(),t.a=Me(ju.get()).then(function(){t.b||(t.g=!0,Ku(t,!0,null,e))})}(t))})},Qu.prototype.h=function(t,e){if(t){var n=t.b,r=t.c;t.a?(e.ha(t.b,null,t.a,t.c),St()):e.xa(n,r)?function(t,e){var n=t.c,r=t.b;e.xa(r,n)(t.f,t.g,t.h).then(function(t){e.ha(r,t,null,n)}).s(function(t){e.ha(r,null,t,n)})}(t,e):_t(new Br("invalid-auth-event"))}else _t(new Br("invalid-auth-event"))},Gu.prototype.confirm=function(t){return t=Xi(this.verificationId,t),this.a(t)},$u.prototype.start=function(){this.a=this.c,function t(e,r){e.stop();e.b=Me(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,r)).then(function(){return function(){var t=n.document,e=null;return Tr()||!t?St():new mt(function(n){e=function(){Tr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).s(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return e.h()}).then(function(){t(e,!0)}).s(function(n){e.i(n)&&t(e,!1)})}(this,!0)},$u.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Ju.prototype.C=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},Ju.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?_t(new Br("user-token-expired")):t||!this.b||E()>this.c-3e4?this.a?ec(this,{grant_type:"refresh_token",refresh_token:this.a}):St(null):St({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},nc.prototype.C=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(ic,se),T(oc,Pe),oc.prototype.pa=function(t){this.ka=t,va(this.b,t)},oc.prototype.ea=function(){return this.ka},oc.prototype.ya=function(){return q(this.O)},oc.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},xr(oc.prototype,"providerId","firebase"),(t=oc.prototype).reload=function(){var t=this;return Pc(this,vc(this).then(function(){return Sc(t).then(function(){return pc(t)}).then(mc)}))},t.dc=function(t){return this.F(t).then(function(t){return new Xu(t)})},t.F=function(t){var e=this;return Pc(this,vc(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new Br("internal-error");return t.accessToken!=e.ra&&(hc(e,t.accessToken),e.dispatchEvent(new ic("tokenChanged"))),Ec(e,"refreshToken",t.refreshToken),t.accessToken}))},t.zc=function(t){if(!(t=t.users)||!t.length)throw new Br("internal-error");yc(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?L(t,function(t){return new rc(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)bc(this,e[n]);Ec(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length))},t.hb=function(t){var e=this,n=null;return Pc(this,t.f(this.b,this.uid).then(function(t){return _c(e,t),n=Ac(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},t.Ac=function(t){return Or("firebase.User.prototype.reauthenticateWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential instead."),this.hb(t).then(function(){})},t.fb=function(t){var e=this,n=null;return Pc(this,Ic(this,t.providerId).then(function(){return e.F()}).then(function(n){return t.b(e.b,n)}).then(function(t){return n=Ac(e,t,"link"),Oc(e,t)}).then(function(){return n}))},t.rc=function(t){return Or("firebase.User.prototype.linkWithCredential is deprecated. Please use firebase.User.prototype.linkAndRetrieveDataWithCredential instead."),this.fb(t).then(function(t){return t.user})},t.sc=function(t,e){var n=this;return Pc(this,Ic(this,"phone").then(function(){return Yu(cc(n),t,e,b(n.fb,n))}))},t.Bc=function(t,e){var n=this;return Pc(this,St().then(function(){return Yu(cc(n),t,e,b(n.hb,n))}),!0)},t.qb=function(t){var e=this;return Pc(this,this.F().then(function(n){return e.b.qb(n,t)}).then(function(t){return _c(e,t),e.reload()}))},t.Tc=function(t){var e=this;return Pc(this,this.F().then(function(n){return t.b(e.b,n)}).then(function(t){return _c(e,t),e.reload()}))},t.rb=function(t){var e=this;return Pc(this,this.F().then(function(n){return e.b.rb(n,t)}).then(function(t){return _c(e,t),e.reload()}))},t.sb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return vc(this);var e=this;return Pc(this,this.F().then(function(n){return e.b.sb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return _c(e,t),Ec(e,"displayName",t.displayName||null),Ec(e,"photoURL",t.photoUrl||null),R(e.providerData,function(t){"password"===t.providerId&&(xr(t,"displayName",e.displayName),xr(t,"photoURL",e.photoURL))}),pc(e)}).then(mc))},t.Rc=function(t){var e=this;return Pc(this,Sc(this).then(function(n){return j(gc(e),t)?function(t,e,n){return ss(t,Fa,{idToken:e,deleteProvider:n})}(e.b,n,[t]).then(function(t){var n={};return R(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),R(gc(e),function(t){n[t]||wc(e,t)}),n[Yi.PROVIDER_ID]||xr(e,"phoneNumber",null),pc(e)}):pc(e).then(function(){throw new Br("no-such-provider")})}))},t.delete=function(){var t=this;return Pc(this,this.F().then(function(e){return ss(t.b,Ua,{idToken:e})}).then(function(){t.dispatchEvent(new ic("userDeleted"))})).then(function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");ac(t,null),uc(t,null),t.G=[],t.D=!0,fc(t),xr(t,"refreshToken",null),t.a&&t.a.unsubscribe(t)})},t.wb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.aa||null)==e||"reauthViaRedirect"==t&&(this.aa||null)==e)},t.ha=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.xa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Bb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Cb,this):"linkViaRedirect"==t&&(this.aa||null)==e?b(this.Bb,this):"reauthViaRedirect"==t&&(this.aa||null)==e?b(this.Cb,this):null},t.tc=function(t){var e=this;return Cc(this,"linkViaPopup",t,function(){return Ic(e,t.providerId).then(function(){return pc(e)})},!1)},t.Cc=function(t){return Cc(this,"reauthViaPopup",t,function(){return St()},!0)},t.uc=function(t){var e=this;return xc(this,"linkViaRedirect",t,function(){return Ic(e,t.providerId)},!1)},t.Dc=function(t){return xc(this,"reauthViaRedirect",t,function(){return St()},!0)},t.Bb=function(t,e,n){var r=this;this.c&&(this.c.cancel(),this.c=null);var i=null;return Pc(this,this.F().then(function(i){return Pa(r.b,{requestUri:t,postBody:n,sessionId:e,idToken:i})}).then(function(t){return i=Ac(r,t,"link"),Oc(r,t)}).then(function(){return i}))},t.Cb=function(t,e,n){var r=this;this.c&&(this.c.cancel(),this.c=null);var i=null;return Pc(this,St().then(function(){return Oi(Da(r.b,{requestUri:t,sessionId:e,postBody:n}),r.uid)}).then(function(t){return i=Ac(r,t,"reauthenticate"),_c(r,t),r.i=null,r.reload()}).then(function(){return i}),!0)},t.kb=function(t){var e=this,n=null;return Pc(this,this.F().then(function(e){return n=e,"undefined"===typeof t||rt(t)?{}:ni(new Qr(t))}).then(function(t){return e.b.kb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.toJSON=function(){return this.C()},t.C=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.u,stsTokenManager:this.h.C(),redirectEventId:this.aa||null};return this.metadata&&ut(t,this.metadata.C()),R(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),t};var Rc={name:"redirectUser",A:"session"};function Lc(t){return au(t.b,Rc,t.a)}function Mc(t){this.a=t,this.b=ru(),this.c=null,this.f=function(t){var e=Fc("local"),r=Fc("session"),i=Fc("none");return function(t,e,r){var i=ou(e,r),o=iu(t,e.A);return t.get(e,r).then(function(a){var s=null;try{s=vr(n.localStorage.getItem(i))}catch(u){}if(s&&!a)return n.localStorage.removeItem(i),t.set(e,s,r);s&&a&&"localStorage"!=o.type&&n.localStorage.removeItem(i)})}(t.b,e,t.a).then(function(){return t.b.get(r,t.a)}).then(function(n){return n?r:t.b.get(i,t.a).then(function(n){return n?i:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Uc,t.a).then(function(t){return t?Fc(t):e})})})}).then(function(e){return t.c=e,jc(t,e.A)}).s(function(){t.c||(t.c=e)})}(this),this.b.addListener(Fc("local"),this.a,b(this.g,this))}function jc(t,e){var n,r=[];for(n in eu)eu[n]!==e&&r.push(au(t.b,Fc(eu[n]),t.a));return r.push(au(t.b,Uc,t.a)),function(t){return new mt(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)It(t[s],w(o,s),a);else e(i)})}(r)}Mc.prototype.g=function(){var t=this,e=Fc("local");Wc(this,function(){return St().then(function(){return t.c&&"local"!=t.c.A?t.b.get(e,t.a):null}).then(function(n){if(n)return jc(t,"local").then(function(){t.c=e})})})};var Uc={name:"persistence",A:"session"};function Fc(t){return{name:"authUser",A:t}}function Vc(t,e){return Wc(t,function(){return t.b.set(t.c,e.C(),t.a)})}function qc(t){return Wc(t,function(){return au(t.b,t.c,t.a)})}function Bc(t,e){return Wc(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),Dc(t||{})})})}function Wc(t,e){return t.f=t.f.then(e,e),t.f}function zc(t){if(this.l=!1,xr(this,"settings",new Hu),xr(this,"app",t),!$c(this).options||!$c(this).options.apiKey)throw new Br("invalid-api-key");t=r.a.SDK_VERSION?sr(r.a.SDK_VERSION):null,this.b=new la($c(this).options&&$c(this).options.apiKey,fi(ci),t),this.N=[],this.m=[],this.I=[],this.Tb=r.a.INTERNAL.createSubscribe(b(this.oc,this)),this.O=void 0,this.Ub=r.a.INTERNAL.createSubscribe(b(this.pc,this)),Yc(this,null),this.h=new Mc($c(this).options.apiKey+":"+$c(this).name),this.w=new Nc($c(this).options.apiKey+":"+$c(this).name),this.V=el(this,function(t){var e=$c(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Rc,t.a).then(function(t){return t&&e&&(t.authDomain=e),Dc(t||{})})}(t.w,$c(t).options.authDomain).then(function(e){return(t.D=e)&&(e.ba=t.w),Lc(t.w)});return el(t,e)}(t).then(function(){return Bc(t.h,e)}).then(function(e){return e?(e.ba=t.w,t.D&&(t.D.aa||null)==(e.aa||null)?e:e.reload().then(function(){return Vc(t.h,e).then(function(){return e})}).s(function(n){return"auth/network-request-failed"==n.code?e:qc(t.h)})):null}).then(function(e){Yc(t,e||null)});return el(t,n)}(this)),this.i=el(this,function(t){return t.V.then(function(){return t.fa()}).s(function(){}).then(function(){if(!t.l)return t.ka()}).s(function(){}).then(function(){if(!t.l){t.X=!0;var e=t.h;e.b.addListener(Fc("local"),e.a,t.ka)}})}(this)),this.X=!1,this.ka=b(this.Oc,this),this.Ha=b(this.Z,this),this.ra=b(this.bc,this),this.sa=b(this.mc,this),this.ta=b(this.nc,this),function(t){var e=$c(t).options.authDomain,n=$c(t).options.apiKey;e&&fr()&&(t.Sb=t.V.then(function(){if(!t.l){if(t.a=qu(e,n,$c(t).name),t.a.subscribe(t),Jc(t)&&dc(Jc(t)),t.D){dc(t.D);var r=t.D;r.pa(t.ea()),ac(r,t),sc(r=t.D,t.G),uc(r,t),t.D=null}return t.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.vc,this),this.u=0,Pe.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ea()},set:function(t){this.pa(t)},enumerable:!1}),t.W=null}(this),this.G=[]}function Kc(t){se.call(this,"languageCodeChanged"),this.g=t}function Qc(t){se.call(this,"frameworkChanged"),this.c=t}function Hc(t){return t.Sb||_t(new Br("auth-domain-config-required"))}function Gc(t,e){var n={};return n.apiKey=$c(t).options.apiKey,n.authDomain=$c(t).options.authDomain,n.appName=$c(t).name,t.V.then(function(){return function(t,e,n,r){var i=new oc(t,e);return n&&(i.ba=n),r&&sc(i,r),i.reload().then(function(){return i})}(n,e,t.w,t.ya())}).then(function(e){return Jc(t)&&e.uid==Jc(t).uid?(Tc(Jc(t),e),t.Z(e)):(Yc(t,e),dc(e),t.Z(e))}).then(function(){tl(t)})}function Yc(t,e){Jc(t)&&(function(t,e){F(t.N,function(t){return t==e})}(Jc(t),t.Ha),Te(Jc(t),"tokenChanged",t.ra),Te(Jc(t),"userDeleted",t.sa),Te(Jc(t),"userInvalidated",t.ta),fc(Jc(t))),e&&(e.N.push(t.Ha),be(e,"tokenChanged",t.ra),be(e,"userDeleted",t.sa),be(e,"userInvalidated",t.ta),0<t.u&&lc(e)),xr(t,"currentUser",e),e&&(e.pa(t.ea()),ac(e,t),sc(e,t.G),uc(e,t))}function Xc(t,e){var n=null,r=null;return el(t,e.then(function(e){return n=$i(e),r=mi(e),Gc(t,e)}).then(function(){return Pr({user:Jc(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function $c(t){return t.app}function Jc(t){return t.currentUser}function Zc(t){return Jc(t)&&Jc(t)._lat||null}function tl(t){if(t.X){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](Zc(t));if(t.O!==t.getUid()&&t.I.length)for(t.O=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e](Zc(t))}}function el(t,e){return t.N.push(e),e.ia(function(){U(t.N,e)}),e}function nl(){}function rl(){this.a={},this.b=1e12}Mc.prototype.nb=function(t){var e=null,n=this;return function(t){var e=new Br("invalid-persistence-type"),n=new Br("unsupported-persistence-type");t:{for(r in eu)if(eu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!==typeof t)throw e;switch(er()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!lr()&&"none"!==t)throw n}}(t),Wc(this,function(){return t!=n.c.A?n.b.get(n.c,n.a).then(function(r){return e=r,jc(n,t)}).then(function(){if(n.c=Fc(t),e)return n.b.set(n.c,e,n.a)}):St()})},T(zc,Pe),T(Kc,se),T(Qc,se),(t=zc.prototype).nb=function(t){return el(this,t=this.h.nb(t))},t.pa=function(t){this.W===t||this.l||(this.W=t,va(this.b,this.W),this.dispatchEvent(new Kc(this.ea())))},t.ea=function(){return this.W},t.Uc=function(){var t=n.navigator;this.pa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.vc=function(t){this.G.push(t),ga(this.b,r.a.SDK_VERSION?sr(r.a.SDK_VERSION,this.G):null),this.dispatchEvent(new Qc(this.G))},t.ya=function(){return q(this.G)},t.toJSON=function(){return{apiKey:$c(this).options.apiKey,authDomain:$c(this).options.authDomain,appName:$c(this).name,currentUser:Jc(this)&&Jc(this).C()}},t.wb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.ha=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.xa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.ac,this):null},t.ac=function(t,e,n){var r=this;t={requestUri:t,postBody:n,sessionId:e},this.c&&(this.c.cancel(),this.c=null);var i=null,o=null,a=ka(r.b,t).then(function(t){return i=$i(t),o=mi(t),t});return el(this,t=r.V.then(function(){return a}).then(function(t){return Gc(r,t)}).then(function(){return Pr({user:Jc(r),credential:i,additionalUserInfo:o,operationType:"signIn"})}))},t.Mc=function(t){if(!fr())return _t(new Br("operation-not-supported-in-this-environment"));var e=this,n=yi(t.providerId),i=gr(),o=null;(!dr()||Zn())&&$c(this).options.authDomain&&t.isOAuthProvider&&(o=Ts($c(this).options.authDomain,$c(this).options.apiKey,$c(this).name,"signInViaPopup",t,null,i,r.a.SDK_VERSION||null));var a=Gn(o,n&&n.Ba,n&&n.Aa);return el(this,n=Hc(this).then(function(e){return Uu(e,a,"signInViaPopup",t,i,!!o)}).then(function(){return new mt(function(t,n){e.ha("signInViaPopup",null,new Br("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=i,e.c=e.a.Ea(e,"signInViaPopup",a,i)})}).then(function(t){return a&&Hn(a),t?Pr(t):null}).s(function(t){throw a&&Hn(a),t}))},t.Nc=function(t){if(!fr())return _t(new Br("operation-not-supported-in-this-environment"));var e=this;return el(this,Hc(this).then(function(){return Wc(t=e.h,function(){return t.b.set(Uc,t.c.A,t.a)});var t}).then(function(){return e.a.Ca("signInViaRedirect",t)}))},t.fa=function(){if(!fr())return _t(new Br("operation-not-supported-in-this-environment"));var t=this;return el(this,Hc(this).then(function(){return t.a.fa()}).then(function(t){return t?Pr(t):null}))},t.Sc=function(t){if(!t)return _t(new Br("null-user"));var e=this,n={};n.apiKey=$c(this).options.apiKey,n.authDomain=$c(this).options.authDomain,n.appName=$c(this).name;var r=function(t,e,n,r){e=e||{apiKey:t.l,authDomain:t.u,appName:t.m};var i=t.h,o={};return o[ha]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-E())/1e3,e=new oc(e,o),n&&(e.ba=n),r&&sc(e,r),Tc(e,t),e}(t,n,e.w,e.ya());return el(this,this.i.then(function(){if($c(e).options.apiKey!=t.l)return r.reload()}).then(function(){return Jc(e)&&t.uid==Jc(e).uid?(Tc(Jc(e),t),e.Z(t)):(Yc(e,r),dc(r),e.Z(r))}).then(function(){tl(e)}))},t.ob=function(){var t=this;return el(this,this.i.then(function(){return Jc(t)?(Yc(t,null),qc(t.h).then(function(){tl(t)})):St()}))},t.Oc=function(){var t=this;return Bc(this.h,$c(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=Jc(t)&&e){n=Jc(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Tc(Jc(t),e),Jc(t).F();(Jc(t)||e)&&(Yc(t,e),e&&(dc(e),e.ba=t.w),t.a&&t.a.subscribe(t),tl(t))}})},t.Z=function(t){return Vc(this.h,t)},t.bc=function(){tl(this),this.Z(Jc(this))},t.mc=function(){this.ob()},t.nc=function(){this.ob()},t.oc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(Jc(e))})},t.pc=function(t){var e=this;!function(t,e){t.I.push(e),el(t,t.i.then(function(){!t.l&&j(t.I,e)&&t.O!==t.getUid()&&(t.O=t.getUid(),e(Zc(t)))}))}(this,function(){t.next(Jc(e))})},t.xc=function(t,e,n){var i=this;return this.X&&r.a.Promise.resolve().then(function(){p(t)?t(Jc(i)):p(t.next)&&t.next(Jc(i))}),this.Tb(t,e,n)},t.wc=function(t,e,n){var i=this;return this.X&&r.a.Promise.resolve().then(function(){i.O=i.getUid(),p(t)?t(Jc(i)):p(t.next)&&t.next(Jc(i))}),this.Ub(t,e,n)},t.cc=function(t){var e=this;return el(this,this.i.then(function(){return Jc(e)?Jc(e).F(t).then(function(t){return{accessToken:t}}):null}))},t.Nb=function(t){var e=this;return this.i.then(function(){return Xc(e,ss(e.b,ns,{token:t}))}).then(function(t){var n=t.user;return Ec(n,"isAnonymous",!1),e.Z(n),t})},t.Gc=function(t){return Or("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCustomToken is deprecated. Please use firebase.auth.Auth.prototype.signInWithCustomToken instead."),this.Nb(t)},t.Hc=function(t,e){return Or("firebase.auth.Auth.prototype.signInAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.signInWithEmailAndPassword instead."),this.Ob(t,e)},t.Ob=function(t,e){var n=this;return this.i.then(function(){return Xc(n,ss(n.b,rs,{email:t,password:e}))})},t.yb=function(t,e){var n=this;return this.i.then(function(){return Xc(n,ss(n.b,Ma,{email:t,password:e}))})},t.Wb=function(t,e){return Or("firebase.auth.Auth.prototype.createUserAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.createUserWithEmailAndPassword instead."),this.yb(t,e)},t.Jc=function(t){return Or("firebase.auth.Auth.prototype.signInWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential instead."),this.Qa(t).then(function(t){return t.user})},t.Qa=function(t){var e=this;return this.i.then(function(){return Xc(e,t.la(e.b))})},t.Ra=function(){var t=this;return this.i.then(function(){var e=Jc(t);if(e&&e.isAnonymous){var n=Pr({providerId:null,isNewUser:!1});return Pr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Xc(t,t.b.Ra()).then(function(e){var n=e.user;return Ec(n,"isAnonymous",!0),t.Z(n),e})})},t.Ic=function(){return Or("firebase.auth.Auth.prototype.signInAnonymouslyAndRetrieveData is deprecated. Please use firebase.auth.Auth.prototype.signInAnonymously instead."),this.Ra()},t.getUid=function(){return Jc(this)&&Jc(this).uid||null},t.Vb=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&Jc(this)&&lc(Jc(this))},t.Ec=function(t){var e=this;R(this.m,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&Jc(this)&&fc(Jc(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),el(this,this.i.then(function(){e.l||j(e.m,t)&&t(Zc(e))}))},t.removeAuthTokenListener=function(t){F(this.m,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel("app-deleted");return this.N=[],this.h&&(t=this.h).b.removeListener(Fc("local"),t.a,this.ka),this.a&&(this.a.unsubscribe(this),this.a.Za()),r.a.Promise.resolve()},t.Zb=function(t){return Or("firebase.auth.Auth.prototype.fetchProvidersForEmail is deprecated. Please use firebase.auth.Auth.prototype.fetchSignInMethodsForEmail instead."),el(this,function(t,e){return ss(t,ja,{identifier:e,continueUri:hr()?zn():"http://localhost"}).then(function(t){return t.allProviders||[]})}(this.b,t))},t.$b=function(t){return el(this,function(t,e){return ss(t,ja,{identifier:e,continueUri:hr()?zn():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.b,t))},t.qc=function(t){return!!Qi(t)},t.mb=function(t,e){var n=this;return el(this,St().then(function(){var t=new Qr(e);if(!t.c)throw new Br("argument-error",Yr+" must be true when sending sign in link to email");return ni(t)}).then(function(e){return n.b.mb(t,e)}).then(function(){}))},t.Vc=function(t){return this.Ja(t).then(function(t){return t.data.email})},t.$a=function(t,e){return el(this,this.b.$a(t,e).then(function(){}))},t.Ja=function(t){return el(this,this.b.Ja(t).then(function(t){return new Nr(t)}))},t.Xa=function(t){return el(this,this.b.Xa(t).then(function(){}))},t.lb=function(t,e){var n=this;return el(this,St().then(function(){return"undefined"===typeof e||rt(e)?{}:ni(new Qr(e))}).then(function(e){return n.b.lb(t,e)}).then(function(){}))},t.Lc=function(t,e){return el(this,Yu(this,t,e,b(this.Qa,this)))},t.Kc=function(t,e){var n=this;return el(this,St().then(function(){var r=Ki(t,e||zn());return n.Qa(r)}))},nl.prototype.render=function(){},nl.prototype.reset=function(){},nl.prototype.getResponse=function(){},nl.prototype.execute=function(){};var il=null;function ol(t,e){return(e=al(e))&&t.a[e]||null}function al(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function sl(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Nn(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():be(this.f,"click",this.i)}function ul(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function cl(){}rl.prototype.render=function(t,e){return this.a[this.b.toString()]=new sl(t,e),this.b++},rl.prototype.reset=function(t){var e=ol(this,t);t=al(t),e&&t&&(e.delete(),delete this.a[t])},rl.prototype.getResponse=function(t){return(t=ol(this,t))?t.getResponse():null},rl.prototype.execute=function(t){(t=ol(this,t))&&t.execute()},sl.prototype.getResponse=function(){return ul(this),this.b},sl.prototype.execute=function(){ul(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},sl.prototype.delete=function(){ul(this),this.g=!0,clearTimeout(this.a),this.a=null,Te(this.f,"click",this.i)},cl.prototype.g=function(){return il||(il=new rl),St(il)},cl.prototype.c=function(){};var ll=null;function fl(){this.b=n.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var hl=new dn(vn,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),pl=new Er(3e4,6e4);fl.prototype.g=function(t){var e=this;return new mt(function(r,i){var o=setTimeout(function(){i(new Br("network-request-failed"))},pl.get());!n.grecaptcha||t!==e.f&&!e.b?(n[e.a]=function(){if(n.grecaptcha){e.f=t;var a=n.grecaptcha.render;n.grecaptcha.render=function(t,n){return t=a(t,n),e.b++,t},clearTimeout(o),r(n.grecaptcha)}else clearTimeout(o),i(new Br("internal-error"));delete n[e.a]},St(ra(wn(hl,{onload:e.a,hl:t||""}))).s(function(){clearTimeout(o),i(new Br("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(o),r(n.grecaptcha))})},fl.prototype.c=function(){this.b--};var dl=null;function yl(t,e,r,i,o,a,s){if(xr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.l=e,this.g=null,s?(ll||(ll=new cl),s=ll):(dl||(dl=new fl),s=dl),this.m=s,this.a=r||{theme:"light",type:"image"},this.h=[],this.a[gl])throw new Br("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[bl],!n.document)throw new Br("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Nn(e)||!this.i&&Nn(e).hasChildNodes())throw new Br("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new la(t,a||null,o||null),this.v=i||function(){return null};var u=this;this.o=[];var c=this.a[ml];this.a[ml]=function(t){if(wl(u,t),"function"===typeof c)c(t);else if("string"===typeof c){var e=cr(c,n);"function"===typeof e&&e(t)}};var l=this.a[vl];this.a[vl]=function(){if(wl(u,null),"function"===typeof l)l();else if("string"===typeof l){var t=cr(l,n);"function"===typeof t&&t()}}}var ml="callback",vl="expired-callback",gl="sitekey",bl="size";function wl(t,e){for(var n=0;n<t.o.length;n++)try{t.o[n](e)}catch(r){}}function El(t,e){return t.h.push(e),e.ia(function(){U(t.h,e)}),e}function Tl(t){if(t.D)throw new Br("internal-error","RecaptchaVerifier instance has been destroyed.")}function Sl(t,e,n){var i=!1;try{this.b=n||r.a.app()}catch(s){throw new Br("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Br("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().ya()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=r.a.SDK_VERSION?sr(r.a.SDK_VERSION,a):null,yl.call(this,n,t,e,function(){try{var t=o.b.auth().ea()}catch(e){t=null}return t},a,fi(ci),i)}function _l(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new Br("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Il.length)throw new Br("internal-error","Argument validator received an unsupported number of arguments.");n=Il[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new Br("argument-error",t+" failed: "+r)}(t=yl.prototype).za=function(){var t=this;return this.f?this.f:this.f=El(this,St().then(function(){if(hr()&&!tr())return $n();throw new Br("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.v())}).then(function(e){return t.g=e,ss(t.u,Ha,{})}).then(function(e){t.a[gl]=e.recaptchaSiteKey}).s(function(e){throw t.f=null,e}))},t.render=function(){Tl(this);var t=this;return El(this,this.za().then(function(){if(null===t.c){var e=t.l;if(!t.i){var n=Nn(e);e=Mn("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Tl(this);var t=this;return El(this,this.render().then(function(e){return new mt(function(n){var r=t.g.getResponse(e);if(r)n(r);else{t.o.push(function e(r){r&&(function(t,e){F(t.o,function(t){return t==e})}(t,e),n(r))}),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Tl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Tl(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=Nn(this.l);for(var e;e=t.firstChild;)t.removeChild(e)}},T(Sl,yl);var Il="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Al(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:i}}function Ol(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:o}}function Cl(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:d}}function xl(t,e){return{name:t||"",K:"a function",optional:!!e,M:p}}function kl(t,e){return{name:t||"",K:"null",optional:!!e,M:l}}function Pl(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.la||!n)}}}function Dl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!!(t&&i(t.type)&&p(t.verify))}}}function Nl(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Rl(t,e){for(var n in e){var r=e[n].name;t[r]=jl(r,t[n],e[n].j)}}function Ll(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w(function(t){return this[t]},n),set:w(function(t,e,n,r){_l(t,[n],[r],!0),this[e]=r},r,n,e[n].ub),enumerable:!0})}}function Ml(t,e,n,r){t[e]=jl(e,n,r)}function jl(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return _l(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Rl(zc.prototype,{Xa:{name:"applyActionCode",j:[Al("code")]},Ja:{name:"checkActionCode",j:[Al("code")]},$a:{name:"confirmPasswordReset",j:[Al("code"),Al("newPassword")]},yb:{name:"createUserWithEmailAndPassword",j:[Al("email"),Al("password")]},Wb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[Al("email"),Al("password")]},Zb:{name:"fetchProvidersForEmail",j:[Al("email")]},$b:{name:"fetchSignInMethodsForEmail",j:[Al("email")]},fa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[Al("emailLink")]},wc:{name:"onAuthStateChanged",j:[Nl(Cl(),xl(),"nextOrObserver"),xl("opt_error",!0),xl("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[Nl(Cl(),xl(),"nextOrObserver"),xl("opt_error",!0),xl("opt_completed",!0)]},lb:{name:"sendPasswordResetEmail",j:[Al("email"),Nl(Cl("opt_actionCodeSettings",!0),kl(null,!0),"opt_actionCodeSettings",!0)]},mb:{name:"sendSignInLinkToEmail",j:[Al("email"),Cl("actionCodeSettings")]},nb:{name:"setPersistence",j:[Al("persistence")]},Qa:{name:"signInAndRetrieveDataWithCredential",j:[Pl()]},Ra:{name:"signInAnonymously",j:[]},Ic:{name:"signInAnonymouslyAndRetrieveData",j:[]},Jc:{name:"signInWithCredential",j:[Pl()]},Nb:{name:"signInWithCustomToken",j:[Al("token")]},Gc:{name:"signInAndRetrieveDataWithCustomToken",j:[Al("token")]},Ob:{name:"signInWithEmailAndPassword",j:[Al("email"),Al("password")]},Kc:{name:"signInWithEmailLink",j:[Al("email"),Al("emailLink",!0)]},Hc:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[Al("email"),Al("password")]},Lc:{name:"signInWithPhoneNumber",j:[Al("phoneNumber"),Dl()]},Mc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Sc:{name:"updateCurrentUser",j:[Nl({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof oc)}},kl(),"user")]},ob:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Al(null,!0)]},Uc:{name:"useDeviceLanguage",j:[]},Vc:{name:"verifyPasswordResetCode",j:[Al("code")]}}),Ll(zc.prototype,{lc:{name:"languageCode",ub:Nl(Al(),kl(),"languageCode")}}),zc.Persistence=eu,zc.Persistence.LOCAL="local",zc.Persistence.SESSION="session",zc.Persistence.NONE="none",Rl(oc.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[Ol("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[Ol("opt_forceRefresh",!0)]},fb:{name:"linkAndRetrieveDataWithCredential",j:[Pl()]},rc:{name:"linkWithCredential",j:[Pl()]},sc:{name:"linkWithPhoneNumber",j:[Al("phoneNumber"),Dl()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},hb:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Pl()]},Ac:{name:"reauthenticateWithCredential",j:[Pl()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[Al("phoneNumber"),Dl()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},kb:{name:"sendEmailVerification",j:[Nl(Cl("opt_actionCodeSettings",!0),kl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Al(null,!0)]},Rc:{name:"unlink",j:[Al("provider")]},qb:{name:"updateEmail",j:[Al("email")]},rb:{name:"updatePassword",j:[Al("password")]},Tc:{name:"updatePhoneNumber",j:[Pl("phone")]},sb:{name:"updateProfile",j:[Cl("profile")]}}),Rl(rl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Rl(nl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Rl(mt.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Ll(Hu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",ub:Ol("appVerificationDisabledForTesting")}}),Rl(Gu.prototype,{confirm:{name:"confirm",j:[Al("verificationCode")]}}),Ml(zi,"credential",function(t,e){return new Wi(t,e)},[Al("email"),Al("password")]),Rl(Li.prototype,{ua:{name:"addScope",j:[Al("scope")]},Da:{name:"setCustomParameters",j:[Cl("customOAuthParameters")]}}),Ml(Li,"credential",Mi,[Nl(Al(),Cl(),"token")]),Ml(zi,"credentialWithLink",Ki,[Al("email"),Al("emailLink")]),Rl(ji.prototype,{ua:{name:"addScope",j:[Al("scope")]},Da:{name:"setCustomParameters",j:[Cl("customOAuthParameters")]}}),Ml(ji,"credential",Ui,[Nl(Al(),Cl(),"token")]),Rl(Fi.prototype,{ua:{name:"addScope",j:[Al("scope")]},Da:{name:"setCustomParameters",j:[Cl("customOAuthParameters")]}}),Ml(Fi,"credential",Vi,[Nl(Al(),Nl(Cl(),kl()),"idToken"),Nl(Al(),kl(),"accessToken",!0)]),Rl(qi.prototype,{Da:{name:"setCustomParameters",j:[Cl("customOAuthParameters")]}}),Ml(qi,"credential",Bi,[Nl(Al(),Cl(),"token"),Al("secret",!0)]),Rl(Ri.prototype,{ua:{name:"addScope",j:[Al("scope")]},credential:{name:"credential",j:[Nl(Al(),kl(),"idToken",!0),Nl(Al(),kl(),"accessToken",!0),Nl(Al(),kl(),"nonce",!0)]},Da:{name:"setCustomParameters",j:[Cl("customOAuthParameters")]}}),Ml(Yi,"credential",Xi,[Al("verificationId"),Al("verificationCode")]),Rl(Yi.prototype,{Va:{name:"verifyPhoneNumber",j:[Al("phoneNumber"),Dl()]}}),Rl(Br.prototype,{toJSON:{name:"toJSON",j:[Al(null,!0)]}}),Rl(oo.prototype,{toJSON:{name:"toJSON",j:[Al(null,!0)]}}),Rl(io.prototype,{toJSON:{name:"toJSON",j:[Al(null,!0)]}}),Rl(Sl.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if("undefined"===typeof r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:zc,Error:Br};Ml(t,"EmailAuthProvider",zi,[]),Ml(t,"FacebookAuthProvider",Li,[]),Ml(t,"GithubAuthProvider",ji,[]),Ml(t,"GoogleAuthProvider",Fi,[]),Ml(t,"TwitterAuthProvider",qi,[]),Ml(t,"OAuthProvider",Ri,[Al("providerId")]),Ml(t,"SAMLAuthProvider",Ni,[Al("providerId")]),Ml(t,"PhoneAuthProvider",Yi,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof zc)}}]),Ml(t,"RecaptchaVerifier",Sl,[Nl(Al(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Cl("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r.a.app.App)}}]),r.a.INTERNAL.registerService("auth",function(t,e){return e({INTERNAL:{getUid:b((t=new zc(t)).getUid,t),getToken:b(t.cc,t),addAuthTokenListener:b(t.Vb,t),removeAuthTokenListener:b(t.Ec,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(n){}}),r.a.INTERNAL.extendNamespace({User:oc})}()}).apply("undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n(29))}]]);
//# sourceMappingURL=2.e3cfef93.chunk.js.map